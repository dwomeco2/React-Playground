import{R as E,r as v,j as p}from"./index-a8a87472.js";import{z as O}from"./index-45b59163.js";let ze=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");var Se={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ae=E.createContext&&E.createContext(Se),I=globalThis&&globalThis.__assign||function(){return I=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},I.apply(this,arguments)},We=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function Oe(t){return t&&t.map(function(e,r){return E.createElement(e.tag,I({key:r},e.attr),Oe(e.child))})}function Te(t){return function(e){return E.createElement(Ye,I({attr:I({},t.attr)},e),Oe(t.child))}}function Ye(t){var e=function(r){var n=t.attr,i=t.size,o=t.title,s=We(t,["attr","size","title"]),a=i||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),E.createElement("svg",I({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,s,{className:c,style:I(I({color:t.color||r.color},r.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&E.createElement("title",null,o),t.children)};return ae!==void 0?E.createElement(ae.Consumer,null,function(r){return e(r)}):e(Se)}function Xe(t){return Te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M18.319 14.4326C20.7628 11.2941 20.542 6.75347 17.6569 3.86829C14.5327 0.744098 9.46734 0.744098 6.34315 3.86829C3.21895 6.99249 3.21895 12.0578 6.34315 15.182C9.22833 18.0672 13.769 18.2879 16.9075 15.8442C16.921 15.8595 16.9351 15.8745 16.9497 15.8891L21.1924 20.1317C21.5829 20.5223 22.2161 20.5223 22.6066 20.1317C22.9971 19.7412 22.9971 19.1081 22.6066 18.7175L18.364 14.4749C18.3493 14.4603 18.3343 14.4462 18.319 14.4326ZM16.2426 5.28251C18.5858 7.62565 18.5858 11.4246 16.2426 13.7678C13.8995 16.1109 10.1005 16.1109 7.75736 13.7678C5.41421 11.4246 5.41421 7.62565 7.75736 5.28251C10.1005 2.93936 13.8995 2.93936 16.2426 5.28251Z",fill:"currentColor"}}]})(t)}function Ke(t){return Te({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(t)}const we=v.createContext({dragDropManager:void 0});function w(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var ce=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),q=function(){return Math.random().toString(36).substring(7).split("").join(".")},ue={INIT:"@@redux/INIT"+q(),REPLACE:"@@redux/REPLACE"+q(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+q()}};function Ze(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function be(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(w(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(w(1));return r(be)(t,e)}if(typeof t!="function")throw new Error(w(2));var i=t,o=e,s=[],a=s,c=!1;function u(){a===s&&(a=s.slice())}function d(){if(c)throw new Error(w(3));return o}function f(m){if(typeof m!="function")throw new Error(w(4));if(c)throw new Error(w(5));var y=!0;return u(),a.push(m),function(){if(y){if(c)throw new Error(w(6));y=!1,u();var T=a.indexOf(m);a.splice(T,1),s=null}}}function h(m){if(!Ze(m))throw new Error(w(7));if(typeof m.type>"u")throw new Error(w(8));if(c)throw new Error(w(9));try{c=!0,o=i(o,m)}finally{c=!1}for(var y=s=a,S=0;S<y.length;S++){var T=y[S];T()}return m}function l(m){if(typeof m!="function")throw new Error(w(10));i=m,h({type:ue.REPLACE})}function D(){var m,y=f;return m={subscribe:function(T){if(typeof T!="object"||T===null)throw new Error(w(11));function C(){T.next&&T.next(d())}C();var F=y(C);return{unsubscribe:F}}},m[ce]=function(){return this},m}return h({type:ue.INIT}),n={dispatch:h,subscribe:f,getState:d,replaceReducer:l},n[ce]=D,n}function g(t,e,...r){if(Qe()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;n=new Error(e.replace(/%s/g,function(){return r[i++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function Qe(){return typeof process<"u"&&process.env.NODE_ENV==="production"}function Je(t,e,r){return e.split(".").reduce((n,i)=>n&&n[i]?n[i]:r||null,t)}function et(t,e){return t.filter(r=>r!==e)}function Ie(t){return typeof t=="object"}function tt(t,e){const r=new Map,n=o=>{r.set(o,r.has(o)?r.get(o)+1:1)};t.forEach(n),e.forEach(n);const i=[];return r.forEach((o,s)=>{o===1&&i.push(s)}),i}function rt(t,e){return t.filter(r=>e.indexOf(r)>-1)}const ee="dnd-core/INIT_COORDS",j="dnd-core/BEGIN_DRAG",te="dnd-core/PUBLISH_DRAG_SOURCE",L="dnd-core/HOVER",A="dnd-core/DROP",k="dnd-core/END_DRAG";function le(t,e){return{type:ee,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const nt={type:ee,payload:{clientOffset:null,sourceClientOffset:null}};function it(t){return function(r=[],n={publishSource:!0}){const{publishSource:i=!0,clientOffset:o,getSourceClientOffset:s}=n,a=t.getMonitor(),c=t.getRegistry();t.dispatch(le(o)),ot(r,a,c);const u=ct(r,a);if(u==null){t.dispatch(nt);return}let d=null;if(o){if(!s)throw new Error("getSourceClientOffset must be defined");st(s),d=s(u)}t.dispatch(le(o,d));const h=c.getSource(u).beginDrag(a,u);if(h==null)return;at(h),c.pinSource(u);const l=c.getSourceType(u);return{type:j,payload:{itemType:l,item:h,sourceId:u,clientOffset:o||null,sourceClientOffset:d||null,isSourcePublic:!!i}}}}function ot(t,e,r){g(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(n){g(r.getSource(n),"Expected sourceIds to be registered.")})}function st(t){g(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function at(t){g(Ie(t),"Item must be an object.")}function ct(t,e){let r=null;for(let n=t.length-1;n>=0;n--)if(e.canDragSource(t[n])){r=t[n];break}return r}function ut(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){ut(t,i,r[i])})}return t}function dt(t){return function(r={}){const n=t.getMonitor(),i=t.getRegistry();gt(n),pt(n).forEach((s,a)=>{const c=ft(s,a,i,n),u={type:A,payload:{dropResult:lt({},r,c)}};t.dispatch(u)})}}function gt(t){g(t.isDragging(),"Cannot call drop while not dragging."),g(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function ft(t,e,r,n){const i=r.getTarget(t);let o=i?i.drop(n,t):void 0;return ht(o),typeof o>"u"&&(o=e===0?{}:n.getDropResult()),o}function ht(t){g(typeof t>"u"||Ie(t),"Drop result must either be an object or undefined.")}function pt(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function vt(t){return function(){const r=t.getMonitor(),n=t.getRegistry();mt(r);const i=r.getSourceId();return i!=null&&(n.getSource(i,!0).endDrag(r,i),n.unpinSource()),{type:k}}}function mt(t){g(t.isDragging(),"Cannot call endDrag while not dragging.")}function W(t,e){return e===null?t===null:Array.isArray(t)?t.some(r=>r===e):t===e}function Dt(t){return function(r,{clientOffset:n}={}){yt(r);const i=r.slice(0),o=t.getMonitor(),s=t.getRegistry(),a=o.getItemType();return Ot(i,s,a),St(i,o,s),Tt(i,o,s),{type:L,payload:{targetIds:i,clientOffset:n||null}}}}function yt(t){g(Array.isArray(t),"Expected targetIds to be an array.")}function St(t,e,r){g(e.isDragging(),"Cannot call hover while not dragging."),g(!e.didDrop(),"Cannot call hover after drop.");for(let n=0;n<t.length;n++){const i=t[n];g(t.lastIndexOf(i)===n,"Expected targetIds to be unique in the passed array.");const o=r.getTarget(i);g(o,"Expected targetIds to be registered.")}}function Ot(t,e,r){for(let n=t.length-1;n>=0;n--){const i=t[n],o=e.getTargetType(i);W(o,r)||t.splice(n,1)}}function Tt(t,e,r){t.forEach(function(n){r.getTarget(n).hover(e,n)})}function wt(t){return function(){if(t.getMonitor().isDragging())return{type:te}}}function bt(t){return{beginDrag:it(t),publishDragSource:wt(t),hover:Dt(t),drop:dt(t),endDrag:vt(t)}}class It{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:r}=this.store;function n(o){return(...s)=>{const a=o.apply(e,s);typeof a<"u"&&r(a)}}const i=bt(this);return Object.keys(i).reduce((o,s)=>{const a=i[s];return o[s]=n(a),o},{})}dispatch(e){this.store.dispatch(e)}constructor(e,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}}function Ct(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Ce(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Et(t){const{clientOffset:e,initialClientOffset:r,initialSourceClientOffset:n}=t;return!e||!r||!n?null:Ce(Ct(e,n),r)}function xt(t){const{clientOffset:e,initialClientOffset:r}=t;return!e||!r?null:Ce(e,r)}const R=[],re=[];R.__IS_NONE__=!0;re.__IS_ALL__=!0;function Nt(t,e){return t===R?!1:t===re||typeof e>"u"?!0:rt(e,t).length>0}class Pt{subscribeToStateChange(e,r={}){const{handlerIds:n}=r;g(typeof e=="function","listener must be a function."),g(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let i=this.store.getState().stateId;const o=()=>{const s=this.store.getState(),a=s.stateId;try{a===i||a===i+1&&!Nt(s.dirtyHandlerIds,n)||e()}finally{i=a}};return this.store.subscribe(o)}subscribeToOffsetChange(e){g(typeof e=="function","listener must be a function.");let r=this.store.getState().dragOffset;const n=()=>{const i=this.store.getState().dragOffset;i!==r&&(r=i,e())};return this.store.subscribe(n)}canDragSource(e){if(!e)return!1;const r=this.registry.getSource(e);return g(r,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:r.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const r=this.registry.getTarget(e);if(g(r,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),i=this.getItemType();return W(n,i)&&r.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const r=this.registry.getSource(e,!0);if(g(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(e),i=this.getItemType();return n!==i?!1:r.isDragging(this,e)}isOverTarget(e,r={shallow:!1}){if(!e)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const i=this.registry.getTargetType(e),o=this.getItemType();if(o&&!W(i,o))return!1;const s=this.getTargetIds();if(!s.length)return!1;const a=s.indexOf(e);return n?a===s.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Et(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return xt(this.store.getState().dragOffset)}constructor(e,r){this.store=e,this.registry=r}}const de=typeof global<"u"?global:self,Ee=de.MutationObserver||de.WebKitMutationObserver;function xe(t){return function(){const r=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(r),clearInterval(n),t()}}}function Rt(t){let e=1;const r=new Ee(t),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const Mt=typeof Ee=="function"?Rt:xe;class _t{enqueueTask(e){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const r=this.index;if(this.index++,e[r].call(),this.index>this.capacity){for(let n=0,i=e.length-this.index;n<i;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=Mt(this.flush),this.requestErrorThrow=xe(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class jt{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}}class Lt{create(e){const r=this.freeTasks,n=r.length?r.pop():new jt(this.onError,i=>r[r.length]=i);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const Ne=new _t,At=new Lt(Ne.registerPendingError);function kt(t){Ne.enqueueTask(At.create(t))}const ne="dnd-core/ADD_SOURCE",ie="dnd-core/ADD_TARGET",oe="dnd-core/REMOVE_SOURCE",H="dnd-core/REMOVE_TARGET";function Ht(t){return{type:ne,payload:{sourceId:t}}}function Ut(t){return{type:ie,payload:{targetId:t}}}function Ft(t){return{type:oe,payload:{sourceId:t}}}function qt(t){return{type:H,payload:{targetId:t}}}function $t(t){g(typeof t.canDrag=="function","Expected canDrag to be a function."),g(typeof t.beginDrag=="function","Expected beginDrag to be a function."),g(typeof t.endDrag=="function","Expected endDrag to be a function.")}function Gt(t){g(typeof t.canDrop=="function","Expected canDrop to be a function."),g(typeof t.hover=="function","Expected hover to be a function."),g(typeof t.drop=="function","Expected beginDrag to be a function.")}function Y(t,e){if(e&&Array.isArray(t)){t.forEach(r=>Y(r,!1));return}g(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var b;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(b||(b={}));let Bt=0;function Vt(){return Bt++}function zt(t){const e=Vt().toString();switch(t){case b.SOURCE:return`S${e}`;case b.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function ge(t){switch(t[0]){case"S":return b.SOURCE;case"T":return b.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function fe(t,e){const r=t.entries();let n=!1;do{const{done:i,value:[,o]}=r.next();if(o===e)return!0;n=!!i}while(!n);return!1}class Wt{addSource(e,r){Y(e),$t(r);const n=this.addHandler(b.SOURCE,e,r);return this.store.dispatch(Ht(n)),n}addTarget(e,r){Y(e,!0),Gt(r);const n=this.addHandler(b.TARGET,e,r);return this.store.dispatch(Ut(n)),n}containsHandler(e){return fe(this.dragSources,e)||fe(this.dropTargets,e)}getSource(e,r=!1){return g(this.isSourceId(e),"Expected a valid source ID."),r&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return g(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return g(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return g(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return ge(e)===b.SOURCE}isTargetId(e){return ge(e)===b.TARGET}removeSource(e){g(this.getSource(e),"Expected an existing source."),this.store.dispatch(Ft(e)),kt(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){g(this.getTarget(e),"Expected an existing target."),this.store.dispatch(qt(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const r=this.getSource(e);g(r,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=r}unpinSource(){g(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,r,n){const i=zt(e);return this.types.set(i,r),e===b.SOURCE?this.dragSources.set(i,n):e===b.TARGET&&this.dropTargets.set(i,n),i}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const Yt=(t,e)=>t===e;function Xt(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function Kt(t,e,r=Yt){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!r(t[n],e[n]))return!1;return!0}function Zt(t=R,e){switch(e.type){case L:break;case ne:case ie:case H:case oe:return R;case j:case te:case k:case A:default:return re}const{targetIds:r=[],prevTargetIds:n=[]}=e.payload,i=tt(r,n);if(!(i.length>0||!Kt(r,n)))return R;const s=n[n.length-1],a=r[r.length-1];return s!==a&&(s&&i.push(s),a&&i.push(a)),i}function Qt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Qt(t,i,r[i])})}return t}const he={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function er(t=he,e){const{payload:r}=e;switch(e.type){case ee:case j:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case L:return Xt(t.clientOffset,r.clientOffset)?t:Jt({},t,{clientOffset:r.clientOffset});case k:case A:return he;default:return t}}function tr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){tr(t,i,r[i])})}return t}const rr={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function nr(t=rr,e){const{payload:r}=e;switch(e.type){case j:return N({},t,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case te:return N({},t,{isSourcePublic:!0});case L:return N({},t,{targetIds:r.targetIds});case H:return t.targetIds.indexOf(r.targetId)===-1?t:N({},t,{targetIds:et(t.targetIds,r.targetId)});case A:return N({},t,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case k:return N({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function ir(t=0,e){switch(e.type){case ne:case ie:return t+1;case oe:case H:return t-1;default:return t}}function or(t=0){return t+1}function sr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){sr(t,i,r[i])})}return t}function cr(t={},e){return{dirtyHandlerIds:Zt(t.dirtyHandlerIds,{type:e.type,payload:ar({},e.payload,{prevTargetIds:Je(t,"dragOperation.targetIds",[])})}),dragOffset:er(t.dragOffset,e),refCount:ir(t.refCount,e),dragOperation:nr(t.dragOperation,e),stateId:or(t.stateId)}}function ur(t,e=void 0,r={},n=!1){const i=lr(n),o=new Pt(i,new Wt(i)),s=new It(i,o),a=t(s,e,r);return s.receiveBackend(a),s}function lr(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return be(cr,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function dr(t,e){if(t==null)return{};var r=gr(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gr(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}let pe=0;const _=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var fr=v.memo(function(e){var{children:r}=e,n=dr(e,["children"]);const[i,o]=hr(n);return v.useEffect(()=>{if(o){const s=Pe();return++pe,()=>{--pe===0&&(s[_]=null)}}},[]),p.jsx(we.Provider,{value:i,children:r})});function hr(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=pr(t.backend,t.context,t.options,t.debugMode),r=!t.context;return[e,r]}function pr(t,e=Pe(),r,n){const i=e;return i[_]||(i[_]={dragDropManager:ur(t,e,r,n)}),i[_]}function Pe(){return typeof global<"u"?global:window}var vr=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r};const x=typeof window<"u"?v.useLayoutEffect:v.useEffect;function mr(t,e,r){const[n,i]=v.useState(()=>e(t)),o=v.useCallback(()=>{const s=e(t);vr(n,s)||(i(s),r&&r())},[n,t,r]);return x(o),[n,o]}function Dr(t,e,r){const[n,i]=mr(t,e,r);return x(function(){const s=t.getHandlerId();if(s!=null)return t.subscribeToStateChange(i,{handlerIds:[s]})},[t,i]),n}function Re(t,e,r){return Dr(e,t||(()=>({})),()=>r.reconnect())}function Me(t,e){const r=[...e||[]];return e==null&&typeof t!="function"&&r.push(t),v.useMemo(()=>typeof t=="function"?t():t,r)}function yr(t){return v.useMemo(()=>t.hooks.dragSource(),[t])}function Sr(t){return v.useMemo(()=>t.hooks.dragPreview(),[t])}let $=!1,G=!1;class Or{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){g(!$,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return $=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{$=!1}}isDragging(){if(!this.sourceId)return!1;g(!G,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return G=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{G=!1}}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,r){return this.internalMonitor.isOverTarget(e,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let B=!1;class Tr{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}canDrop(){if(!this.targetId)return!1;g(!B,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return B=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{B=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function wr(t,e,r){const n=r.getRegistry(),i=n.addTarget(t,e);return[i,()=>n.removeTarget(i)]}function br(t,e,r){const n=r.getRegistry(),i=n.addSource(t,e);return[i,()=>n.removeSource(i)]}function X(t,e,r,n){let i=r?r.call(n,t,e):void 0;if(i!==void 0)return!!i;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const o=Object.keys(t),s=Object.keys(e);if(o.length!==s.length)return!1;const a=Object.prototype.hasOwnProperty.bind(e);for(let c=0;c<o.length;c++){const u=o[c];if(!a(u))return!1;const d=t[u],f=e[u];if(i=r?r.call(n,d,f,u):void 0,i===!1||i===void 0&&d!==f)return!1}return!0}function K(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Ir(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function Cr(t){return(e=null,r=null)=>{if(!v.isValidElement(e)){const o=e;return t(o,r),o}const n=e;return Ir(n),Er(n,r?o=>t(o,r):t)}}function _e(t){const e={};return Object.keys(t).forEach(r=>{const n=t[r];if(r.endsWith("Ref"))e[r]=t[r];else{const i=Cr(n);e[r]=()=>i}}),e}function ve(t,e){typeof t=="function"?t(e):t.current=e}function Er(t,e){const r=t.ref;return g(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?v.cloneElement(t,{ref:n=>{ve(r,n),ve(e,n)}}):v.cloneElement(t,{ref:e})}class xr{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?e?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),r):(this.lastConnectedDragSource=e,r):r}reconnectDragPreview(e=!1){const r=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!X(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!X(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=_e({dragSource:(r,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,K(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,K(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class Nr{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!X(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=_e({dropTarget:(r,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,K(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function P(){const{dragDropManager:t}=v.useContext(we);return g(t!=null,"Expected drag drop context"),t}function Pr(t,e){const r=P(),n=v.useMemo(()=>new xr(r.getBackend()),[r]);return x(()=>(n.dragSourceOptions=t||null,n.reconnect(),()=>n.disconnectDragSource()),[n,t]),x(()=>(n.dragPreviewOptions=e||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,e]),n}function Rr(){const t=P();return v.useMemo(()=>new Or(t),[t])}class Mr{beginDrag(){const e=this.spec,r=this.monitor;let n=null;return typeof e.item=="object"?n=e.item:typeof e.item=="function"?n=e.item(r):n={},n??null}canDrag(){const e=this.spec,r=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(r):!0}isDragging(e,r){const n=this.spec,i=this.monitor,{isDragging:o}=n;return o?o(i):r===e.getSourceId()}endDrag(){const e=this.spec,r=this.monitor,n=this.connector,{end:i}=e;i&&i(r.getItem(),r),n.reconnect()}constructor(e,r,n){this.spec=e,this.monitor=r,this.connector=n}}function _r(t,e,r){const n=v.useMemo(()=>new Mr(t,e,r),[e,r]);return v.useEffect(()=>{n.spec=t},[t]),n}function jr(t){return v.useMemo(()=>{const e=t.type;return g(e!=null,"spec.type must be defined"),e},[t])}function Lr(t,e,r){const n=P(),i=_r(t,e,r),o=jr(t);x(function(){if(o!=null){const[a,c]=br(o,i,n);return e.receiveHandlerId(a),r.receiveHandlerId(a),c}},[n,e,r,i,o])}function Ar(t,e){const r=Me(t,e);g(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=Rr(),i=Pr(r.options,r.previewOptions);return Lr(r,n,i),[Re(r.collect,n,i),yr(i),Sr(i)]}function kr(t){return v.useMemo(()=>t.hooks.dropTarget(),[t])}function Hr(t){const e=P(),r=v.useMemo(()=>new Nr(e.getBackend()),[e]);return x(()=>(r.dropTargetOptions=t||null,r.reconnect(),()=>r.disconnectDropTarget()),[t]),r}function Ur(){const t=P();return v.useMemo(()=>new Tr(t),[t])}function Fr(t){const{accept:e}=t;return v.useMemo(()=>(g(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class qr{canDrop(){const e=this.spec,r=this.monitor;return e.canDrop?e.canDrop(r.getItem(),r):!0}hover(){const e=this.spec,r=this.monitor;e.hover&&e.hover(r.getItem(),r)}drop(){const e=this.spec,r=this.monitor;if(e.drop)return e.drop(r.getItem(),r)}constructor(e,r){this.spec=e,this.monitor=r}}function $r(t,e){const r=v.useMemo(()=>new qr(t,e),[e]);return v.useEffect(()=>{r.spec=t},[t]),r}function Gr(t,e,r){const n=P(),i=$r(t,e),o=Fr(t);x(function(){const[a,c]=wr(o,i,n);return e.receiveHandlerId(a),r.receiveHandlerId(a),c},[n,e,i,r,o.map(s=>s.toString()).join("|")])}function je(t,e){const r=Me(t,e),n=Ur(),i=Hr(r.options);return Gr(r,n,i),[Re(r.collect,n,i),kr(i)]}function Le(t){let e=null;return()=>(e==null&&(e=t()),e)}function Br(t,e){return t.filter(r=>r!==e)}function Vr(t,e){const r=new Set,n=o=>r.add(o);t.forEach(n),e.forEach(n);const i=[];return r.forEach(o=>i.push(o)),i}class zr{enter(e){const r=this.entered.length,n=i=>this.isNodeInDocument(i)&&(!i.contains||i.contains(e));return this.entered=Vr(this.entered.filter(n),[e]),r===0&&this.entered.length>0}leave(e){const r=this.entered.length;return this.entered=Br(this.entered.filter(this.isNodeInDocument),e),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class Wr{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const i=this.config.exposeProperties[n];i!=null&&(r[n]={value:i(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const Ae="__NATIVE_FILE__",ke="__NATIVE_URL__",He="__NATIVE_TEXT__",Ue="__NATIVE_HTML__",me=Object.freeze(Object.defineProperty({__proto__:null,FILE:Ae,HTML:Ue,TEXT:He,URL:ke},Symbol.toStringTag,{value:"Module"}));function V(t,e,r){const n=e.reduce((i,o)=>i||t.getData(o),"");return n??r}const Z={[Ae]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[Ue]:{exposeProperties:{html:(t,e)=>V(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[ke]:{exposeProperties:{urls:(t,e)=>V(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[He]:{exposeProperties:{text:(t,e)=>V(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function Yr(t,e){const r=Z[t];if(!r)throw new Error(`native type ${t} has no configuration`);const n=new Wr(r);return n.loadDataTransfer(e),n}function z(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(Z).filter(r=>{const n=Z[r];return n!=null&&n.matchesTypes?n.matchesTypes.some(i=>e.indexOf(i)>-1):!1})[0]||null}const Xr=Le(()=>/firefox/i.test(navigator.userAgent)),Fe=Le(()=>!!window.safari);class De{interpolate(e){const{xs:r,ys:n,c1s:i,c2s:o,c3s:s}=this;let a=r.length-1;if(e===r[a])return n[a];let c=0,u=s.length-1,d;for(;c<=u;){d=Math.floor(.5*(c+u));const l=r[d];if(l<e)c=d+1;else if(l>e)u=d-1;else return n[d]}a=Math.max(0,u);const f=e-r[a],h=f*f;return n[a]+i[a]*f+o[a]*h+s[a]*f*h}constructor(e,r){const{length:n}=e,i=[];for(let l=0;l<n;l++)i.push(l);i.sort((l,D)=>e[l]<e[D]?-1:1);const o=[],s=[];let a,c;for(let l=0;l<n-1;l++)a=e[l+1]-e[l],c=r[l+1]-r[l],o.push(a),s.push(c/a);const u=[s[0]];for(let l=0;l<o.length-1;l++){const D=s[l],m=s[l+1];if(D*m<=0)u.push(0);else{a=o[l];const y=o[l+1],S=a+y;u.push(3*S/((S+y)/D+(S+a)/m))}}u.push(s[s.length-1]);const d=[],f=[];let h;for(let l=0;l<u.length-1;l++){h=s[l];const D=u[l],m=1/o[l],y=D+u[l+1]-h-h;d.push((h-D-y)*m),f.push(y*m*m)}this.xs=e,this.ys=r,this.c1s=u,this.c2s=d,this.c3s=f}}const Kr=1;function qe(t){const e=t.nodeType===Kr?t:t.parentElement;if(!e)return null;const{top:r,left:n}=e.getBoundingClientRect();return{x:n,y:r}}function M(t){return{x:t.clientX,y:t.clientY}}function Zr(t){var e;return t.nodeName==="IMG"&&(Xr()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function Qr(t,e,r,n){let i=t?e.width:r,o=t?e.height:n;return Fe()&&t&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}function Jr(t,e,r,n,i){const o=Zr(e),a=qe(o?t:e),c={x:r.x-a.x,y:r.y-a.y},{offsetWidth:u,offsetHeight:d}=t,{anchorX:f,anchorY:h}=n,{dragPreviewWidth:l,dragPreviewHeight:D}=Qr(o,e,u,d),m=()=>{let se=new De([0,.5,1],[c.y,c.y/d*D,c.y+D-d]).interpolate(h);return Fe()&&o&&(se+=(window.devicePixelRatio-1)*D),se},y=()=>new De([0,.5,1],[c.x,c.x/u*l,c.x+l-u]).interpolate(f),{offsetX:S,offsetY:T}=i,C=S===0||S,F=T===0||T;return{x:C?S:y(),y:F?T:m()}}class en{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,r){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=r}}function tn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ye(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){tn(t,i,r[i])})}return t}class rn{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,r,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,n){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,n);const i=s=>this.handleDragStart(s,e),o=s=>this.handleSelectStart(s);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",i),r.addEventListener("selectstart",o),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",i),r.removeEventListener("selectstart",o),r.setAttribute("draggable","false")}}connectDropTarget(e,r){const n=s=>this.handleDragEnter(s,e),i=s=>this.handleDragOver(s,e),o=s=>this.handleDrop(s,e);return r.addEventListener("dragenter",n),r.addEventListener("dragover",i),r.addEventListener("drop",o),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",i),r.removeEventListener("drop",o)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return ye({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(e);return ye({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(me).some(r=>me[r]===e)}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=Yr(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=i=>{const o=this.sourceNodes.get(i);return o&&qe(o)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=i=>!!(i&&this.document&&this.document.body&&this.document.body.contains(i)),this.endDragIfSourceWasRemovedFromDOM=()=>{const i=this.currentDragSourceNode;i==null||this.isNodeInDocument(i)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=i=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(i||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=i=>{if(i.defaultPrevented)return;const{dragStartSourceIds:o}=this;this.dragStartSourceIds=null;const s=M(i);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(o||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:s});const{dataTransfer:a}=i,c=z(a);if(this.monitor.isDragging()){if(a&&typeof a.setDragImage=="function"){const d=this.monitor.getSourceId(),f=this.sourceNodes.get(d),h=this.sourcePreviewNodes.get(d)||f;if(h){const{anchorX:l,anchorY:D,offsetX:m,offsetY:y}=this.getCurrentSourcePreviewNodeOptions(),C=Jr(f,h,s,{anchorX:l,anchorY:D},{offsetX:m,offsetY:y});a.setDragImage(h,C.x,C.y)}}try{a==null||a.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(i.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(c)this.beginDragNativeItem(c);else{if(a&&!a.types&&(i.target&&!i.target.hasAttribute||!i.target.hasAttribute("draggable")))return;i.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=i=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}if(!this.enterLeaveCounter.enter(i.target)||this.monitor.isDragging())return;const{dataTransfer:a}=i,c=z(a);c&&this.beginDragNativeItem(c,a)},this.handleTopDragEnter=i=>{const{dragEnterTargetIds:o}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=i.altKey,o.length>0&&this.actions.hover(o,{clientOffset:M(i)}),o.some(a=>this.monitor.canDropOnTarget(a))&&(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=i=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}},this.handleTopDragOver=i=>{const{dragOverTargetIds:o}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}this.altKeyPressed=i.altKey,this.lastClientOffset=M(i),this.scheduleHover(o),(o||[]).some(a=>this.monitor.canDropOnTarget(a))?(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?i.preventDefault():(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=i=>{this.isDraggingNativeItem()&&i.preventDefault(),this.enterLeaveCounter.leave(i.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=i=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var o;i.preventDefault(),(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}else z(i.dataTransfer)&&i.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=i=>{const{dropTargetIds:o}=this;this.dropTargetIds=[],this.actions.hover(o,{clientOffset:M(i)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=i=>{const o=i.target;typeof o.dragDrop=="function"&&(o.tagName==="INPUT"||o.tagName==="SELECT"||o.tagName==="TEXTAREA"||o.isContentEditable||(i.preventDefault(),o.dragDrop()))},this.options=new en(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new zr(this.isNodeInDocument)}}const nn=function(e,r,n){return new rn(e,r,n)},Q=O.object({id:O.string(),text:O.string(),checked:O.boolean().default(!1)});O.array(Q).default([]);O.object({id:O.string(),index:O.number()});const on=t=>{const{handleTodoChecked:e,handleDrop:r,deleteTodoItem:n,...i}=t,o=v.useRef(null),[,s]=je({accept:"todo",hover(c,u){var y;if(!o.current)return;const d=c.index,f=i.index;if(d===f)return;const h=u.getClientOffset();if(h==null)return;const l=(y=o.current)==null?void 0:y.getBoundingClientRect(),D=(l.bottom-l.top)/2,m=h.y-l.top;d<f&&m<D||d>f&&m>D||(r(d,f),c.index=f)}}),[,a]=Ar({type:"todo",item:{id:i.id,index:t.index}});return a(s(o)),p.jsx("div",{ref:o,children:p.jsx("div",{className:"flex items-center hover:bg-gray-800 rounded-md",children:p.jsxs("div",{className:"flex grow ",children:[p.jsx("div",{className:"flex items-center px-1",children:p.jsx("input",{checked:i.checked??!1,id:"checked-checkbox",type:"checkbox",value:"",className:"w-4 h-4 accent-green-600 bg-gray-200 rounded",onChange:c=>e(i.id,c)})}),p.jsx("div",{className:`grow text-start py-2 px-1 text-gray-200 border-gray-300 ${i.checked&&"line-through"} cursor-pointer`,children:i.text}),p.jsx("button",{type:"button",onClick:()=>n(i.id),className:"text-gray-200 text-lg py-2 px-1 hover:bg-gray-800 rounded-md",children:p.jsx(Ke,{})})]})})})},sn=({children:t,className:e})=>{const[,r]=je(()=>({accept:"todo"}));return p.jsx("div",{ref:r,className:e,children:t})},an=()=>{const[t,e]=v.useState([]),[r,n]=v.useState(""),i=u=>{n(u.target.value)},o=u=>{u.preventDefault(),r.trim()&&(e([...t,Q.parse({id:ze(),text:r})]),n(""))},s=(u,d)=>{e(f=>{const h=[...f];let l=h.findIndex(D=>D.id===u);return h[l]=Q.parse({...h[l],checked:d.target.checked}),h})},a=(u,d)=>{e(f=>{let h=[...f];const[l]=h.splice(u,1);return h.splice(d,0,l),h})},c=u=>{e(d=>d.filter(f=>f.id!==u))};return p.jsxs("div",{className:"max-w-lg mx-auto text-gray-800 bg-gray-900 p-2 rounded-md",children:[p.jsx("div",{children:p.jsx("h1",{className:"text-gray-300 text-2xl font-bold mb-2",children:"Todo List"})}),p.jsx("form",{onSubmit:o,className:`flex gap-2 outline-0 ${t&&t[0]?"mb-4":""}`,children:p.jsxs("div",{className:"flex grow relative",children:[p.jsx("div",{className:"text-gray-300 absolute-center-y left-2",children:p.jsx(Xe,{})}),p.jsx("input",{type:"text",value:r,onChange:i,placeholder:"Add a task",className:"flex-1 placeholder-gray-500 text-gray-200 bg-gray-600 rounded-md p-2 reset-input pl-8"})]})}),p.jsx(fr,{backend:nn,children:p.jsx(sn,{className:"list-container max-h-[32rem]",children:t.map((u,d)=>p.jsx(on,{index:d,handleTodoChecked:s,handleDrop:a,deleteTodoItem:c,...u},u.id))})})]})},cn=an,un=(t,e,r)=>{const n=i=>{t.forEach((o,s)=>{i.key==o&&e[s](r)})};v.useEffect(()=>(window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}),[r])},ln=["#392A1A","#473616","#7f410b","#8D3608","#912107","#A62507","#4E3E0A","#69530C","#715A0C","#EDC53F","#EEC12E"];function dn(){const t=v.useState(hn()),e=v.useState(!1);un(["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],[On,Sn,Tn,wn],[t,e]);const r=t[0],n=e[0];let i=v.useMemo(()=>r.sort((o,s)=>o.cor.row*4+o.cor.col-(s.cor.row*4+s.cor.col)),[r]);return p.jsxs("div",{children:[p.jsx("div",{className:"sm:mx-auto w-[80vw] aspect-square sm:h-[30rem] sm:w-[30rem] p-2 rounded-md bg-emerald-200 grid grid-cols-4 grid-rows-4 gap-2",children:i.map((o,s)=>p.jsx("div",{className:"w-full h-full bg-slate-700 flex justify-center items-center font-extrabold text-4xl select-none",style:{backgroundColor:`${+o.val==0?"":ln[Math.log2(+o.val)]}`},children:o.val!=0?o.val:""},s))}),n&&p.jsx("div",{children:"End"})]})}const gn=O.object({val:O.number().default(0),cor:O.object({row:O.number().max(3),col:O.number().max(3)})}),fn=O.array(gn),J=()=>Math.random()<=.9?2:4,hn=()=>{let t=Array(16).fill(null);for(let n=0;n<16;n++){const o={val:0,cor:{row:Math.floor(n/4),col:n%4}};t[n]=o}t=fn.parse(t);let e,r;do e=Math.floor(Math.random()*16),r=Math.floor(Math.random()*16);while(r==e);return t[e].val=J(),t[r].val=J(),t},pn=t=>{let e=0,r=1,n=!0;for(;e<3;){if(r>=4){e++,r=e+1;continue}if(t[e].val===t[r].val&&t[e].val!=0)vn(t[r],t[e]),e++,n=!1;else if(t[e].val===0&&t[r].val!=0)$e(t[r],t[e]),n=!1;else if(t[e].val!==t[r].val&&t[r].val!=0){e++,r=e+1;continue}r++}return{noChange:n,arr:t}},vn=(t,e)=>{$e(t,e),e.val*=2},$e=(t,e)=>{e.val=t.val,t.val=0},Ge=t=>[t*4,t*4+1,t*4+2,t*4+3],mn=t=>Ge(t).reverse(),Be=t=>[t,t+4,t+8,t+12],Dn=t=>Be(t).reverse(),yn=t=>{const e=Math.floor(t/4),r=t%4;return{row:e,col:r}},U=t=>e=>{const[r,n]=e,[i,o]=r,[,s]=n;let a=[0,1,2,3].map(f=>t(f).map(yn).map(({row:h,col:l})=>i.find(D=>D.cor.row===h&&D.cor.col===l))).map(pn),c=a.map(({arr:f})=>f).flat();if(c.every(f=>f.val!=0)){s(!0);return}if(a.every(({noChange:f})=>f))return;let u=c.sort((f,h)=>h.cor.row*4+f.cor.col-(h.cor.row*4+h.cor.col)),d;do d=Math.floor(Math.random()*16);while(u[d].val!=0);u[d].val=J(),o(u)},Sn=U(Ge),On=U(mn),Tn=U(Be),wn=U(Dn);function Cn(){const[t,e]=v.useState(2);return p.jsxs("div",{className:"flex flex-col h-screen",children:[p.jsxs("div",{className:"flex flex-wrap w-full justify-center gap-2 text-center mb-2",children:[p.jsx("div",{children:p.jsx("button",{className:"py-2 px-8 w-full bg-green-500 text-white",onClick:()=>e(1),children:"TodoList"})}),p.jsx("div",{children:p.jsx("button",{className:"py-2 px-8 w-full bg-orange-500 text-white",onClick:()=>e(2),children:"2048"})})]}),p.jsx("div",{className:"w-full h-full",children:p.jsxs("div",{children:[t==1&&p.jsx(v.Suspense,{fallback:p.jsx("div",{children:"Loading..."}),children:p.jsx(cn,{})}),t==2&&p.jsx(v.Suspense,{fallback:p.jsx("div",{children:"Loading..."}),children:p.jsx(dn,{})})]})})]})}export{Cn as default};
