import{j as t,r as m}from"./index-e3a0434a.js";const j="_flip_card_1we0k_1",$="_flip_animate_1we0k_116",b="_from_top_to_middle_1we0k_1",w="_from_middle_to_bottom_1we0k_1",k="_clock_1we0k_144",n={flip_card:j,"top-half":"_top-half_1we0k_40","top-half-flip":"_top-half-flip_1we0k_41","bottom-half":"_bottom-half_1we0k_56","bottom-half-flip":"_bottom-half-flip_1we0k_57",flip_animate:$,from_top_to_middle:b,from_middle_to_bottom:w,clock:k};function N({initTotalSeconds:s,timerInterval:e}){function o(c,d){const{totalSeconds:l}=c;if(d.type==="tick")return l>0?{totalSeconds:l-1}:{totalSeconds:0};throw new Error}const[{totalSeconds:i},f]=m.useReducer(o,{totalSeconds:s});y(()=>{f({type:"tick"})},e);function a(c){const d=Math.floor(c/86400),l=Math.floor(c%(60*60*24)/(60*60)),r=Math.floor(c%(60*60)/60),u=c%60;return{days:d,hours:l,minutes:r,seconds:u}}return[a(i),c=>{e=c}]}function y(s,e){const o=m.useRef(s);m.useEffect(()=>{o.current=s}),m.useEffect(()=>{function i(){o.current()}if(e!==null){const f=setInterval(()=>{i()},e);return()=>{clearInterval(f)}}},[e])}function E(s,e){return Math.floor(Math.random()*(e-s+1))+s}function v(s,e){return(s%e+e)%e}function _({num:s,upperLimit:e,scale:o}){const i=(s+1)%(e+1),f=v(i-1,e+1);return m.useEffect(()=>{const a=x=>{x.innerHTML=String(v(Number(x.innerHTML)-1,e+1)).padStart(2,"0")},c=document.querySelector(`.${o}.${n["top-half"]}`),d=document.querySelector(`.${o}.${n["bottom-half"]}`),l=document.querySelector(`.${o}.${n["top-half-flip"]}`),r=document.querySelector(`.${o}.${n["bottom-half-flip"]}`);if(!c||!d||!l||!r)return;const u=()=>{a(c)},p=()=>{a(l),l.classList.remove(`${n.flip_animate}`),r.classList.add(`${n.flip_animate}`)},h=()=>{a(d),a(r),r.classList.remove(`${n.flip_animate}`)};return l.addEventListener("animationstart",u),l.addEventListener("animationend",p),r.addEventListener("animationend",h),()=>{l.removeEventListener("animationstart",u),l.removeEventListener("animationend",p),r.removeEventListener("animationend",h)}},[o,e]),m.useEffect(()=>{const a=document.querySelector(`.${o}.${n["top-half-flip"]}`);a&&a.classList.add(`${n.flip_animate}`)},[i,o]),t.jsxs("div",{className:`${n.flip_card}`,children:[t.jsxs("div",{className:`${n["top-half"]} ${o}`,children:[" ",i]}),t.jsxs("div",{className:`${n["bottom-half"]} ${o}`,children:[" ",i]}),t.jsxs("div",{className:`${n["top-half-flip"]} ${o}`,children:[" ",i]}),t.jsxs("div",{className:`${n["bottom-half-flip"]} ${o}`,children:[" ",f]})]})}function S(){const s=E(1,8639999),[e]=N({initTotalSeconds:s,timerInterval:1e3}),{days:o,hours:i,minutes:f,seconds:a}=e;return t.jsx("div",{className:"flex justify-center mt-12",children:t.jsx("div",{className:"flex justify-center text-center sm:w-full w-[450px] scale-x-[.65] scale-y-[.65] sm:scale-100 transition-all",children:t.jsxs("div",{className:`${n.clock} flex gap-4`,children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx(_,{num:o,upperLimit:99,scale:"countdown_days"}),t.jsx("div",{className:"font-bold mt-6",children:"Days"})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx(_,{num:i,upperLimit:23,scale:"countdown_hours"}),t.jsx("div",{className:"font-bold mt-6",children:"Hours"})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx(_,{num:f,upperLimit:59,scale:"countdown_minutes"}),t.jsx("div",{className:"font-bold mt-6",children:"Minutes"})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx(_,{num:a,upperLimit:59,scale:"countdown_second"}),t.jsx("div",{className:"font-bold mt-6",children:"Seconds"})]})]})})})}export{S as default};
