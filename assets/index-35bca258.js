import{S as kt,s as ut,n as Gt,i as lt,b as dt,t as Xt,f as es,c as ts,d as ft,e as ss,g as X,h as ht,k as rs,r as Z,u as St,p as ns,R as as,j as w}from"./index-c530b93e.js";class Rt extends kt{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),pt(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return Xe(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Xe(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,t){const r=this.options,n=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),ut(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const a=this.hasListeners();a&&mt(this.currentQuery,n,this.options,r)&&this.executeFetch(),this.updateResult(t),a&&(this.currentQuery!==n||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const i=this.computeRefetchInterval();a&&(this.currentQuery!==n||this.options.enabled!==r.enabled||i!==this.currentRefetchInterval)&&this.updateRefetchInterval(i)}getOptimisticResult(e){const t=this.client.getQueryCache().build(this.client,e);return this.createResult(t,e)}getCurrentResult(){return this.currentResult}trackResult(e){const t={};return Object.keys(e).forEach(r=>{Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...t}={}){return this.fetch({...t,meta:{refetchPage:e}})}fetchOptimistic(e){const t=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,t);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,t))}fetch(e){var t;return this.executeFetch({...e,cancelRefetch:(t=e.cancelRefetch)!=null?t:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Gt)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),lt||this.currentResult.isStale||!dt(this.options.staleTime))return;const t=Xt(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},t)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(lt||this.options.enabled===!1||!dt(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||es.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,t){const r=this.currentQuery,n=this.options,a=this.currentResult,i=this.currentResultState,o=this.currentResultOptions,d=e!==r,c=d?e.state:this.currentQueryInitialState,p=d?this.currentResult:this.previousQueryResult,{state:m}=e;let{dataUpdatedAt:E,error:A,errorUpdatedAt:V,fetchStatus:re,status:L}=m,ye=!1,ne=!1,P;if(t._optimisticResults){const u=this.hasListeners(),y=!u&&pt(e,t),v=u&&mt(e,r,t,n);(y||v)&&(re=ts(e.options.networkMode)?"fetching":"paused",E||(L="loading")),t._optimisticResults==="isRestoring"&&(re="idle")}if(t.keepPreviousData&&!m.dataUpdatedAt&&p!=null&&p.isSuccess&&L!=="error")P=p.data,E=p.dataUpdatedAt,L=p.status,ye=!0;else if(t.select&&typeof m.data<"u")if(a&&m.data===(i==null?void 0:i.data)&&t.select===this.selectFn)P=this.selectResult;else try{this.selectFn=t.select,P=t.select(m.data),P=ft(a==null?void 0:a.data,P,t),this.selectResult=P,this.selectError=null}catch(u){this.selectError=u}else P=m.data;if(typeof t.placeholderData<"u"&&typeof P>"u"&&L==="loading"){let u;if(a!=null&&a.isPlaceholderData&&t.placeholderData===(o==null?void 0:o.placeholderData))u=a.data;else if(u=typeof t.placeholderData=="function"?t.placeholderData():t.placeholderData,t.select&&typeof u<"u")try{u=t.select(u),this.selectError=null}catch(y){this.selectError=y}typeof u<"u"&&(L="success",P=ft(a==null?void 0:a.data,u,t),ne=!0)}this.selectError&&(A=this.selectError,P=this.selectResult,V=Date.now(),L="error");const ae=re==="fetching",ve=L==="loading",K=L==="error";return{status:L,fetchStatus:re,isLoading:ve,isSuccess:L==="success",isError:K,isInitialLoading:ve&&ae,data:P,dataUpdatedAt:E,error:A,errorUpdatedAt:V,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>c.dataUpdateCount||m.errorUpdateCount>c.errorUpdateCount,isFetching:ae,isRefetching:ae&&!ve,isLoadingError:K&&m.dataUpdatedAt===0,isPaused:re==="paused",isPlaceholderData:ne,isPreviousData:ye,isRefetchError:K&&m.dataUpdatedAt!==0,isStale:ct(e,t),refetch:this.refetch,remove:this.remove}}updateResult(e){const t=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,ut(r,t))return;this.currentResult=r;const n={cache:!0},a=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options;if(i==="all"||!i&&!this.trackedProps.size)return!0;const o=new Set(i??this.trackedProps);return this.options.useErrorBoundary&&o.add("error"),Object.keys(this.currentResult).some(d=>{const c=d;return this.currentResult[c]!==t[c]&&o.has(c)})};(e==null?void 0:e.listeners)!==!1&&a()&&(n.listeners=!0),this.notify({...n,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const t={};e.type==="success"?t.onSuccess=!e.manual:e.type==="error"&&!ss(e.error)&&(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){X.batch(()=>{if(e.onSuccess){var t,r,n,a;(t=(r=this.options).onSuccess)==null||t.call(r,this.currentResult.data),(n=(a=this.options).onSettled)==null||n.call(a,this.currentResult.data,null)}else if(e.onError){var i,o,d,c;(i=(o=this.options).onError)==null||i.call(o,this.currentResult.error),(d=(c=this.options).onSettled)==null||d.call(c,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(p=>{p(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function is(s,e){return e.enabled!==!1&&!s.state.dataUpdatedAt&&!(s.state.status==="error"&&e.retryOnMount===!1)}function pt(s,e){return is(s,e)||s.state.dataUpdatedAt>0&&Xe(s,e,e.refetchOnMount)}function Xe(s,e,t){if(e.enabled!==!1){const r=typeof t=="function"?t(s):t;return r==="always"||r!==!1&&ct(s,e)}return!1}function mt(s,e,t,r){return t.enabled!==!1&&(s!==e||r.enabled===!1)&&(!t.suspense||s.state.status!=="error")&&ct(s,t)}function ct(s,e){return s.isStaleByTime(e.staleTime)}class os extends kt{constructor(e,t){super(),this.client=e,this.queries=[],this.result=[],this.observers=[],this.observersMap={},t&&this.setQueries(t)}onSubscribe(){this.listeners.length===1&&this.observers.forEach(e=>{e.subscribe(t=>{this.onUpdate(e,t)})})}onUnsubscribe(){this.listeners.length||this.destroy()}destroy(){this.listeners=[],this.observers.forEach(e=>{e.destroy()})}setQueries(e,t){this.queries=e,X.batch(()=>{const r=this.observers,n=this.findMatchingObservers(this.queries);n.forEach(c=>c.observer.setOptions(c.defaultedQueryOptions,t));const a=n.map(c=>c.observer),i=Object.fromEntries(a.map(c=>[c.options.queryHash,c])),o=a.map(c=>c.getCurrentResult()),d=a.some((c,p)=>c!==r[p]);r.length===a.length&&!d||(this.observers=a,this.observersMap=i,this.result=o,this.hasListeners()&&(ht(r,a).forEach(c=>{c.destroy()}),ht(a,r).forEach(c=>{c.subscribe(p=>{this.onUpdate(c,p)})}),this.notify()))})}getCurrentResult(){return this.result}getQueries(){return this.observers.map(e=>e.getCurrentQuery())}getObservers(){return this.observers}getOptimisticResult(e){return this.findMatchingObservers(e).map(t=>t.observer.getOptimisticResult(t.defaultedQueryOptions))}findMatchingObservers(e){const t=this.observers,r=e.map(m=>this.client.defaultQueryOptions(m)),n=r.flatMap(m=>{const E=t.find(A=>A.options.queryHash===m.queryHash);return E!=null?[{defaultedQueryOptions:m,observer:E}]:[]}),a=n.map(m=>m.defaultedQueryOptions.queryHash),i=r.filter(m=>!a.includes(m.queryHash)),o=t.filter(m=>!n.some(E=>E.observer===m)),d=m=>{const E=this.client.defaultQueryOptions(m),A=this.observersMap[E.queryHash];return A??new Rt(this.client,E)},c=i.map((m,E)=>{if(m.keepPreviousData){const A=o[E];if(A!==void 0)return{defaultedQueryOptions:m,observer:A}}return{defaultedQueryOptions:m,observer:d(m)}}),p=(m,E)=>r.indexOf(m.defaultedQueryOptions)-r.indexOf(E.defaultedQueryOptions);return n.concat(c).sort(p)}onUpdate(e,t){const r=this.observers.indexOf(e);r!==-1&&(this.result=rs(this.result,r,t),this.notify())}notify(){X.batch(()=>{this.listeners.forEach(e=>{e(this.result)})})}}var et={},cs={get exports(){return et},set exports(s){et=s}},Et={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var he=Z;function us(s,e){return s===e&&(s!==0||1/s===1/e)||s!==s&&e!==e}var ls=typeof Object.is=="function"?Object.is:us,ds=he.useState,fs=he.useEffect,hs=he.useLayoutEffect,ps=he.useDebugValue;function ms(s,e){var t=e(),r=ds({inst:{value:t,getSnapshot:e}}),n=r[0].inst,a=r[1];return hs(function(){n.value=t,n.getSnapshot=e,He(n)&&a({inst:n})},[s,t,e]),fs(function(){return He(n)&&a({inst:n}),s(function(){He(n)&&a({inst:n})})},[s]),ps(t),t}function He(s){var e=s.getSnapshot;s=s.value;try{var t=e();return!ls(s,t)}catch{return!0}}function ys(s,e){return e()}var vs=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ys:ms;Et.useSyncExternalStore=he.useSyncExternalStore!==void 0?he.useSyncExternalStore:vs;(function(s){s.exports=Et})(cs);const Ot=et.useSyncExternalStore,Tt=Z.createContext(!1),Ct=()=>Z.useContext(Tt);Tt.Provider;function gs(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}const _s=Z.createContext(gs()),jt=()=>Z.useContext(_s);function bs(s,e){return typeof s=="function"?s(...e):!!s}const It=(s,e)=>{(s.suspense||s.useErrorBoundary)&&(e.isReset()||(s.retryOnMount=!1))},Nt=s=>{Z.useEffect(()=>{s.clearReset()},[s])},Zt=({result:s,errorResetBoundary:e,useErrorBoundary:t,query:r})=>s.isError&&!e.isReset()&&!s.isFetching&&bs(t,[s.error,r]),At=s=>{s.suspense&&typeof s.staleTime!="number"&&(s.staleTime=1e3)},Mt=(s,e)=>s.isLoading&&s.isFetching&&!e,tt=(s,e,t)=>(s==null?void 0:s.suspense)&&Mt(e,t),st=(s,e,t)=>e.fetchOptimistic(s).then(({data:r})=>{s.onSuccess==null||s.onSuccess(r),s.onSettled==null||s.onSettled(r,null)}).catch(r=>{t.clearReset(),s.onError==null||s.onError(r),s.onSettled==null||s.onSettled(void 0,r)});function xs({queries:s,context:e}){const t=St({context:e}),r=Ct(),n=Z.useMemo(()=>s.map(m=>{const E=t.defaultQueryOptions(m);return E._optimisticResults=r?"isRestoring":"optimistic",E}),[s,t,r]),[a]=Z.useState(()=>new os(t,n)),i=a.getOptimisticResult(n);Ot(Z.useCallback(m=>r?()=>{}:a.subscribe(X.batchCalls(m)),[a,r]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),Z.useEffect(()=>{a.setQueries(n,{listeners:!1})},[n,a]);const o=jt();n.forEach(m=>{It(m,o),At(m)}),Nt(o);const c=i.some((m,E)=>tt(n[E],m,r))?i.flatMap((m,E)=>{const A=n[E],V=a.getObservers()[E];if(A&&V){if(tt(A,m,r))return st(A,V,o);Mt(m,r)&&st(A,V,o)}return[]}):[];if(c.length>0)throw Promise.all(c);const p=i.find((m,E)=>{var A,V;return Zt({result:m,errorResetBoundary:o,useErrorBoundary:(A=(V=n[E])==null?void 0:V.useErrorBoundary)!=null?A:!1,query:a.getQueries()[E]})});if(p!=null&&p.error)throw p.error;return i}function ws(s,e){const t=St({context:s.context}),r=Ct(),n=jt(),a=t.defaultQueryOptions(s);a._optimisticResults=r?"isRestoring":"optimistic",a.onError&&(a.onError=X.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=X.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=X.batchCalls(a.onSettled)),At(a),It(a,n),Nt(n);const[i]=Z.useState(()=>new e(t,a)),o=i.getOptimisticResult(a);if(Ot(Z.useCallback(d=>r?()=>{}:i.subscribe(X.batchCalls(d)),[i,r]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),Z.useEffect(()=>{i.setOptions(a,{listeners:!1})},[a,i]),tt(a,o,r))throw st(a,i,n);if(Zt({result:o,errorResetBoundary:n,useErrorBoundary:a.useErrorBoundary,query:i.getCurrentQuery()}))throw o.error;return a.notifyOnChangeProps?o:i.trackResult(o)}function Pt(s,e,t){const r=ns(s,e,t);return ws(r,Rt)}var O;(function(s){s.assertEqual=n=>n;function e(n){}s.assertIs=e;function t(n){throw new Error}s.assertNever=t,s.arrayToEnum=n=>{const a={};for(const i of n)a[i]=i;return a},s.getValidEnumValues=n=>{const a=s.objectKeys(n).filter(o=>typeof n[n[o]]!="number"),i={};for(const o of a)i[o]=n[o];return s.objectValues(i)},s.objectValues=n=>s.objectKeys(n).map(function(a){return n[a]}),s.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const a=[];for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&a.push(i);return a},s.find=(n,a)=>{for(const i of n)if(a(i))return i},s.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&isFinite(n)&&Math.floor(n)===n;function r(n,a=" | "){return n.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}s.joinValues=r,s.jsonStringifyReplacer=(n,a)=>typeof a=="bigint"?a.toString():a})(O||(O={}));var rt;(function(s){s.mergeShapes=(e,t)=>({...e,...t})})(rt||(rt={}));const f=O.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),G=s=>{switch(typeof s){case"undefined":return f.undefined;case"string":return f.string;case"number":return isNaN(s)?f.nan:f.number;case"boolean":return f.boolean;case"function":return f.function;case"bigint":return f.bigint;case"symbol":return f.symbol;case"object":return Array.isArray(s)?f.array:s===null?f.null:s.then&&typeof s.then=="function"&&s.catch&&typeof s.catch=="function"?f.promise:typeof Map<"u"&&s instanceof Map?f.map:typeof Set<"u"&&s instanceof Set?f.set:typeof Date<"u"&&s instanceof Date?f.date:f.object;default:return f.unknown}},l=O.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ks=s=>JSON.stringify(s,null,2).replace(/"([^"]+)":/g,"$1:");class $ extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(a){return a.message},r={_errors:[]},n=a=>{for(const i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(n);else if(i.code==="invalid_return_type")n(i.returnTypeError);else if(i.code==="invalid_arguments")n(i.argumentsError);else if(i.path.length===0)r._errors.push(t(i));else{let o=r,d=0;for(;d<i.path.length;){const c=i.path[d];d===i.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(t(i))):o[c]=o[c]||{_errors:[]},o=o[c],d++}}};return n(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,O.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}$.create=s=>new $(s);const _e=(s,e)=>{let t;switch(s.code){case l.invalid_type:s.received===f.undefined?t="Required":t=`Expected ${s.expected}, received ${s.received}`;break;case l.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(s.expected,O.jsonStringifyReplacer)}`;break;case l.unrecognized_keys:t=`Unrecognized key(s) in object: ${O.joinValues(s.keys,", ")}`;break;case l.invalid_union:t="Invalid input";break;case l.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${O.joinValues(s.options)}`;break;case l.invalid_enum_value:t=`Invalid enum value. Expected ${O.joinValues(s.options)}, received '${s.received}'`;break;case l.invalid_arguments:t="Invalid function arguments";break;case l.invalid_return_type:t="Invalid function return type";break;case l.invalid_date:t="Invalid date";break;case l.invalid_string:typeof s.validation=="object"?"includes"in s.validation?(t=`Invalid input: must include "${s.validation.includes}"`,typeof s.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${s.validation.position}`)):"startsWith"in s.validation?t=`Invalid input: must start with "${s.validation.startsWith}"`:"endsWith"in s.validation?t=`Invalid input: must end with "${s.validation.endsWith}"`:O.assertNever(s.validation):s.validation!=="regex"?t=`Invalid ${s.validation}`:t="Invalid";break;case l.too_small:s.type==="array"?t=`Array must contain ${s.exact?"exactly":s.inclusive?"at least":"more than"} ${s.minimum} element(s)`:s.type==="string"?t=`String must contain ${s.exact?"exactly":s.inclusive?"at least":"over"} ${s.minimum} character(s)`:s.type==="number"?t=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="date"?t=`Date must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(s.minimum))}`:t="Invalid input";break;case l.too_big:s.type==="array"?t=`Array must contain ${s.exact?"exactly":s.inclusive?"at most":"less than"} ${s.maximum} element(s)`:s.type==="string"?t=`String must contain ${s.exact?"exactly":s.inclusive?"at most":"under"} ${s.maximum} character(s)`:s.type==="number"?t=`Number must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="bigint"?t=`BigInt must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="date"?t=`Date must be ${s.exact?"exactly":s.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(s.maximum))}`:t="Invalid input";break;case l.custom:t="Invalid input";break;case l.invalid_intersection_types:t="Intersection results could not be merged";break;case l.not_multiple_of:t=`Number must be a multiple of ${s.multipleOf}`;break;case l.not_finite:t="Number must be finite";break;default:t=e.defaultError,O.assertNever(s)}return{message:t}};let Dt=_e;function Ss(s){Dt=s}function Me(){return Dt}const Pe=s=>{const{data:e,path:t,errorMaps:r,issueData:n}=s,a=[...t,...n.path||[]],i={...n,path:a};let o="";const d=r.filter(c=>!!c).slice().reverse();for(const c of d)o=c(i,{data:e,defaultError:o}).message;return{...n,path:a,message:n.message||o}},Rs=[];function h(s,e){const t=Pe({issueData:e,data:s.data,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,Me(),_e].filter(r=>!!r)});s.common.issues.push(t)}class M{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const n of t){if(n.status==="aborted")return x;n.status==="dirty"&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const n of t)r.push({key:await n.key,value:await n.value});return M.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const n of t){const{key:a,value:i}=n;if(a.status==="aborted"||i.status==="aborted")return x;a.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),(typeof i.value<"u"||n.alwaysSet)&&(r[a.value]=i.value)}return{status:e.value,value:r}}}const x=Object.freeze({status:"aborted"}),Lt=s=>({status:"dirty",value:s}),D=s=>({status:"valid",value:s}),nt=s=>s.status==="aborted",at=s=>s.status==="dirty",De=s=>s.status==="valid",Le=s=>typeof Promise<"u"&&s instanceof Promise;var g;(function(s){s.errToObj=e=>typeof e=="string"?{message:e}:e||{},s.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(g||(g={}));class F{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const yt=(s,e)=>{if(De(e))return{success:!0,data:e.value};if(!s.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new $(s.common.issues);return this._error=t,this._error}}};function k(s){if(!s)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:n}=s;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(i,o)=>i.code!=="invalid_type"?{message:o.defaultError}:typeof o.data>"u"?{message:r??o.defaultError}:{message:t??o.defaultError},description:n}}class S{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return G(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:G(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new M,ctx:{common:e.parent.common,data:e.data,parsedType:G(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Le(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const n={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:G(e)},a=this._parseSync({data:e,path:n.path,parent:n});return yt(n,a)}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:G(e)},n=this._parse({data:e,path:r.path,parent:r}),a=await(Le(n)?n:Promise.resolve(n));return yt(r,a)}refine(e,t){const r=n=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(n):t;return this._refinement((n,a)=>{const i=e(n),o=()=>a.addIssue({code:l.custom,...r(n)});return typeof Promise<"u"&&i instanceof Promise?i.then(d=>d?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(e,t){return this._refinement((r,n)=>e(r)?!0:(n.addIssue(typeof t=="function"?t(r,n):t),!1))}_refinement(e){return new q({schema:this,typeName:b.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return H.create(this,this._def)}nullable(){return ue.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return z.create(this,this._def)}promise(){return me.create(this,this._def)}or(e){return ke.create([this,e],this._def)}and(e){return Se.create(this,e,this._def)}transform(e){return new q({...k(this._def),schema:this,typeName:b.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Ce({...k(this._def),innerType:this,defaultValue:t,typeName:b.ZodDefault})}brand(){return new Vt({typeName:b.ZodBranded,type:this,...k(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Be({...k(this._def),innerType:this,catchValue:t,typeName:b.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return je.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Es=/^c[^\s-]{8,}$/i,Os=/^[a-z][a-z0-9]*$/,Ts=/[0-9A-HJKMNP-TV-Z]{26}/,Cs=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,js=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,Is=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,Ns=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Zs=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,As=s=>s.precision?s.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${s.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${s.precision}}Z$`):s.precision===0?s.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):s.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Ms(s,e){return!!((e==="v4"||!e)&&Ns.test(s)||(e==="v6"||!e)&&Zs.test(s))}class B extends S{constructor(){super(...arguments),this._regex=(e,t,r)=>this.refinement(n=>e.test(n),{validation:t,code:l.invalid_string,...g.errToObj(r)}),this.nonempty=e=>this.min(1,g.errToObj(e)),this.trim=()=>new B({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new B({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new B({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==f.string){const a=this._getOrReturnCtx(e);return h(a,{code:l.invalid_type,expected:f.string,received:a.parsedType}),x}const r=new M;let n;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),h(n,{code:l.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),h(n,{code:l.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const i=e.data.length>a.value,o=e.data.length<a.value;(i||o)&&(n=this._getOrReturnCtx(e,n),i?h(n,{code:l.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&h(n,{code:l.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")js.test(e.data)||(n=this._getOrReturnCtx(e,n),h(n,{validation:"email",code:l.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Is.test(e.data)||(n=this._getOrReturnCtx(e,n),h(n,{validation:"emoji",code:l.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")Cs.test(e.data)||(n=this._getOrReturnCtx(e,n),h(n,{validation:"uuid",code:l.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")Es.test(e.data)||(n=this._getOrReturnCtx(e,n),h(n,{validation:"cuid",code:l.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")Os.test(e.data)||(n=this._getOrReturnCtx(e,n),h(n,{validation:"cuid2",code:l.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")Ts.test(e.data)||(n=this._getOrReturnCtx(e,n),h(n,{validation:"ulid",code:l.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),h(n,{validation:"url",code:l.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),h(n,{validation:"regex",code:l.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(e,n),h(n,{code:l.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(n=this._getOrReturnCtx(e,n),h(n,{code:l.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(n=this._getOrReturnCtx(e,n),h(n,{code:l.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?As(a).test(e.data)||(n=this._getOrReturnCtx(e,n),h(n,{code:l.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="ip"?Ms(e.data,a.version)||(n=this._getOrReturnCtx(e,n),h(n,{validation:"ip",code:l.invalid_string,message:a.message}),r.dirty()):O.assertNever(a);return{status:r.value,value:e.data}}_addCheck(e){return new B({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...g.errToObj(e)})}url(e){return this._addCheck({kind:"url",...g.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...g.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...g.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...g.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...g.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...g.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...g.errToObj(e)})}datetime(e){var t;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,...g.errToObj(e==null?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...g.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...g.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...g.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...g.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...g.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...g.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...g.errToObj(t)})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}B.create=s=>{var e;return new B({checks:[],typeName:b.ZodString,coerce:(e=s==null?void 0:s.coerce)!==null&&e!==void 0?e:!1,...k(s)})};function Ps(s,e){const t=(s.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,n=t>r?t:r,a=parseInt(s.toFixed(n).replace(".","")),i=parseInt(e.toFixed(n).replace(".",""));return a%i/Math.pow(10,n)}class ee extends S{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==f.number){const a=this._getOrReturnCtx(e);return h(a,{code:l.invalid_type,expected:f.number,received:a.parsedType}),x}let r;const n=new M;for(const a of this._def.checks)a.kind==="int"?O.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),h(r,{code:l.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),h(r,{code:l.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),h(r,{code:l.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="multipleOf"?Ps(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),h(r,{code:l.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),h(r,{code:l.not_finite,message:a.message}),n.dirty()):O.assertNever(a);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,g.toString(t))}gt(e,t){return this.setLimit("min",e,!1,g.toString(t))}lte(e,t){return this.setLimit("max",e,!0,g.toString(t))}lt(e,t){return this.setLimit("max",e,!1,g.toString(t))}setLimit(e,t,r,n){return new ee({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:g.toString(n)}]})}_addCheck(e){return new ee({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:g.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:g.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:g.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:g.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:g.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:g.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:g.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:g.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:g.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&O.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ee.create=s=>new ee({checks:[],typeName:b.ZodNumber,coerce:(s==null?void 0:s.coerce)||!1,...k(s)});class te extends S{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==f.bigint){const a=this._getOrReturnCtx(e);return h(a,{code:l.invalid_type,expected:f.bigint,received:a.parsedType}),x}let r;const n=new M;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),h(r,{code:l.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),h(r,{code:l.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),h(r,{code:l.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):O.assertNever(a);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,g.toString(t))}gt(e,t){return this.setLimit("min",e,!1,g.toString(t))}lte(e,t){return this.setLimit("max",e,!0,g.toString(t))}lt(e,t){return this.setLimit("max",e,!1,g.toString(t))}setLimit(e,t,r,n){return new te({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:g.toString(n)}]})}_addCheck(e){return new te({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:g.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:g.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:g.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:g.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:g.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}te.create=s=>{var e;return new te({checks:[],typeName:b.ZodBigInt,coerce:(e=s==null?void 0:s.coerce)!==null&&e!==void 0?e:!1,...k(s)})};class be extends S{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==f.boolean){const r=this._getOrReturnCtx(e);return h(r,{code:l.invalid_type,expected:f.boolean,received:r.parsedType}),x}return D(e.data)}}be.create=s=>new be({typeName:b.ZodBoolean,coerce:(s==null?void 0:s.coerce)||!1,...k(s)});class oe extends S{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==f.date){const a=this._getOrReturnCtx(e);return h(a,{code:l.invalid_type,expected:f.date,received:a.parsedType}),x}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return h(a,{code:l.invalid_date}),x}const r=new M;let n;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(n=this._getOrReturnCtx(e,n),h(n,{code:l.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(n=this._getOrReturnCtx(e,n),h(n,{code:l.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):O.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new oe({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:g.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:g.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}oe.create=s=>new oe({checks:[],coerce:(s==null?void 0:s.coerce)||!1,typeName:b.ZodDate,...k(s)});class Qe extends S{_parse(e){if(this._getType(e)!==f.symbol){const r=this._getOrReturnCtx(e);return h(r,{code:l.invalid_type,expected:f.symbol,received:r.parsedType}),x}return D(e.data)}}Qe.create=s=>new Qe({typeName:b.ZodSymbol,...k(s)});class xe extends S{_parse(e){if(this._getType(e)!==f.undefined){const r=this._getOrReturnCtx(e);return h(r,{code:l.invalid_type,expected:f.undefined,received:r.parsedType}),x}return D(e.data)}}xe.create=s=>new xe({typeName:b.ZodUndefined,...k(s)});class we extends S{_parse(e){if(this._getType(e)!==f.null){const r=this._getOrReturnCtx(e);return h(r,{code:l.invalid_type,expected:f.null,received:r.parsedType}),x}return D(e.data)}}we.create=s=>new we({typeName:b.ZodNull,...k(s)});class pe extends S{constructor(){super(...arguments),this._any=!0}_parse(e){return D(e.data)}}pe.create=s=>new pe({typeName:b.ZodAny,...k(s)});class ie extends S{constructor(){super(...arguments),this._unknown=!0}_parse(e){return D(e.data)}}ie.create=s=>new ie({typeName:b.ZodUnknown,...k(s)});class J extends S{_parse(e){const t=this._getOrReturnCtx(e);return h(t,{code:l.invalid_type,expected:f.never,received:t.parsedType}),x}}J.create=s=>new J({typeName:b.ZodNever,...k(s)});class Ve extends S{_parse(e){if(this._getType(e)!==f.undefined){const r=this._getOrReturnCtx(e);return h(r,{code:l.invalid_type,expected:f.void,received:r.parsedType}),x}return D(e.data)}}Ve.create=s=>new Ve({typeName:b.ZodVoid,...k(s)});class z extends S{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==f.array)return h(t,{code:l.invalid_type,expected:f.array,received:t.parsedType}),x;if(n.exactLength!==null){const i=t.data.length>n.exactLength.value,o=t.data.length<n.exactLength.value;(i||o)&&(h(t,{code:i?l.too_big:l.too_small,minimum:o?n.exactLength.value:void 0,maximum:i?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(n.minLength!==null&&t.data.length<n.minLength.value&&(h(t,{code:l.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),n.maxLength!==null&&t.data.length>n.maxLength.value&&(h(t,{code:l.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((i,o)=>n.type._parseAsync(new F(t,i,t.path,o)))).then(i=>M.mergeArray(r,i));const a=[...t.data].map((i,o)=>n.type._parseSync(new F(t,i,t.path,o)));return M.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new z({...this._def,minLength:{value:e,message:g.toString(t)}})}max(e,t){return new z({...this._def,maxLength:{value:e,message:g.toString(t)}})}length(e,t){return new z({...this._def,exactLength:{value:e,message:g.toString(t)}})}nonempty(e){return this.min(1,e)}}z.create=(s,e)=>new z({type:s,minLength:null,maxLength:null,exactLength:null,typeName:b.ZodArray,...k(e)});function de(s){if(s instanceof I){const e={};for(const t in s.shape){const r=s.shape[t];e[t]=H.create(de(r))}return new I({...s._def,shape:()=>e})}else return s instanceof z?new z({...s._def,type:de(s.element)}):s instanceof H?H.create(de(s.unwrap())):s instanceof ue?ue.create(de(s.unwrap())):s instanceof W?W.create(s.items.map(e=>de(e))):s}class I extends S{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=O.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==f.object){const c=this._getOrReturnCtx(e);return h(c,{code:l.invalid_type,expected:f.object,received:c.parsedType}),x}const{status:r,ctx:n}=this._processInputParams(e),{shape:a,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof J&&this._def.unknownKeys==="strip"))for(const c in n.data)i.includes(c)||o.push(c);const d=[];for(const c of i){const p=a[c],m=n.data[c];d.push({key:{status:"valid",value:c},value:p._parse(new F(n,m,n.path,c)),alwaysSet:c in n.data})}if(this._def.catchall instanceof J){const c=this._def.unknownKeys;if(c==="passthrough")for(const p of o)d.push({key:{status:"valid",value:p},value:{status:"valid",value:n.data[p]}});else if(c==="strict")o.length>0&&(h(n,{code:l.unrecognized_keys,keys:o}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const p of o){const m=n.data[p];d.push({key:{status:"valid",value:p},value:c._parse(new F(n,m,n.path,p)),alwaysSet:p in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const c=[];for(const p of d){const m=await p.key;c.push({key:m,value:await p.value,alwaysSet:p.alwaysSet})}return c}).then(c=>M.mergeObjectSync(r,c)):M.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(e){return g.errToObj,new I({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var n,a,i,o;const d=(i=(a=(n=this._def).errorMap)===null||a===void 0?void 0:a.call(n,t,r).message)!==null&&i!==void 0?i:r.defaultError;return t.code==="unrecognized_keys"?{message:(o=g.errToObj(e).message)!==null&&o!==void 0?o:d}:{message:d}}}:{}})}strip(){return new I({...this._def,unknownKeys:"strip"})}passthrough(){return new I({...this._def,unknownKeys:"passthrough"})}extend(e){return new I({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new I({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:b.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new I({...this._def,catchall:e})}pick(e){const t={};return O.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new I({...this._def,shape:()=>t})}omit(e){const t={};return O.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new I({...this._def,shape:()=>t})}deepPartial(){return de(this)}partial(e){const t={};return O.objectKeys(this.shape).forEach(r=>{const n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}),new I({...this._def,shape:()=>t})}required(e){const t={};return O.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof H;)a=a._def.innerType;t[r]=a}}),new I({...this._def,shape:()=>t})}keyof(){return Qt(O.objectKeys(this.shape))}}I.create=(s,e)=>new I({shape:()=>s,unknownKeys:"strip",catchall:J.create(),typeName:b.ZodObject,...k(e)});I.strictCreate=(s,e)=>new I({shape:()=>s,unknownKeys:"strict",catchall:J.create(),typeName:b.ZodObject,...k(e)});I.lazycreate=(s,e)=>new I({shape:s,unknownKeys:"strip",catchall:J.create(),typeName:b.ZodObject,...k(e)});class ke extends S{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function n(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;const i=a.map(o=>new $(o.ctx.common.issues));return h(t,{code:l.invalid_union,unionErrors:i}),x}if(t.common.async)return Promise.all(r.map(async a=>{const i={...t,common:{...t.common,issues:[]},parent:null};return{result:await a._parseAsync({data:t.data,path:t.path,parent:i}),ctx:i}})).then(n);{let a;const i=[];for(const d of r){const c={...t,common:{...t.common,issues:[]},parent:null},p=d._parseSync({data:t.data,path:t.path,parent:c});if(p.status==="valid")return p;p.status==="dirty"&&!a&&(a={result:p,ctx:c}),c.common.issues.length&&i.push(c.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(d=>new $(d));return h(t,{code:l.invalid_union,unionErrors:o}),x}}get options(){return this._def.options}}ke.create=(s,e)=>new ke({options:s,typeName:b.ZodUnion,...k(e)});const Ae=s=>s instanceof Ee?Ae(s.schema):s instanceof q?Ae(s.innerType()):s instanceof Oe?[s.value]:s instanceof se?s.options:s instanceof Te?Object.keys(s.enum):s instanceof Ce?Ae(s._def.innerType):s instanceof xe?[void 0]:s instanceof we?[null]:null;class qe extends S{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==f.object)return h(t,{code:l.invalid_type,expected:f.object,received:t.parsedType}),x;const r=this.discriminator,n=t.data[r],a=this.optionsMap.get(n);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(h(t,{code:l.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),x)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const n=new Map;for(const a of t){const i=Ae(a.shape[e]);if(!i)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of i){if(n.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);n.set(o,a)}}return new qe({typeName:b.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...k(r)})}}function it(s,e){const t=G(s),r=G(e);if(s===e)return{valid:!0,data:s};if(t===f.object&&r===f.object){const n=O.objectKeys(e),a=O.objectKeys(s).filter(o=>n.indexOf(o)!==-1),i={...s,...e};for(const o of a){const d=it(s[o],e[o]);if(!d.valid)return{valid:!1};i[o]=d.data}return{valid:!0,data:i}}else if(t===f.array&&r===f.array){if(s.length!==e.length)return{valid:!1};const n=[];for(let a=0;a<s.length;a++){const i=s[a],o=e[a],d=it(i,o);if(!d.valid)return{valid:!1};n.push(d.data)}return{valid:!0,data:n}}else return t===f.date&&r===f.date&&+s==+e?{valid:!0,data:s}:{valid:!1}}class Se extends S{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),n=(a,i)=>{if(nt(a)||nt(i))return x;const o=it(a.value,i.value);return o.valid?((at(a)||at(i))&&t.dirty(),{status:t.value,value:o.data}):(h(r,{code:l.invalid_intersection_types}),x)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,i])=>n(a,i)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Se.create=(s,e,t)=>new Se({left:s,right:e,typeName:b.ZodIntersection,...k(t)});class W extends S{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==f.array)return h(r,{code:l.invalid_type,expected:f.array,received:r.parsedType}),x;if(r.data.length<this._def.items.length)return h(r,{code:l.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),x;!this._def.rest&&r.data.length>this._def.items.length&&(h(r,{code:l.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const a=[...r.data].map((i,o)=>{const d=this._def.items[o]||this._def.rest;return d?d._parse(new F(r,i,r.path,o)):null}).filter(i=>!!i);return r.common.async?Promise.all(a).then(i=>M.mergeArray(t,i)):M.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new W({...this._def,rest:e})}}W.create=(s,e)=>{if(!Array.isArray(s))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new W({items:s,typeName:b.ZodTuple,rest:null,...k(e)})};class Re extends S{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==f.object)return h(r,{code:l.invalid_type,expected:f.object,received:r.parsedType}),x;const n=[],a=this._def.keyType,i=this._def.valueType;for(const o in r.data)n.push({key:a._parse(new F(r,o,r.path,o)),value:i._parse(new F(r,r.data[o],r.path,o))});return r.common.async?M.mergeObjectAsync(t,n):M.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof S?new Re({keyType:e,valueType:t,typeName:b.ZodRecord,...k(r)}):new Re({keyType:B.create(),valueType:e,typeName:b.ZodRecord,...k(t)})}}class Ue extends S{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==f.map)return h(r,{code:l.invalid_type,expected:f.map,received:r.parsedType}),x;const n=this._def.keyType,a=this._def.valueType,i=[...r.data.entries()].map(([o,d],c)=>({key:n._parse(new F(r,o,r.path,[c,"key"])),value:a._parse(new F(r,d,r.path,[c,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const d of i){const c=await d.key,p=await d.value;if(c.status==="aborted"||p.status==="aborted")return x;(c.status==="dirty"||p.status==="dirty")&&t.dirty(),o.set(c.value,p.value)}return{status:t.value,value:o}})}else{const o=new Map;for(const d of i){const c=d.key,p=d.value;if(c.status==="aborted"||p.status==="aborted")return x;(c.status==="dirty"||p.status==="dirty")&&t.dirty(),o.set(c.value,p.value)}return{status:t.value,value:o}}}}Ue.create=(s,e,t)=>new Ue({valueType:e,keyType:s,typeName:b.ZodMap,...k(t)});class ce extends S{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==f.set)return h(r,{code:l.invalid_type,expected:f.set,received:r.parsedType}),x;const n=this._def;n.minSize!==null&&r.data.size<n.minSize.value&&(h(r,{code:l.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),n.maxSize!==null&&r.data.size>n.maxSize.value&&(h(r,{code:l.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());const a=this._def.valueType;function i(d){const c=new Set;for(const p of d){if(p.status==="aborted")return x;p.status==="dirty"&&t.dirty(),c.add(p.value)}return{status:t.value,value:c}}const o=[...r.data.values()].map((d,c)=>a._parse(new F(r,d,r.path,c)));return r.common.async?Promise.all(o).then(d=>i(d)):i(o)}min(e,t){return new ce({...this._def,minSize:{value:e,message:g.toString(t)}})}max(e,t){return new ce({...this._def,maxSize:{value:e,message:g.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ce.create=(s,e)=>new ce({valueType:s,minSize:null,maxSize:null,typeName:b.ZodSet,...k(e)});class fe extends S{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==f.function)return h(t,{code:l.invalid_type,expected:f.function,received:t.parsedType}),x;function r(o,d){return Pe({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Me(),_e].filter(c=>!!c),issueData:{code:l.invalid_arguments,argumentsError:d}})}function n(o,d){return Pe({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Me(),_e].filter(c=>!!c),issueData:{code:l.invalid_return_type,returnTypeError:d}})}const a={errorMap:t.common.contextualErrorMap},i=t.data;return this._def.returns instanceof me?D(async(...o)=>{const d=new $([]),c=await this._def.args.parseAsync(o,a).catch(E=>{throw d.addIssue(r(o,E)),d}),p=await i(...c);return await this._def.returns._def.type.parseAsync(p,a).catch(E=>{throw d.addIssue(n(p,E)),d})}):D((...o)=>{const d=this._def.args.safeParse(o,a);if(!d.success)throw new $([r(o,d.error)]);const c=i(...d.data),p=this._def.returns.safeParse(c,a);if(!p.success)throw new $([n(c,p.error)]);return p.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new fe({...this._def,args:W.create(e).rest(ie.create())})}returns(e){return new fe({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new fe({args:e||W.create([]).rest(ie.create()),returns:t||ie.create(),typeName:b.ZodFunction,...k(r)})}}class Ee extends S{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Ee.create=(s,e)=>new Ee({getter:s,typeName:b.ZodLazy,...k(e)});class Oe extends S{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return h(t,{received:t.data,code:l.invalid_literal,expected:this._def.value}),x}return{status:"valid",value:e.data}}get value(){return this._def.value}}Oe.create=(s,e)=>new Oe({value:s,typeName:b.ZodLiteral,...k(e)});function Qt(s,e){return new se({values:s,typeName:b.ZodEnum,...k(e)})}class se extends S{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return h(t,{expected:O.joinValues(r),received:t.parsedType,code:l.invalid_type}),x}if(this._def.values.indexOf(e.data)===-1){const t=this._getOrReturnCtx(e),r=this._def.values;return h(t,{received:t.data,code:l.invalid_enum_value,options:r}),x}return D(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return se.create(e)}exclude(e){return se.create(this.options.filter(t=>!e.includes(t)))}}se.create=Qt;class Te extends S{_parse(e){const t=O.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==f.string&&r.parsedType!==f.number){const n=O.objectValues(t);return h(r,{expected:O.joinValues(n),received:r.parsedType,code:l.invalid_type}),x}if(t.indexOf(e.data)===-1){const n=O.objectValues(t);return h(r,{received:r.data,code:l.invalid_enum_value,options:n}),x}return D(e.data)}get enum(){return this._def.values}}Te.create=(s,e)=>new Te({values:s,typeName:b.ZodNativeEnum,...k(e)});class me extends S{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==f.promise&&t.common.async===!1)return h(t,{code:l.invalid_type,expected:f.promise,received:t.parsedType}),x;const r=t.parsedType===f.promise?t.data:Promise.resolve(t.data);return D(r.then(n=>this._def.type.parseAsync(n,{path:t.path,errorMap:t.common.contextualErrorMap})))}}me.create=(s,e)=>new me({type:s,typeName:b.ZodPromise,...k(e)});class q extends S{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===b.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null;if(n.type==="preprocess"){const i=n.transform(r.data);return r.common.async?Promise.resolve(i).then(o=>this._def.schema._parseAsync({data:o,path:r.path,parent:r})):this._def.schema._parseSync({data:i,path:r.path,parent:r})}const a={addIssue:i=>{h(r,i),i.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),n.type==="refinement"){const i=o=>{const d=n.refinement(o,a);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?x:(o.status==="dirty"&&t.dirty(),i(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?x:(o.status==="dirty"&&t.dirty(),i(o.value).then(()=>({status:t.value,value:o.value}))))}if(n.type==="transform")if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!De(i))return i;const o=n.transform(i.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>De(i)?Promise.resolve(n.transform(i.value,a)).then(o=>({status:t.value,value:o})):i);O.assertNever(n)}}q.create=(s,e,t)=>new q({schema:s,typeName:b.ZodEffects,effect:e,...k(t)});q.createWithPreprocess=(s,e,t)=>new q({schema:e,effect:{type:"preprocess",transform:s},typeName:b.ZodEffects,...k(t)});class H extends S{_parse(e){return this._getType(e)===f.undefined?D(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}H.create=(s,e)=>new H({innerType:s,typeName:b.ZodOptional,...k(e)});class ue extends S{_parse(e){return this._getType(e)===f.null?D(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ue.create=(s,e)=>new ue({innerType:s,typeName:b.ZodNullable,...k(e)});class Ce extends S{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===f.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Ce.create=(s,e)=>new Ce({innerType:s,typeName:b.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...k(e)});class Be extends S{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Le(n)?n.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new $(r.common.issues)},input:r.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new $(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Be.create=(s,e)=>new Be({innerType:s,typeName:b.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...k(e)});class $e extends S{_parse(e){if(this._getType(e)!==f.nan){const r=this._getOrReturnCtx(e);return h(r,{code:l.invalid_type,expected:f.nan,received:r.parsedType}),x}return{status:"valid",value:e.data}}}$e.create=s=>new $e({typeName:b.ZodNaN,...k(s)});const Ds=Symbol("zod_brand");class Vt extends S{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class je extends S{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?x:a.status==="dirty"?(t.dirty(),Lt(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const n=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return n.status==="aborted"?x:n.status==="dirty"?(t.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:r.path,parent:r})}}static create(e,t){return new je({in:e,out:t,typeName:b.ZodPipeline})}}const Ut=(s,e={},t)=>s?pe.create().superRefine((r,n)=>{var a,i;if(!s(r)){const o=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,d=(i=(a=o.fatal)!==null&&a!==void 0?a:t)!==null&&i!==void 0?i:!0,c=typeof o=="string"?{message:o}:o;n.addIssue({code:"custom",...c,fatal:d})}}):pe.create(),Ls={object:I.lazycreate};var b;(function(s){s.ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline"})(b||(b={}));const Qs=(s,e={message:`Input not instance of ${s.name}`})=>Ut(t=>t instanceof s,e),Bt=B.create,$t=ee.create,Vs=$e.create,Us=te.create,zt=be.create,Bs=oe.create,$s=Qe.create,zs=xe.create,qs=we.create,Fs=pe.create,Ws=ie.create,Hs=J.create,Js=Ve.create,Ks=z.create,Ys=I.create,Gs=I.strictCreate,Xs=ke.create,er=qe.create,tr=Se.create,sr=W.create,rr=Re.create,nr=Ue.create,ar=ce.create,ir=fe.create,or=Ee.create,cr=Oe.create,ur=se.create,lr=Te.create,dr=me.create,vt=q.create,fr=H.create,hr=ue.create,pr=q.createWithPreprocess,mr=je.create,yr=()=>Bt().optional(),vr=()=>$t().optional(),gr=()=>zt().optional(),_r={string:s=>B.create({...s,coerce:!0}),number:s=>ee.create({...s,coerce:!0}),boolean:s=>be.create({...s,coerce:!0}),bigint:s=>te.create({...s,coerce:!0}),date:s=>oe.create({...s,coerce:!0})},br=x;var C=Object.freeze({__proto__:null,defaultErrorMap:_e,setErrorMap:Ss,getErrorMap:Me,makeIssue:Pe,EMPTY_PATH:Rs,addIssueToContext:h,ParseStatus:M,INVALID:x,DIRTY:Lt,OK:D,isAborted:nt,isDirty:at,isValid:De,isAsync:Le,get util(){return O},get objectUtil(){return rt},ZodParsedType:f,getParsedType:G,ZodType:S,ZodString:B,ZodNumber:ee,ZodBigInt:te,ZodBoolean:be,ZodDate:oe,ZodSymbol:Qe,ZodUndefined:xe,ZodNull:we,ZodAny:pe,ZodUnknown:ie,ZodNever:J,ZodVoid:Ve,ZodArray:z,ZodObject:I,ZodUnion:ke,ZodDiscriminatedUnion:qe,ZodIntersection:Se,ZodTuple:W,ZodRecord:Re,ZodMap:Ue,ZodSet:ce,ZodFunction:fe,ZodLazy:Ee,ZodLiteral:Oe,ZodEnum:se,ZodNativeEnum:Te,ZodPromise:me,ZodEffects:q,ZodTransformer:q,ZodOptional:H,ZodNullable:ue,ZodDefault:Ce,ZodCatch:Be,ZodNaN:$e,BRAND:Ds,ZodBranded:Vt,ZodPipeline:je,custom:Ut,Schema:S,ZodSchema:S,late:Ls,get ZodFirstPartyTypeKind(){return b},coerce:_r,any:Fs,array:Ks,bigint:Us,boolean:zt,date:Bs,discriminatedUnion:er,effect:vt,enum:ur,function:ir,instanceof:Qs,intersection:tr,lazy:or,literal:cr,map:nr,nan:Vs,nativeEnum:lr,never:Hs,null:qs,nullable:hr,number:$t,object:Ys,oboolean:gr,onumber:vr,optional:fr,ostring:yr,pipeline:mr,preprocess:pr,promise:dr,record:rr,set:ar,strictObject:Gs,string:Bt,symbol:$s,transformer:vt,tuple:sr,undefined:zs,union:Xs,unknown:Ws,void:Js,NEVER:br,ZodIssueCode:l,quotelessJson:ks,ZodError:$});const xr=C.array(C.number()).default([]),wr=C.object({id:C.number(),deleted:C.boolean().optional().default(!1),type:C.string(),by:C.string().optional().default(""),time:C.number().optional(),dead:C.boolean().optional().default(!1),kids:C.array(C.number()).optional().default([]),descendants:C.number().optional(),score:C.number().optional(),title:C.string().optional().default(""),url:C.string().optional().default("")}),kr=C.object({id:C.number(),deleted:C.boolean().optional().default(!1),type:C.string(),by:C.string().optional().default(""),time:C.number().optional(),kids:C.array(C.number()).optional().default([]),parent:C.number().optional(),text:C.string().optional().default("")}),Sr=wr.merge(kr),Rr=async()=>{const s=await fetch("https://hacker-news.firebaseio.com/v0/topstories.json");return s.status!==200?Promise.reject(`Failed to fetch top stories res.status:${s.status}`):s.json().then(e=>{const t=xr.safeParse(e);return t.success?t.data:Promise.reject(`Failed to parse top stories json:${e}`)})},qt=async s=>{const e=await fetch(`https://hacker-news.firebaseio.com/v0/item/${s}.json`);return e.status!==200?Promise.reject(`Failed to fetch item ${s} res.status:${e.status}`):e.json().then(t=>{const r=Sr.safeParse(t);return r.success?r.data:Promise.reject(`Failed to parse item itemID:${s} json:${t}`)})};function Er(s=[]){return s.sort((e,t)=>e<t?-1:1)}function Ft(s){if(s===void 0)return"";const e=Date.now();return Or(e,s)}function Or(s,e){const t=Math.floor(s/1e3-e);let r=t/31536e3;return r>1?Math.floor(r)+" years":(r=t/2592e3,r>1?Math.floor(r)+" months":(r=t/86400,r>1?Math.floor(r)+" days":(r=t/3600,r>1?Math.floor(r)+" hrs":(r=t/60,r>1?Math.floor(r)+" mins":Math.floor(t)+" secs"))))}const Tr=()=>Pt({queryKey:["topStories"],queryFn:Rr,cacheTime:12*5*60*1e3,staleTime:6*5*60*1e3}),Cr=(s,e=!1)=>Pt({queryKey:["item",s],queryFn:()=>qt(s),cacheTime:6*5*60*1e3,staleTime:3*5*60*1e3,suspense:e}),jr=(s=[])=>xs({queries:s.map(e=>({queryKey:["item",e],queryFn:()=>qt(e),cacheTime:6*5*60*1e3,staleTime:3*5*60*1e3}))}),Wt=(s,e,t=[])=>{const r=Math.floor(t.length/e),n=t.length%e,a=n===0?r:r+1;let i=e;s>a?i=0:s==a&&(i=n);const o=t.slice((s-1)*e,(s-1)*e+i);return jr(o)},Ir=({data:s,page:e,maxCommentsPerPage:t})=>{console.log(`useContentQuery data: ${JSON.stringify(s)} page: ${e} maxCommentsPerPage: ${t}`);const r=Cr(s.id),n=Er(s.kids),a=Wt(e,t,n);return{originPostData:r,kidsQueries:a}};let Nr=0;function Zr(s,e){const t=`atom${++Nr}`,r={toString:()=>t};return typeof s=="function"?r.read=s:(r.init=s,r.read=n=>n(r),r.write=(n,a,i)=>a(r,typeof i=="function"?i(n(r)):i)),e&&(r.write=e),r}const Je=s=>"init"in s,Ke=s=>!!s.write,ze=new WeakMap,Ar=(s,e)=>{ze.set(s,e),s.catch(()=>{}).finally(()=>ze.delete(s))},gt=(s,e)=>{const t=ze.get(s);t&&(ze.delete(s),t(e))},_t=(s,e)=>{s.status="fulfilled",s.value=e},bt=(s,e)=>{s.status="rejected",s.reason=e},Ne=(s,e)=>"v"in s&&"v"in e&&Object.is(s.v,e.v),xt=(s,e)=>"e"in s&&"e"in e&&Object.is(s.e,e.e),Ye=s=>"v"in s&&s.v instanceof Promise,Ze=s=>{if("e"in s)throw s.e;return s.v},Mr=()=>{const s=new WeakMap,e=new WeakMap,t=new Map;let r,n,a;({BASE_URL:"/react-playground/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&(r=new Set,n=new Set,a=new Set);const i=u=>s.get(u),o=(u,y)=>{({BASE_URL:"/react-playground/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&Object.freeze(y);const v=s.get(u);if(s.set(u,y),t.has(u)||t.set(u,v),v&&Ye(v)){const _="v"in y?y.v instanceof Promise?y.v:Promise.resolve(y.v):Promise.reject(y.e);gt(v.v,_)}},d=(u,y,v)=>{const _=new Map;let R=!1;v.forEach(T=>{const j=T===u?y:i(T);j?(_.set(T,j),y.d.get(T)!==j&&(R=!0)):({BASE_URL:"/react-playground/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&console.warn("[Bug] atom state not found")}),(R||y.d.size!==_.size)&&(y.d=_)},c=(u,y,v)=>{const _=i(u),R={d:(_==null?void 0:_.d)||new Map,v:y};return v&&d(u,R,v),_&&Ne(_,R)&&_.d===R.d?_:(o(u,R),R)},p=(u,y,v)=>{const _=i(u),R={d:(_==null?void 0:_.d)||new Map,e:y};return v&&d(u,R,v),_&&xt(_,R)&&_.d===R.d?_:(o(u,R),R)},m=u=>{const y=i(u);if(y&&(y.d.forEach((N,U)=>{U!==u&&!e.has(U)&&m(U)}),Array.from(y.d).every(([N,U])=>N===u||i(N)===U)))return y;const v=new Set;let _=!0;const R=N=>{if(v.add(N),N===u){const Q=i(N);if(Q)return Ze(Q);if(Je(N))return N.init;throw new Error("no atom init")}const U=m(N);return Ze(U)};let T,j;const Ie={get signal(){return T||(T=new AbortController),T.signal},get setSelf(){return({BASE_URL:"/react-playground/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&!Ke(u)&&console.warn("setSelf function cannot be used with read-only atom"),!j&&Ke(u)&&(j=(...N)=>{if(({BASE_URL:"/react-playground/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&_&&console.warn("setSelf function cannot be called in sync"),!_)return ne(u,...N)}),j}};try{const N=u.read(R,Ie);if(N instanceof Promise){let U;const Q=new Promise((ge,Yt)=>{let le=!1;N.then(Y=>{le||(le=!0,c(u,Q,v),_t(Q,Y),ge(Y))},Y=>{le||(le=!0,c(u,Q,v),bt(Q,Y),Yt(Y))}),U=Y=>{le||(le=!0,Y.then(We=>_t(Q,We),We=>bt(Q,We)),ge(Y))}});return Q.status="pending",Ar(Q,ge=>{ge&&U(ge),T==null||T.abort()}),c(u,Q,v)}return c(u,N,v)}catch(N){return p(u,N,v)}finally{_=!1}},E=u=>Ze(m(u)),A=u=>{let y=e.get(u);return y||(y=P(u)),y},V=(u,y)=>!y.l.size&&(!y.t.size||y.t.size===1&&y.t.has(u)),re=u=>{const y=e.get(u);y&&V(u,y)&&ae(u)},L=u=>{const y=e.get(u);y==null||y.t.forEach(v=>{if(v!==u){const _=i(v),R=m(v);(!_||!Ne(_,R))&&L(v)}})},ye=(u,...y)=>{let v=!0;const _=j=>Ze(m(j)),R=(j,...Ie)=>{let N;if(j===u){if(!Je(j))throw new Error("atom not writable");const U=i(j),Q=c(j,Ie[0]);(!U||!Ne(U,Q))&&L(j)}else N=ye(j,...Ie);return v||K(),N},T=u.write(_,R,...y);return v=!1,T},ne=(u,...y)=>{const v=ye(u,...y);return K(),v},P=(u,y)=>{const v={t:new Set(y&&[y]),l:new Set};if(e.set(u,v),({BASE_URL:"/react-playground/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&a.add(u),m(u).d.forEach((_,R)=>{const T=e.get(R);T?T.t.add(u):R!==u&&P(R,u)}),m(u),Ke(u)&&u.onMount){const _=u.onMount((...R)=>ne(u,...R));_&&(v.u=_)}return v},ae=u=>{var y;const v=(y=e.get(u))==null?void 0:y.u;v&&v(),e.delete(u),({BASE_URL:"/react-playground/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&a.delete(u);const _=i(u);_?(Ye(_)&&gt(_.v),_.d.forEach((R,T)=>{if(T!==u){const j=e.get(T);j&&(j.t.delete(u),V(T,j)&&ae(T))}})):({BASE_URL:"/react-playground/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&console.warn("[Bug] could not find atom state to unmount",u)},ve=(u,y,v)=>{const _=new Set(y.d.keys());v==null||v.forEach((R,T)=>{if(_.has(T)){_.delete(T);return}const j=e.get(T);j&&(j.t.delete(u),V(T,j)&&ae(T))}),_.forEach(R=>{const T=e.get(R);T?T.t.add(u):e.has(u)&&P(R,u)})},K=()=>{for(;t.size;){const u=Array.from(t);t.clear(),u.forEach(([y,v])=>{const _=i(y);if(_){_.d!==(v==null?void 0:v.d)&&ve(y,_,v==null?void 0:v.d);const R=e.get(y);R&&!(v&&!Ye(v)&&(Ne(v,_)||xt(v,_)))&&R.l.forEach(T=>T())}else({BASE_URL:"/react-playground/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&console.warn("[Bug] no atom state to flush")})}({BASE_URL:"/react-playground/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&(r.forEach(u=>u()),n.forEach(u=>u("state")))},Fe=(u,y)=>{const v=A(u);K();const _=v.l;return _.add(y),({BASE_URL:"/react-playground/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&n.forEach(R=>R("sub")),()=>{_.delete(y),re(u),({BASE_URL:"/react-playground/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&n.forEach(R=>R("unsub"))}};return({BASE_URL:"/react-playground/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"?{get:E,set:ne,sub:Fe,dev_subscribe_state:u=>(console.warn("[DEPRECATED] dev_subscribe_state is deprecated and will be removed in the next minor version. use dev_subscribe_store instead."),r.add(u),()=>{r.delete(u)}),dev_subscribe_store:u=>(n.add(u),()=>{n.delete(u)}),dev_get_mounted_atoms:()=>a.values(),dev_get_atom_state:u=>s.get(u),dev_get_mounted:u=>e.get(u),dev_restore_atoms:u=>{for(const[y,v]of u)Je(y)&&(c(y,v),L(y));K()}}:{get:E,set:ne,sub:Fe}};let Ge;const Pr=()=>(Ge||(Ge=Mr()),Ge),Dr=Z.createContext(void 0),Ht=s=>{const e=Z.useContext(Dr);return(s==null?void 0:s.store)||e||Pr()},Lr=s=>s instanceof Promise,Qr=as.use||(s=>{if(s.status==="pending")throw s;if(s.status==="fulfilled")return s.value;throw s.status==="rejected"?s.reason:(s.status="pending",s.then(e=>{s.status="fulfilled",s.value=e},e=>{s.status="rejected",s.reason=e}),s)});function Vr(s,e){const t=Ht(e),[[r,n,a],i]=Z.useReducer(c=>{const p=t.get(s);return Object.is(c[0],p)&&c[1]===t&&c[2]===s?c:[p,t,s]},void 0,()=>[t.get(s),t,s]);let o=r;(n!==t||a!==s)&&(i(),o=t.get(s));const d=e==null?void 0:e.delay;return Z.useEffect(()=>{const c=t.sub(s,()=>{if(typeof d=="number"){setTimeout(i,d);return}i()});return i(),c},[t,s,d]),Z.useDebugValue(o),Lr(o)?Qr(o):o}function Ur(s,e){const t=Ht(e);return Z.useCallback((...n)=>{if(({BASE_URL:"/react-playground/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&!("write"in s))throw new Error("not writable atom");return t.set(s,...n)},[t,s])}function Jt(s,e){return[Vr(s,e),Ur(s,e)]}const Br=10,ot=20,Kt=Zr({});function $r(s){const{item:e,onClick:t}=s,r=e.kids;let n=Math.floor(r.length/ot)+(r.length%ot>0?1:0);const a=n<=1?"1 page":`${n} pages`;return w.jsxs("div",{className:"bg-gray-900 text-gray-200 pl-8 pr-2 cursor-pointer",onClick:t,children:[w.jsxs("div",{className:"w-full inline-block py-2",children:[w.jsxs("div",{className:"float-left",children:[w.jsxs("span",{className:"text-blue-400",children:[e.by," "]}),w.jsxs("span",{className:"",children:[Ft(e.time)," "]}),w.jsxs("span",{children:["🖒",e.score??""]})]}),w.jsxs("span",{className:"float-right",children:[" ",a]})]}),w.jsx("div",{className:"pb-4 border-b-2 border-gray-200",children:w.jsxs("span",{className:"inline-block w-full text-left text-xl text-gray-100",children:[e.title," ",w.jsx("a",{href:`${e.url}`,target:"_blank",title:`${e.url}`,children:"🔗"})]})})]})}function zr({item:s}){const e=Jt(Kt)[1],{status:t,error:r,data:n}=s;return t==="loading"?w.jsx("div",{children:"Item Loading..."}):t==="error"?w.jsxs("div",{children:["Item Error: ",JSON.stringify(r)]}):(n==null?void 0:n.type)==="story"?w.jsx($r,{item:n,onClick:()=>e(n)}):w.jsx(w.Fragment,{})}function wt(s){const{data:e,index:t}=s,{by:r,time:n,text:a}=e;return r===""?w.jsx("div",{},t+2):w.jsxs("div",{className:"bg-gray-800 text-gray-200 p-2 mb-4",children:[w.jsxs("div",{className:"flex",children:[w.jsxs("div",{children:["#",t]})," ",w.jsx("div",{className:"text-blue-400",children:r})," ",w.jsx("div",{children:Ft(n)})]}),w.jsx("div",{children:w.jsx("div",{className:"text-left",dangerouslySetInnerHTML:{__html:a}})})]})}function qr(){const[s,e]=Z.useState(1),t=Jt(Kt)[0],{originPostData:r,kidsQueries:n}=Ir({data:t,page:s,maxCommentsPerPage:ot});let a=w.jsx("div",{});r.status==="loading"?a=w.jsx("div",{children:"originPostData Loading..."}):r.status==="error"?a=w.jsx("div",{children:"originPostData Error..."}):a=w.jsx(wt,{data:r.data,index:1});let i=w.jsx("div",{className:"text-center",children:"Loading..."});return t!=null&&(i=w.jsxs("div",{children:[w.jsx("div",{className:"flex",children:a}),n.map(({status:o,error:d,data:c},p)=>o==="loading"?w.jsx("div",{children:"Loading..."},p+2):o==="error"?w.jsxs("div",{children:["Error: ",JSON.stringify(d)]},p+2):w.jsx(wt,{data:c,index:p+2}))]})),w.jsx("div",{className:"bg-gray-900 text-gray-200 p-2 h-full overflow-y-scroll",children:i})}function Wr(){const[s,e]=Z.useState(1),t=Tr(),r=Wt(s,Br,t.data);let n=null;return t.status==="loading"&&(n=w.jsx("div",{children:"Loading..."})),t.status==="error"&&(n=w.jsxs("div",{children:["Error: ",JSON.stringify(t.error)]})),t.data&&(n=w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"shrink-0 w-[28rem] h-full overflow-y-scroll",children:r.map((a,i)=>w.jsx(zr,{item:a},i))}),w.jsx("div",{className:"grow",children:w.jsx(qr,{})})]})),w.jsx("div",{className:"flex w-full h-screen",children:n})}export{Wr as default};
