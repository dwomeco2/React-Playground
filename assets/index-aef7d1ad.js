import{R as E,r as h,j as d}from"./index-f1a63648.js";import{z as O}from"./index-45b59163.js";let ie=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");var Ee={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},fe=E.createContext&&E.createContext(Ee),I=globalThis&&globalThis.__assign||function(){return I=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},I.apply(this,arguments)},Ze=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function xe(t){return t&&t.map(function(e,r){return E.createElement(e.tag,I({key:r},e.attr),xe(e.child))})}function Ne(t){return function(e){return E.createElement(Je,I({attr:I({},t.attr)},e),xe(t.child))}}function Je(t){var e=function(r){var n=t.attr,i=t.size,o=t.title,s=Ze(t,["attr","size","title"]),a=i||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),E.createElement("svg",I({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,s,{className:c,style:I(I({color:t.color||r.color},r.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&E.createElement("title",null,o),t.children)};return fe!==void 0?E.createElement(fe.Consumer,null,function(r){return e(r)}):e(Ee)}function Ke(t){return Ne({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M18.319 14.4326C20.7628 11.2941 20.542 6.75347 17.6569 3.86829C14.5327 0.744098 9.46734 0.744098 6.34315 3.86829C3.21895 6.99249 3.21895 12.0578 6.34315 15.182C9.22833 18.0672 13.769 18.2879 16.9075 15.8442C16.921 15.8595 16.9351 15.8745 16.9497 15.8891L21.1924 20.1317C21.5829 20.5223 22.2161 20.5223 22.6066 20.1317C22.9971 19.7412 22.9971 19.1081 22.6066 18.7175L18.364 14.4749C18.3493 14.4603 18.3343 14.4462 18.319 14.4326ZM16.2426 5.28251C18.5858 7.62565 18.5858 11.4246 16.2426 13.7678C13.8995 16.1109 10.1005 16.1109 7.75736 13.7678C5.41421 11.4246 5.41421 7.62565 7.75736 5.28251C10.1005 2.93936 13.8995 2.93936 16.2426 5.28251Z",fill:"currentColor"}}]})(t)}function Qe(t){return Ne({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(t)}const Pe=h.createContext({dragDropManager:void 0});function b(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var ge=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),q=function(){return Math.random().toString(36).substring(7).split("").join(".")},he={INIT:"@@redux/INIT"+q(),REPLACE:"@@redux/REPLACE"+q(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+q()}};function et(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Re(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(b(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(b(1));return r(Re)(t,e)}if(typeof t!="function")throw new Error(b(2));var i=t,o=e,s=[],a=s,c=!1;function u(){a===s&&(a=s.slice())}function g(){if(c)throw new Error(b(3));return o}function v(m){if(typeof m!="function")throw new Error(b(4));if(c)throw new Error(b(5));var y=!0;return u(),a.push(m),function(){if(y){if(c)throw new Error(b(6));y=!1,u();var T=a.indexOf(m);a.splice(T,1),s=null}}}function p(m){if(!et(m))throw new Error(b(7));if(typeof m.type>"u")throw new Error(b(8));if(c)throw new Error(b(9));try{c=!0,o=i(o,m)}finally{c=!1}for(var y=s=a,S=0;S<y.length;S++){var T=y[S];T()}return m}function l(m){if(typeof m!="function")throw new Error(b(10));i=m,p({type:he.REPLACE})}function D(){var m,y=v;return m={subscribe:function(T){if(typeof T!="object"||T===null)throw new Error(b(11));function C(){T.next&&T.next(g())}C();var F=y(C);return{unsubscribe:F}}},m[ge]=function(){return this},m}return p({type:he.INIT}),n={dispatch:p,subscribe:v,getState:g,replaceReducer:l},n[ge]=D,n}function f(t,e,...r){if(tt()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;n=new Error(e.replace(/%s/g,function(){return r[i++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function tt(){return typeof process<"u"&&process.env.NODE_ENV==="production"}function rt(t,e,r){return e.split(".").reduce((n,i)=>n&&n[i]?n[i]:r||null,t)}function nt(t,e){return t.filter(r=>r!==e)}function Me(t){return typeof t=="object"}function it(t,e){const r=new Map,n=o=>{r.set(o,r.has(o)?r.get(o)+1:1)};t.forEach(n),e.forEach(n);const i=[];return r.forEach((o,s)=>{o===1&&i.push(s)}),i}function ot(t,e){return t.filter(r=>e.indexOf(r)>-1)}const oe="dnd-core/INIT_COORDS",L="dnd-core/BEGIN_DRAG",se="dnd-core/PUBLISH_DRAG_SOURCE",k="dnd-core/HOVER",A="dnd-core/DROP",H="dnd-core/END_DRAG";function pe(t,e){return{type:oe,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const st={type:oe,payload:{clientOffset:null,sourceClientOffset:null}};function at(t){return function(r=[],n={publishSource:!0}){const{publishSource:i=!0,clientOffset:o,getSourceClientOffset:s}=n,a=t.getMonitor(),c=t.getRegistry();t.dispatch(pe(o)),ct(r,a,c);const u=dt(r,a);if(u==null){t.dispatch(st);return}let g=null;if(o){if(!s)throw new Error("getSourceClientOffset must be defined");ut(s),g=s(u)}t.dispatch(pe(o,g));const p=c.getSource(u).beginDrag(a,u);if(p==null)return;lt(p),c.pinSource(u);const l=c.getSourceType(u);return{type:L,payload:{itemType:l,item:p,sourceId:u,clientOffset:o||null,sourceClientOffset:g||null,isSourcePublic:!!i}}}}function ct(t,e,r){f(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(n){f(r.getSource(n),"Expected sourceIds to be registered.")})}function ut(t){f(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function lt(t){f(Me(t),"Item must be an object.")}function dt(t,e){let r=null;for(let n=t.length-1;n>=0;n--)if(e.canDragSource(t[n])){r=t[n];break}return r}function ft(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){ft(t,i,r[i])})}return t}function ht(t){return function(r={}){const n=t.getMonitor(),i=t.getRegistry();pt(n),Dt(n).forEach((s,a)=>{const c=vt(s,a,i,n),u={type:A,payload:{dropResult:gt({},r,c)}};t.dispatch(u)})}}function pt(t){f(t.isDragging(),"Cannot call drop while not dragging."),f(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function vt(t,e,r,n){const i=r.getTarget(t);let o=i?i.drop(n,t):void 0;return mt(o),typeof o>"u"&&(o=e===0?{}:n.getDropResult()),o}function mt(t){f(typeof t>"u"||Me(t),"Drop result must either be an object or undefined.")}function Dt(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function yt(t){return function(){const r=t.getMonitor(),n=t.getRegistry();Ot(r);const i=r.getSourceId();return i!=null&&(n.getSource(i,!0).endDrag(r,i),n.unpinSource()),{type:H}}}function Ot(t){f(t.isDragging(),"Cannot call endDrag while not dragging.")}function W(t,e){return e===null?t===null:Array.isArray(t)?t.some(r=>r===e):t===e}function St(t){return function(r,{clientOffset:n}={}){Tt(r);const i=r.slice(0),o=t.getMonitor(),s=t.getRegistry(),a=o.getItemType();return wt(i,s,a),bt(i,o,s),It(i,o,s),{type:k,payload:{targetIds:i,clientOffset:n||null}}}}function Tt(t){f(Array.isArray(t),"Expected targetIds to be an array.")}function bt(t,e,r){f(e.isDragging(),"Cannot call hover while not dragging."),f(!e.didDrop(),"Cannot call hover after drop.");for(let n=0;n<t.length;n++){const i=t[n];f(t.lastIndexOf(i)===n,"Expected targetIds to be unique in the passed array.");const o=r.getTarget(i);f(o,"Expected targetIds to be registered.")}}function wt(t,e,r){for(let n=t.length-1;n>=0;n--){const i=t[n],o=e.getTargetType(i);W(o,r)||t.splice(n,1)}}function It(t,e,r){t.forEach(function(n){r.getTarget(n).hover(e,n)})}function Ct(t){return function(){if(t.getMonitor().isDragging())return{type:se}}}function Et(t){return{beginDrag:at(t),publishDragSource:Ct(t),hover:St(t),drop:ht(t),endDrag:yt(t)}}class xt{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:r}=this.store;function n(o){return(...s)=>{const a=o.apply(e,s);typeof a<"u"&&r(a)}}const i=Et(this);return Object.keys(i).reduce((o,s)=>{const a=i[s];return o[s]=n(a),o},{})}dispatch(e){this.store.dispatch(e)}constructor(e,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}}function Nt(t,e){return{x:t.x+e.x,y:t.y+e.y}}function _e(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Pt(t){const{clientOffset:e,initialClientOffset:r,initialSourceClientOffset:n}=t;return!e||!r||!n?null:_e(Nt(e,n),r)}function Rt(t){const{clientOffset:e,initialClientOffset:r}=t;return!e||!r?null:_e(e,r)}const R=[],ae=[];R.__IS_NONE__=!0;ae.__IS_ALL__=!0;function Mt(t,e){return t===R?!1:t===ae||typeof e>"u"?!0:ot(e,t).length>0}class _t{subscribeToStateChange(e,r={}){const{handlerIds:n}=r;f(typeof e=="function","listener must be a function."),f(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let i=this.store.getState().stateId;const o=()=>{const s=this.store.getState(),a=s.stateId;try{a===i||a===i+1&&!Mt(s.dirtyHandlerIds,n)||e()}finally{i=a}};return this.store.subscribe(o)}subscribeToOffsetChange(e){f(typeof e=="function","listener must be a function.");let r=this.store.getState().dragOffset;const n=()=>{const i=this.store.getState().dragOffset;i!==r&&(r=i,e())};return this.store.subscribe(n)}canDragSource(e){if(!e)return!1;const r=this.registry.getSource(e);return f(r,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:r.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const r=this.registry.getTarget(e);if(f(r,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),i=this.getItemType();return W(n,i)&&r.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const r=this.registry.getSource(e,!0);if(f(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(e),i=this.getItemType();return n!==i?!1:r.isDragging(this,e)}isOverTarget(e,r={shallow:!1}){if(!e)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const i=this.registry.getTargetType(e),o=this.getItemType();if(o&&!W(i,o))return!1;const s=this.getTargetIds();if(!s.length)return!1;const a=s.indexOf(e);return n?a===s.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Pt(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Rt(this.store.getState().dragOffset)}constructor(e,r){this.store=e,this.registry=r}}const ve=typeof global<"u"?global:self,je=ve.MutationObserver||ve.WebKitMutationObserver;function Le(t){return function(){const r=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(r),clearInterval(n),t()}}}function jt(t){let e=1;const r=new je(t),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const Lt=typeof je=="function"?jt:Le;class kt{enqueueTask(e){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const r=this.index;if(this.index++,e[r].call(),this.index>this.capacity){for(let n=0,i=e.length-this.index;n<i;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=Lt(this.flush),this.requestErrorThrow=Le(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class At{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}}class Ht{create(e){const r=this.freeTasks,n=r.length?r.pop():new At(this.onError,i=>r[r.length]=i);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const ke=new kt,Ut=new Ht(ke.registerPendingError);function Ft(t){ke.enqueueTask(Ut.create(t))}const ce="dnd-core/ADD_SOURCE",ue="dnd-core/ADD_TARGET",le="dnd-core/REMOVE_SOURCE",U="dnd-core/REMOVE_TARGET";function qt(t){return{type:ce,payload:{sourceId:t}}}function $t(t){return{type:ue,payload:{targetId:t}}}function Gt(t){return{type:le,payload:{sourceId:t}}}function zt(t){return{type:U,payload:{targetId:t}}}function Bt(t){f(typeof t.canDrag=="function","Expected canDrag to be a function."),f(typeof t.beginDrag=="function","Expected beginDrag to be a function."),f(typeof t.endDrag=="function","Expected endDrag to be a function.")}function Vt(t){f(typeof t.canDrop=="function","Expected canDrop to be a function."),f(typeof t.hover=="function","Expected hover to be a function."),f(typeof t.drop=="function","Expected beginDrag to be a function.")}function Y(t,e){if(e&&Array.isArray(t)){t.forEach(r=>Y(r,!1));return}f(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var w;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(w||(w={}));let Wt=0;function Yt(){return Wt++}function Xt(t){const e=Yt().toString();switch(t){case w.SOURCE:return`S${e}`;case w.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function me(t){switch(t[0]){case"S":return w.SOURCE;case"T":return w.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function De(t,e){const r=t.entries();let n=!1;do{const{done:i,value:[,o]}=r.next();if(o===e)return!0;n=!!i}while(!n);return!1}class Zt{addSource(e,r){Y(e),Bt(r);const n=this.addHandler(w.SOURCE,e,r);return this.store.dispatch(qt(n)),n}addTarget(e,r){Y(e,!0),Vt(r);const n=this.addHandler(w.TARGET,e,r);return this.store.dispatch($t(n)),n}containsHandler(e){return De(this.dragSources,e)||De(this.dropTargets,e)}getSource(e,r=!1){return f(this.isSourceId(e),"Expected a valid source ID."),r&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return f(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return f(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return f(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return me(e)===w.SOURCE}isTargetId(e){return me(e)===w.TARGET}removeSource(e){f(this.getSource(e),"Expected an existing source."),this.store.dispatch(Gt(e)),Ft(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){f(this.getTarget(e),"Expected an existing target."),this.store.dispatch(zt(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const r=this.getSource(e);f(r,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=r}unpinSource(){f(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,r,n){const i=Xt(e);return this.types.set(i,r),e===w.SOURCE?this.dragSources.set(i,n):e===w.TARGET&&this.dropTargets.set(i,n),i}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const Jt=(t,e)=>t===e;function Kt(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function Qt(t,e,r=Jt){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!r(t[n],e[n]))return!1;return!0}function er(t=R,e){switch(e.type){case k:break;case ce:case ue:case U:case le:return R;case L:case se:case H:case A:default:return ae}const{targetIds:r=[],prevTargetIds:n=[]}=e.payload,i=it(r,n);if(!(i.length>0||!Qt(r,n)))return R;const s=n[n.length-1],a=r[r.length-1];return s!==a&&(s&&i.push(s),a&&i.push(a)),i}function tr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){tr(t,i,r[i])})}return t}const ye={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function nr(t=ye,e){const{payload:r}=e;switch(e.type){case oe:case L:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case k:return Kt(t.clientOffset,r.clientOffset)?t:rr({},t,{clientOffset:r.clientOffset});case H:case A:return ye;default:return t}}function ir(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){ir(t,i,r[i])})}return t}const or={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function sr(t=or,e){const{payload:r}=e;switch(e.type){case L:return N({},t,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case se:return N({},t,{isSourcePublic:!0});case k:return N({},t,{targetIds:r.targetIds});case U:return t.targetIds.indexOf(r.targetId)===-1?t:N({},t,{targetIds:nt(t.targetIds,r.targetId)});case A:return N({},t,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case H:return N({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function ar(t=0,e){switch(e.type){case ce:case ue:return t+1;case le:case U:return t-1;default:return t}}function cr(t=0){return t+1}function ur(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){ur(t,i,r[i])})}return t}function dr(t={},e){return{dirtyHandlerIds:er(t.dirtyHandlerIds,{type:e.type,payload:lr({},e.payload,{prevTargetIds:rt(t,"dragOperation.targetIds",[])})}),dragOffset:nr(t.dragOffset,e),refCount:ar(t.refCount,e),dragOperation:sr(t.dragOperation,e),stateId:cr(t.stateId)}}function fr(t,e=void 0,r={},n=!1){const i=gr(n),o=new _t(i,new Zt(i)),s=new xt(i,o),a=t(s,e,r);return s.receiveBackend(a),s}function gr(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Re(dr,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function hr(t,e){if(t==null)return{};var r=pr(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pr(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}let Oe=0;const j=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var vr=h.memo(function(e){var{children:r}=e,n=hr(e,["children"]);const[i,o]=mr(n);return h.useEffect(()=>{if(o){const s=Ae();return++Oe,()=>{--Oe===0&&(s[j]=null)}}},[]),d.jsx(Pe.Provider,{value:i,children:r})});function mr(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=Dr(t.backend,t.context,t.options,t.debugMode),r=!t.context;return[e,r]}function Dr(t,e=Ae(),r,n){const i=e;return i[j]||(i[j]={dragDropManager:fr(t,e,r,n)}),i[j]}function Ae(){return typeof global<"u"?global:window}var yr=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r};const x=typeof window<"u"?h.useLayoutEffect:h.useEffect;function Or(t,e,r){const[n,i]=h.useState(()=>e(t)),o=h.useCallback(()=>{const s=e(t);yr(n,s)||(i(s),r&&r())},[n,t,r]);return x(o),[n,o]}function Sr(t,e,r){const[n,i]=Or(t,e,r);return x(function(){const s=t.getHandlerId();if(s!=null)return t.subscribeToStateChange(i,{handlerIds:[s]})},[t,i]),n}function He(t,e,r){return Sr(e,t||(()=>({})),()=>r.reconnect())}function Ue(t,e){const r=[...e||[]];return e==null&&typeof t!="function"&&r.push(t),h.useMemo(()=>typeof t=="function"?t():t,r)}function Tr(t){return h.useMemo(()=>t.hooks.dragSource(),[t])}function br(t){return h.useMemo(()=>t.hooks.dragPreview(),[t])}let $=!1,G=!1;class wr{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){f(!$,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return $=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{$=!1}}isDragging(){if(!this.sourceId)return!1;f(!G,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return G=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{G=!1}}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,r){return this.internalMonitor.isOverTarget(e,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let z=!1;class Ir{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}canDrop(){if(!this.targetId)return!1;f(!z,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return z=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{z=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function Cr(t,e,r){const n=r.getRegistry(),i=n.addTarget(t,e);return[i,()=>n.removeTarget(i)]}function Er(t,e,r){const n=r.getRegistry(),i=n.addSource(t,e);return[i,()=>n.removeSource(i)]}function X(t,e,r,n){let i=r?r.call(n,t,e):void 0;if(i!==void 0)return!!i;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const o=Object.keys(t),s=Object.keys(e);if(o.length!==s.length)return!1;const a=Object.prototype.hasOwnProperty.bind(e);for(let c=0;c<o.length;c++){const u=o[c];if(!a(u))return!1;const g=t[u],v=e[u];if(i=r?r.call(n,g,v,u):void 0,i===!1||i===void 0&&g!==v)return!1}return!0}function Z(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function xr(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function Nr(t){return(e=null,r=null)=>{if(!h.isValidElement(e)){const o=e;return t(o,r),o}const n=e;return xr(n),Pr(n,r?o=>t(o,r):t)}}function Fe(t){const e={};return Object.keys(t).forEach(r=>{const n=t[r];if(r.endsWith("Ref"))e[r]=t[r];else{const i=Nr(n);e[r]=()=>i}}),e}function Se(t,e){typeof t=="function"?t(e):t.current=e}function Pr(t,e){const r=t.ref;return f(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?h.cloneElement(t,{ref:n=>{Se(r,n),Se(e,n)}}):h.cloneElement(t,{ref:e})}class Rr{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?e?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),r):(this.lastConnectedDragSource=e,r):r}reconnectDragPreview(e=!1){const r=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!X(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!X(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=Fe({dragSource:(r,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,Z(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,Z(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class Mr{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!X(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=Fe({dropTarget:(r,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,Z(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function P(){const{dragDropManager:t}=h.useContext(Pe);return f(t!=null,"Expected drag drop context"),t}function _r(t,e){const r=P(),n=h.useMemo(()=>new Rr(r.getBackend()),[r]);return x(()=>(n.dragSourceOptions=t||null,n.reconnect(),()=>n.disconnectDragSource()),[n,t]),x(()=>(n.dragPreviewOptions=e||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,e]),n}function jr(){const t=P();return h.useMemo(()=>new wr(t),[t])}class Lr{beginDrag(){const e=this.spec,r=this.monitor;let n=null;return typeof e.item=="object"?n=e.item:typeof e.item=="function"?n=e.item(r):n={},n??null}canDrag(){const e=this.spec,r=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(r):!0}isDragging(e,r){const n=this.spec,i=this.monitor,{isDragging:o}=n;return o?o(i):r===e.getSourceId()}endDrag(){const e=this.spec,r=this.monitor,n=this.connector,{end:i}=e;i&&i(r.getItem(),r),n.reconnect()}constructor(e,r,n){this.spec=e,this.monitor=r,this.connector=n}}function kr(t,e,r){const n=h.useMemo(()=>new Lr(t,e,r),[e,r]);return h.useEffect(()=>{n.spec=t},[t]),n}function Ar(t){return h.useMemo(()=>{const e=t.type;return f(e!=null,"spec.type must be defined"),e},[t])}function Hr(t,e,r){const n=P(),i=kr(t,e,r),o=Ar(t);x(function(){if(o!=null){const[a,c]=Er(o,i,n);return e.receiveHandlerId(a),r.receiveHandlerId(a),c}},[n,e,r,i,o])}function Ur(t,e){const r=Ue(t,e);f(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=jr(),i=_r(r.options,r.previewOptions);return Hr(r,n,i),[He(r.collect,n,i),Tr(i),br(i)]}function Fr(t){return h.useMemo(()=>t.hooks.dropTarget(),[t])}function qr(t){const e=P(),r=h.useMemo(()=>new Mr(e.getBackend()),[e]);return x(()=>(r.dropTargetOptions=t||null,r.reconnect(),()=>r.disconnectDropTarget()),[t]),r}function $r(){const t=P();return h.useMemo(()=>new Ir(t),[t])}function Gr(t){const{accept:e}=t;return h.useMemo(()=>(f(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class zr{canDrop(){const e=this.spec,r=this.monitor;return e.canDrop?e.canDrop(r.getItem(),r):!0}hover(){const e=this.spec,r=this.monitor;e.hover&&e.hover(r.getItem(),r)}drop(){const e=this.spec,r=this.monitor;if(e.drop)return e.drop(r.getItem(),r)}constructor(e,r){this.spec=e,this.monitor=r}}function Br(t,e){const r=h.useMemo(()=>new zr(t,e),[e]);return h.useEffect(()=>{r.spec=t},[t]),r}function Vr(t,e,r){const n=P(),i=Br(t,e),o=Gr(t);x(function(){const[a,c]=Cr(o,i,n);return e.receiveHandlerId(a),r.receiveHandlerId(a),c},[n,e,i,r,o.map(s=>s.toString()).join("|")])}function qe(t,e){const r=Ue(t,e),n=$r(),i=qr(r.options);return Vr(r,n,i),[He(r.collect,n,i),Fr(i)]}function $e(t){let e=null;return()=>(e==null&&(e=t()),e)}function Wr(t,e){return t.filter(r=>r!==e)}function Yr(t,e){const r=new Set,n=o=>r.add(o);t.forEach(n),e.forEach(n);const i=[];return r.forEach(o=>i.push(o)),i}class Xr{enter(e){const r=this.entered.length,n=i=>this.isNodeInDocument(i)&&(!i.contains||i.contains(e));return this.entered=Yr(this.entered.filter(n),[e]),r===0&&this.entered.length>0}leave(e){const r=this.entered.length;return this.entered=Wr(this.entered.filter(this.isNodeInDocument),e),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class Zr{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const i=this.config.exposeProperties[n];i!=null&&(r[n]={value:i(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const Ge="__NATIVE_FILE__",ze="__NATIVE_URL__",Be="__NATIVE_TEXT__",Ve="__NATIVE_HTML__",Te=Object.freeze(Object.defineProperty({__proto__:null,FILE:Ge,HTML:Ve,TEXT:Be,URL:ze},Symbol.toStringTag,{value:"Module"}));function B(t,e,r){const n=e.reduce((i,o)=>i||t.getData(o),"");return n??r}const J={[Ge]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[Ve]:{exposeProperties:{html:(t,e)=>B(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[ze]:{exposeProperties:{urls:(t,e)=>B(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[Be]:{exposeProperties:{text:(t,e)=>B(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function Jr(t,e){const r=J[t];if(!r)throw new Error(`native type ${t} has no configuration`);const n=new Zr(r);return n.loadDataTransfer(e),n}function V(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(J).filter(r=>{const n=J[r];return n!=null&&n.matchesTypes?n.matchesTypes.some(i=>e.indexOf(i)>-1):!1})[0]||null}const Kr=$e(()=>/firefox/i.test(navigator.userAgent)),We=$e(()=>!!window.safari);class be{interpolate(e){const{xs:r,ys:n,c1s:i,c2s:o,c3s:s}=this;let a=r.length-1;if(e===r[a])return n[a];let c=0,u=s.length-1,g;for(;c<=u;){g=Math.floor(.5*(c+u));const l=r[g];if(l<e)c=g+1;else if(l>e)u=g-1;else return n[g]}a=Math.max(0,u);const v=e-r[a],p=v*v;return n[a]+i[a]*v+o[a]*p+s[a]*v*p}constructor(e,r){const{length:n}=e,i=[];for(let l=0;l<n;l++)i.push(l);i.sort((l,D)=>e[l]<e[D]?-1:1);const o=[],s=[];let a,c;for(let l=0;l<n-1;l++)a=e[l+1]-e[l],c=r[l+1]-r[l],o.push(a),s.push(c/a);const u=[s[0]];for(let l=0;l<o.length-1;l++){const D=s[l],m=s[l+1];if(D*m<=0)u.push(0);else{a=o[l];const y=o[l+1],S=a+y;u.push(3*S/((S+y)/D+(S+a)/m))}}u.push(s[s.length-1]);const g=[],v=[];let p;for(let l=0;l<u.length-1;l++){p=s[l];const D=u[l],m=1/o[l],y=D+u[l+1]-p-p;g.push((p-D-y)*m),v.push(y*m*m)}this.xs=e,this.ys=r,this.c1s=u,this.c2s=g,this.c3s=v}}const Qr=1;function Ye(t){const e=t.nodeType===Qr?t:t.parentElement;if(!e)return null;const{top:r,left:n}=e.getBoundingClientRect();return{x:n,y:r}}function M(t){return{x:t.clientX,y:t.clientY}}function en(t){var e;return t.nodeName==="IMG"&&(Kr()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function tn(t,e,r,n){let i=t?e.width:r,o=t?e.height:n;return We()&&t&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}function rn(t,e,r,n,i){const o=en(e),a=Ye(o?t:e),c={x:r.x-a.x,y:r.y-a.y},{offsetWidth:u,offsetHeight:g}=t,{anchorX:v,anchorY:p}=n,{dragPreviewWidth:l,dragPreviewHeight:D}=tn(o,e,u,g),m=()=>{let de=new be([0,.5,1],[c.y,c.y/g*D,c.y+D-g]).interpolate(p);return We()&&o&&(de+=(window.devicePixelRatio-1)*D),de},y=()=>new be([0,.5,1],[c.x,c.x/u*l,c.x+l-u]).interpolate(v),{offsetX:S,offsetY:T}=i,C=S===0||S,F=T===0||T;return{x:C?S:y(),y:F?T:m()}}class nn{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,r){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=r}}function on(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function we(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){on(t,i,r[i])})}return t}class sn{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,r,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,n){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,n);const i=s=>this.handleDragStart(s,e),o=s=>this.handleSelectStart(s);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",i),r.addEventListener("selectstart",o),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",i),r.removeEventListener("selectstart",o),r.setAttribute("draggable","false")}}connectDropTarget(e,r){const n=s=>this.handleDragEnter(s,e),i=s=>this.handleDragOver(s,e),o=s=>this.handleDrop(s,e);return r.addEventListener("dragenter",n),r.addEventListener("dragover",i),r.addEventListener("drop",o),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",i),r.removeEventListener("drop",o)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return we({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(e);return we({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(Te).some(r=>Te[r]===e)}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=Jr(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=i=>{const o=this.sourceNodes.get(i);return o&&Ye(o)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=i=>!!(i&&this.document&&this.document.body&&this.document.body.contains(i)),this.endDragIfSourceWasRemovedFromDOM=()=>{const i=this.currentDragSourceNode;i==null||this.isNodeInDocument(i)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=i=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(i||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=i=>{if(i.defaultPrevented)return;const{dragStartSourceIds:o}=this;this.dragStartSourceIds=null;const s=M(i);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(o||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:s});const{dataTransfer:a}=i,c=V(a);if(this.monitor.isDragging()){if(a&&typeof a.setDragImage=="function"){const g=this.monitor.getSourceId(),v=this.sourceNodes.get(g),p=this.sourcePreviewNodes.get(g)||v;if(p){const{anchorX:l,anchorY:D,offsetX:m,offsetY:y}=this.getCurrentSourcePreviewNodeOptions(),C=rn(v,p,s,{anchorX:l,anchorY:D},{offsetX:m,offsetY:y});a.setDragImage(p,C.x,C.y)}}try{a==null||a.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(i.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(c)this.beginDragNativeItem(c);else{if(a&&!a.types&&(i.target&&!i.target.hasAttribute||!i.target.hasAttribute("draggable")))return;i.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=i=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}if(!this.enterLeaveCounter.enter(i.target)||this.monitor.isDragging())return;const{dataTransfer:a}=i,c=V(a);c&&this.beginDragNativeItem(c,a)},this.handleTopDragEnter=i=>{const{dragEnterTargetIds:o}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=i.altKey,o.length>0&&this.actions.hover(o,{clientOffset:M(i)}),o.some(a=>this.monitor.canDropOnTarget(a))&&(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=i=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}},this.handleTopDragOver=i=>{const{dragOverTargetIds:o}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}this.altKeyPressed=i.altKey,this.lastClientOffset=M(i),this.scheduleHover(o),(o||[]).some(a=>this.monitor.canDropOnTarget(a))?(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?i.preventDefault():(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=i=>{this.isDraggingNativeItem()&&i.preventDefault(),this.enterLeaveCounter.leave(i.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=i=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var o;i.preventDefault(),(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}else V(i.dataTransfer)&&i.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=i=>{const{dropTargetIds:o}=this;this.dropTargetIds=[],this.actions.hover(o,{clientOffset:M(i)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=i=>{const o=i.target;typeof o.dragDrop=="function"&&(o.tagName==="INPUT"||o.tagName==="SELECT"||o.tagName==="TEXTAREA"||o.isContentEditable||(i.preventDefault(),o.dragDrop()))},this.options=new nn(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new Xr(this.isNodeInDocument)}}const an=function(e,r,n){return new sn(e,r,n)},K=O.object({id:O.string(),text:O.string(),checked:O.boolean().default(!1)});O.array(K).default([]);O.object({id:O.string(),index:O.number()});const cn=t=>{const{handleTodoChecked:e,handleDrop:r,deleteTodoItem:n,...i}=t,o=h.useRef(null),[,s]=qe({accept:"todo",hover(c,u){var y;if(!o.current)return;const g=c.index,v=i.index;if(g===v)return;const p=u.getClientOffset();if(p==null)return;const l=(y=o.current)==null?void 0:y.getBoundingClientRect(),D=(l.bottom-l.top)/2,m=p.y-l.top;g<v&&m<D||g>v&&m>D||(r(g,v),c.index=v)}}),[,a]=Ur({type:"todo",item:{id:i.id,index:t.index}});return a(s(o)),d.jsx("div",{ref:o,children:d.jsx("div",{className:"flex items-center hover:bg-gray-800 rounded-md",children:d.jsxs("div",{className:"flex grow ",children:[d.jsx("div",{className:"flex items-center px-1",children:d.jsx("input",{checked:i.checked??!1,id:"checked-checkbox",type:"checkbox",value:"",className:"w-4 h-4 accent-green-600 bg-gray-200 rounded",onChange:c=>e(i.id,c)})}),d.jsx("div",{className:`grow text-start py-2 px-1 text-gray-200 border-gray-300 ${i.checked&&"line-through"} cursor-pointer`,children:i.text}),d.jsx("button",{type:"button",onClick:()=>n(i.id),className:"text-gray-200 text-lg py-2 px-1 hover:bg-gray-800 rounded-md",children:d.jsx(Qe,{})})]})})})},un=({children:t,className:e})=>{const[,r]=qe(()=>({accept:"todo"}));return d.jsx("div",{ref:r,className:e,children:t})},ln=()=>{const[t,e]=h.useState([]),[r,n]=h.useState(""),i=u=>{n(u.target.value)},o=u=>{u.preventDefault(),r.trim()&&(e([...t,K.parse({id:ie(),text:r})]),n(""))},s=(u,g)=>{e(v=>{const p=[...v];let l=p.findIndex(D=>D.id===u);return p[l]=K.parse({...p[l],checked:g.target.checked}),p})},a=(u,g)=>{e(v=>{let p=[...v];const[l]=p.splice(u,1);return p.splice(g,0,l),p})},c=u=>{e(g=>g.filter(v=>v.id!==u))};return d.jsxs("div",{className:"max-w-lg mx-auto text-gray-800 bg-gray-900 p-2 rounded-md",children:[d.jsx("div",{children:d.jsx("h1",{className:"text-gray-300 text-2xl font-bold mb-2",children:"Todo List"})}),d.jsx("form",{onSubmit:o,className:`flex gap-2 outline-0 ${t&&t[0]?"mb-4":""}`,children:d.jsxs("div",{className:"flex grow relative",children:[d.jsx("div",{className:"text-gray-300 absolute-center-y left-2",children:d.jsx(Ke,{})}),d.jsx("input",{type:"text",value:r,onChange:i,placeholder:"Add a task",className:"flex-1 placeholder-gray-500 text-gray-200 bg-gray-600 rounded-md p-2 reset-input pl-8"})]})}),d.jsx(vr,{backend:an,children:d.jsx(un,{className:"list-container max-h-[32rem]",children:t.map((u,g)=>d.jsx(cn,{index:g,handleTodoChecked:s,handleDrop:a,deleteTodoItem:c,...u},u.id))})})]})},dn=ln,fn=["#392A1A","#473616","#7f410b","#8D3608","#912107","#A62507","#4E3E0A","#69530C","#715A0C","#EDC53F","#EEC12E"];function gn(){const[t,e]=h.useReducer(hn,On()),[r,n]=h.useState(!1);return bn(["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],[_(vn,e),_(te,e),_(re,e),_(mn,e)],[]),h.useEffect(()=>{if(t.every(i=>i.val!==0)){let i=[0,1,2,3].map(c=>te(c).map(Q)),o=[0,1,2,3].map(c=>re(c).map(Q));const s=ee(i,t),a=ee(o,t);s.length===0&&a.length===0&&n(!0)}},[t]),d.jsxs("div",{children:[d.jsx("div",{className:"relative mx-auto sm:h-[480px] sm:w-[480px] w-[311px] aspect-square p-1 sm:p-2 rounded-md bg-emerald-200 sm:gap-2 gap-1",children:t.map(i=>d.jsx("div",{className:"absolute w-[70.75px] h-[70.75px] sm:w-[110px] sm:h-[110px] bg-slate-700 flex justify-center items-center font-extrabold sm:text-4xl text-xl select-none",style:{backgroundColor:`${+i.val==0?"":fn[Math.log2(+i.val)]}`,top:`${8+118*i.cor.row}px`,left:`${8+118*i.cor.col}px`},children:d.jsxs("div",{className:"flex flex-col",children:[d.jsx("div",{className:"text-center text-[8px]",children:i.id}),d.jsx("div",{children:i.val!=0?i.val:""})]})},i.id))}),r&&d.jsx("div",{children:"End"})]})}function hn(t,e){let r=t;if(e.type==="arrowkey"){const n=ee(e.payload.lines,r).map(o=>{let s=o.map(Ie);return pn(s)}).flat();if(n.length===0)return t;let i=Ie(t);return n.forEach(({merged:o,unmount:s})=>{o.forEach(a=>{let c=i.findIndex(u=>u.id===a.id);c!==-1?i[c]=a:i.push(a)}),s.forEach(a=>{i=i.filter(c=>c.id!==a)})}),Dn(t,i)?(console.log("no changes"),t):(i.findIndex(o=>o.val===0)!==-1&&(i=ne(i)),i)}throw Error("Unknown action")}const pn=t=>{let e=[],r=0,n=1;for(;r<3;){if(n>=4){r++,n=r+1;continue}if(t[r].val===t[n].val&&t[r].val!=0)t[n].prevCor=t[n].cor,t[n].cor=t[r].cor,t[n].val*=2,e.push(t[r].id),t[r]=t[n],t[n]={id:"tombstone",val:0,cor:t[n].prevCor},r++;else if(t[r].val===0&&t[n].val!=0)t[n].prevCor=t[n].cor,t[n].cor=t[r].cor,e.push(t[r].id),t[r]=t[n],t[n]={id:"tombstone",val:0,cor:t[n].prevCor};else if(t[r].val!==t[n].val&&t[n].val!=0){r++,n=r+1;continue}n++}return t.forEach(i=>{i.id==="tombstone"&&(i.id=ie())}),e=e.filter(i=>!t.find(o=>o.id===i)),{merged:t,unmount:e}},Q=t=>({row:Math.floor(t/4),col:t%4}),_=(t,e)=>()=>{let r=[0,1,2,3].map(n=>t(n).map(Q));e({type:"arrowkey",payload:{lines:r}})},ee=(t,e)=>t.map(r=>r.map(({row:n,col:i})=>e.find(o=>o.cor.row===n&&o.cor.col===i))).filter(r=>!r.every(n=>n.val===0)).filter(r=>{let n=!r.every(o=>o.val!==0),i=!1;for(let o=0;o<r.length-1;o++)r[o].val===r[o+1].val&&(i=!0);return n||i}),te=t=>[t*4,t*4+1,t*4+2,t*4+3],vn=t=>te(t).reverse(),re=t=>[t,t+4,t+8,t+12],mn=t=>re(t).reverse(),Ie=t=>JSON.parse(JSON.stringify(t)),Dn=(t,e)=>JSON.stringify(t)===JSON.stringify(e),yn=()=>Math.random()<=.9?2:4,ne=t=>{let e;do e=Math.floor(Math.random()*16);while(t[e].val!==0);return t[e].val=yn(),t},On=()=>{let t=Array(16).fill(null);for(let e=0;e<16;e++){const r={val:0,cor:{row:Math.floor(e/4),col:e%4},id:ie()};t[e]=r}return t=Tn.parse(t),t=ne(t),t=ne(t),t},Ce=O.object({row:O.number().max(3),col:O.number().max(3)}),Sn=O.object({id:O.string(),val:O.number().default(0),cor:Ce,prevCor:Ce.optional()}),Tn=O.array(Sn),bn=(t,e,r)=>{const n=i=>{t.forEach((o,s)=>{i.key==o&&e[s](r)})};h.useEffect(()=>(window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}),[r])};function Cn(){const[t,e]=h.useState(2);return d.jsxs("div",{className:"flex flex-col h-screen",children:[d.jsxs("div",{className:"flex flex-wrap w-full justify-center gap-2 text-center mb-2",children:[d.jsx("div",{children:d.jsx("button",{className:"py-2 px-8 w-full bg-green-500 text-white",onClick:()=>e(1),children:"TodoList"})}),d.jsx("div",{children:d.jsx("button",{className:"py-2 px-8 w-full bg-orange-500 text-white",onClick:()=>e(2),children:"2048"})})]}),d.jsx("div",{className:"w-full h-full",children:d.jsxs("div",{children:[t==1&&d.jsx(h.Suspense,{fallback:d.jsx("div",{children:"Loading..."}),children:d.jsx(dn,{})}),t==2&&d.jsx(h.Suspense,{fallback:d.jsx("div",{children:"Loading..."}),children:d.jsx(gn,{})})]})})]})}export{Cn as default};
