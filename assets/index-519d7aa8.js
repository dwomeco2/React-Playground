import{j as t,r as m}from"./index-67494a78.js";const v="_flip_card_1we0k_1",$="_flip_animate_1we0k_116",b="_from_top_to_middle_1we0k_1",j="_from_middle_to_bottom_1we0k_1",k="_clock_1we0k_144",s={flip_card:v,"top-half":"_top-half_1we0k_40","top-half-flip":"_top-half-flip_1we0k_41","bottom-half":"_bottom-half_1we0k_56","bottom-half-flip":"_bottom-half-flip_1we0k_57",flip_animate:$,from_top_to_middle:b,from_middle_to_bottom:j,clock:k};function w({initTotalSeconds:l,timerInterval:o}){function n(e,d){const{totalSeconds:i}=e;if(d.type=="tick")return i>0?{totalSeconds:i-1}:{totalSeconds:0};throw new Error}const[{totalSeconds:a},f]=m.useReducer(n,{totalSeconds:l});N(()=>{f({type:"tick"})},o);function c(e){const d=Math.floor(e/86400),i=Math.floor(e%(60*60*24)/(60*60)),r=Math.floor(e%(60*60)/60),_=e%60;return{days:d,hours:i,minutes:r,seconds:_}}return[c(a),e=>{o=e}]}function N(l,o){const n=m.useRef(l);m.useEffect(()=>{n.current=l}),m.useEffect(()=>{function a(){n.current()}if(o!==null){const f=setInterval(()=>a(),o);return()=>clearInterval(f)}},[o])}function L(l,o){return Math.floor(Math.random()*(o-l+1))+l}function x(l,o){return(l%o+o)%o}function u({num:l,upperLimit:o,scale:n}){const a=(l+1)%(o+1),f=x(a-1,o+1),c=e=>{e.innerHTML=(""+x(+e.innerHTML-1,o+1)).padStart(2,"0")};return m.useEffect(()=>{const e=document.querySelector(`.${n}.${s["top-half"]}`),d=document.querySelector(`.${n}.${s["bottom-half"]}`),i=document.querySelector(`.${n}.${s["top-half-flip"]}`),r=document.querySelector(`.${n}.${s["bottom-half-flip"]}`);if(e==null||d==null||i==null||r==null)return;const _=()=>{c(e)},p=()=>{c(i),i.classList.remove(`${s.flip_animate}`),r.classList.add(`${s.flip_animate}`)},h=()=>{c(d),c(r),r.classList.remove(`${s.flip_animate}`)};return i.addEventListener("animationstart",_),i.addEventListener("animationend",p),r.addEventListener("animationend",h),()=>{i.removeEventListener("animationstart",_),i.removeEventListener("animationend",p),r.removeEventListener("animationend",h)}},[]),m.useEffect(()=>{const e=document.querySelector(`.${n}.${s["top-half-flip"]}`);e!=null&&e.classList.add(`${s.flip_animate}`)},[a]),t.jsxs("div",{className:`${s.flip_card}`,children:[t.jsxs("div",{className:`${s["top-half"]} ${n}`,children:[" ",a]}),t.jsxs("div",{className:`${s["bottom-half"]} ${n}`,children:[" ",a]}),t.jsxs("div",{className:`${s["top-half-flip"]} ${n}`,children:[" ",a]}),t.jsxs("div",{className:`${s["bottom-half-flip"]} ${n}`,children:[" ",f]})]})}function S(){const l=L(1,8639999),[o]=w({initTotalSeconds:l,timerInterval:1e3}),{days:n,hours:a,minutes:f,seconds:c}=o;return t.jsx("div",{className:"text-center",children:t.jsxs("div",{className:`${s.clock} flex gap-4`,children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx(u,{num:n,upperLimit:99,scale:"countdown_days"}),t.jsx("div",{className:"font-bold mt-6",children:"Days"})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx(u,{num:a,upperLimit:23,scale:"countdown_hours"}),t.jsx("div",{className:"font-bold mt-6",children:"Hours"})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx(u,{num:f,upperLimit:59,scale:"countdown_minutes"}),t.jsx("div",{className:"font-bold mt-6",children:"Minutes"})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx(u,{num:c,upperLimit:59,scale:"countdown_second"}),t.jsx("div",{className:"font-bold mt-6",children:"Seconds"})]})]})})}export{S as default};
