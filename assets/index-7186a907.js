import{r as h,j as y,m as Le}from"./index-e3a0434a.js";import{z as k}from"./index-45b59163.js";import{G as je}from"./iconBase-1cdfe73e.js";import{f as He}from"./index.esm-8fe194cf.js";function Ae(t){return je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M18.319 14.4326C20.7628 11.2941 20.542 6.75347 17.6569 3.86829C14.5327 0.744098 9.46734 0.744098 6.34315 3.86829C3.21895 6.99249 3.21895 12.0578 6.34315 15.182C9.22833 18.0672 13.769 18.2879 16.9075 15.8442C16.921 15.8595 16.9351 15.8745 16.9497 15.8891L21.1924 20.1317C21.5829 20.5223 22.2161 20.5223 22.6066 20.1317C22.9971 19.7412 22.9971 19.1081 22.6066 18.7175L18.364 14.4749C18.3493 14.4603 18.3343 14.4462 18.319 14.4326ZM16.2426 5.28251C18.5858 7.62565 18.5858 11.4246 16.2426 13.7678C13.8995 16.1109 10.1005 16.1109 7.75736 13.7678C5.41421 11.4246 5.41421 7.62565 7.75736 5.28251C10.1005 2.93936 13.8995 2.93936 16.2426 5.28251Z",fill:"currentColor"}}]})(t)}const pe=h.createContext({dragDropManager:void 0});function S(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var ne=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),U=function(){return Math.random().toString(36).substring(7).split("").join(".")},ie={INIT:"@@redux/INIT"+U(),REPLACE:"@@redux/REPLACE"+U(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+U()}};function ke(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function ve(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(S(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(S(1));return r(ve)(t,e)}if(typeof t!="function")throw new Error(S(2));var i=t,o=e,s=[],a=s,c=!1;function l(){a===s&&(a=s.slice())}function p(){if(c)throw new Error(S(3));return o}function D(g){if(typeof g!="function")throw new Error(S(4));if(c)throw new Error(S(5));var f=!0;return l(),a.push(g),function(){if(f){if(c)throw new Error(S(6));f=!1,l();var O=a.indexOf(g);a.splice(O,1),s=null}}}function m(g){if(!ke(g))throw new Error(S(7));if(typeof g.type>"u")throw new Error(S(8));if(c)throw new Error(S(9));try{c=!0,o=i(o,g)}finally{c=!1}for(var f=s=a,T=0;T<f.length;T++){var O=f[T];O()}return g}function u(g){if(typeof g!="function")throw new Error(S(10));i=g,m({type:ie.REPLACE})}function v(){var g,f=D;return g={subscribe:function(O){if(typeof O!="object"||O===null)throw new Error(S(11));function b(){O.next&&O.next(p())}b();var E=f(b);return{unsubscribe:E}}},g[ne]=function(){return this},g}return m({type:ie.INIT}),n={dispatch:m,subscribe:D,getState:p,replaceReducer:u},n[ne]=v,n}function d(t,e,...r){if(Ue()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;n=new Error(e.replace(/%s/g,function(){return r[i++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function Ue(){return typeof process<"u"&&process.env.NODE_ENV==="production"}function Fe(t,e,r){return e.split(".").reduce((n,i)=>n&&n[i]?n[i]:r||null,t)}function $e(t,e){return t.filter(r=>r!==e)}function me(t){return typeof t=="object"}function qe(t,e){const r=new Map,n=o=>{r.set(o,r.has(o)?r.get(o)+1:1)};t.forEach(n),e.forEach(n);const i=[];return r.forEach((o,s)=>{o===1&&i.push(s)}),i}function Ge(t,e){return t.filter(r=>e.indexOf(r)>-1)}const Q="dnd-core/INIT_COORDS",_="dnd-core/BEGIN_DRAG",Z="dnd-core/PUBLISH_DRAG_SOURCE",L="dnd-core/HOVER",j="dnd-core/DROP",H="dnd-core/END_DRAG";function oe(t,e){return{type:Q,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const Be={type:Q,payload:{clientOffset:null,sourceClientOffset:null}};function Ve(t){return function(r=[],n={publishSource:!0}){const{publishSource:i=!0,clientOffset:o,getSourceClientOffset:s}=n,a=t.getMonitor(),c=t.getRegistry();t.dispatch(oe(o)),Ye(r,a,c);const l=ze(r,a);if(l==null){t.dispatch(Be);return}let p=null;if(o){if(!s)throw new Error("getSourceClientOffset must be defined");We(s),p=s(l)}t.dispatch(oe(o,p));const m=c.getSource(l).beginDrag(a,l);if(m==null)return;Xe(m),c.pinSource(l);const u=c.getSourceType(l);return{type:_,payload:{itemType:u,item:m,sourceId:l,clientOffset:o||null,sourceClientOffset:p||null,isSourcePublic:!!i}}}}function Ye(t,e,r){d(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(n){d(r.getSource(n),"Expected sourceIds to be registered.")})}function We(t){d(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Xe(t){d(me(t),"Item must be an object.")}function ze(t,e){let r=null;for(let n=t.length-1;n>=0;n--)if(e.canDragSource(t[n])){r=t[n];break}return r}function Qe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ze(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Qe(t,i,r[i])})}return t}function Je(t){return function(r={}){const n=t.getMonitor(),i=t.getRegistry();Ke(n),rt(n).forEach((s,a)=>{const c=et(s,a,i,n),l={type:j,payload:{dropResult:Ze({},r,c)}};t.dispatch(l)})}}function Ke(t){d(t.isDragging(),"Cannot call drop while not dragging."),d(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function et(t,e,r,n){const i=r.getTarget(t);let o=i?i.drop(n,t):void 0;return tt(o),typeof o>"u"&&(o=e===0?{}:n.getDropResult()),o}function tt(t){d(typeof t>"u"||me(t),"Drop result must either be an object or undefined.")}function rt(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function nt(t){return function(){const r=t.getMonitor(),n=t.getRegistry();it(r);const i=r.getSourceId();return i!=null&&(n.getSource(i,!0).endDrag(r,i),n.unpinSource()),{type:H}}}function it(t){d(t.isDragging(),"Cannot call endDrag while not dragging.")}function V(t,e){return e===null?t===null:Array.isArray(t)?t.some(r=>r===e):t===e}function ot(t){return function(r,{clientOffset:n}={}){st(r);const i=r.slice(0),o=t.getMonitor(),s=t.getRegistry(),a=o.getItemType();return ct(i,s,a),at(i,o,s),ut(i,o,s),{type:L,payload:{targetIds:i,clientOffset:n||null}}}}function st(t){d(Array.isArray(t),"Expected targetIds to be an array.")}function at(t,e,r){d(e.isDragging(),"Cannot call hover while not dragging."),d(!e.didDrop(),"Cannot call hover after drop.");for(let n=0;n<t.length;n++){const i=t[n];d(t.lastIndexOf(i)===n,"Expected targetIds to be unique in the passed array.");const o=r.getTarget(i);d(o,"Expected targetIds to be registered.")}}function ct(t,e,r){for(let n=t.length-1;n>=0;n--){const i=t[n],o=e.getTargetType(i);V(o,r)||t.splice(n,1)}}function ut(t,e,r){t.forEach(function(n){r.getTarget(n).hover(e,n)})}function dt(t){return function(){if(t.getMonitor().isDragging())return{type:Z}}}function lt(t){return{beginDrag:Ve(t),publishDragSource:dt(t),hover:ot(t),drop:Je(t),endDrag:nt(t)}}class gt{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:r}=this.store;function n(o){return(...s)=>{const a=o.apply(e,s);typeof a<"u"&&r(a)}}const i=lt(this);return Object.keys(i).reduce((o,s)=>{const a=i[s];return o[s]=n(a),o},{})}dispatch(e){this.store.dispatch(e)}constructor(e,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}}function ft(t,e){return{x:t.x+e.x,y:t.y+e.y}}function De(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ht(t){const{clientOffset:e,initialClientOffset:r,initialSourceClientOffset:n}=t;return!e||!r||!n?null:De(ft(e,n),r)}function pt(t){const{clientOffset:e,initialClientOffset:r}=t;return!e||!r?null:De(e,r)}const P=[],J=[];P.__IS_NONE__=!0;J.__IS_ALL__=!0;function vt(t,e){return t===P?!1:t===J||typeof e>"u"?!0:Ge(e,t).length>0}class mt{subscribeToStateChange(e,r={}){const{handlerIds:n}=r;d(typeof e=="function","listener must be a function."),d(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let i=this.store.getState().stateId;const o=()=>{const s=this.store.getState(),a=s.stateId;try{a===i||a===i+1&&!vt(s.dirtyHandlerIds,n)||e()}finally{i=a}};return this.store.subscribe(o)}subscribeToOffsetChange(e){d(typeof e=="function","listener must be a function.");let r=this.store.getState().dragOffset;const n=()=>{const i=this.store.getState().dragOffset;i!==r&&(r=i,e())};return this.store.subscribe(n)}canDragSource(e){if(!e)return!1;const r=this.registry.getSource(e);return d(r,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:r.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const r=this.registry.getTarget(e);if(d(r,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),i=this.getItemType();return V(n,i)&&r.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const r=this.registry.getSource(e,!0);if(d(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(e),i=this.getItemType();return n!==i?!1:r.isDragging(this,e)}isOverTarget(e,r={shallow:!1}){if(!e)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const i=this.registry.getTargetType(e),o=this.getItemType();if(o&&!V(i,o))return!1;const s=this.getTargetIds();if(!s.length)return!1;const a=s.indexOf(e);return n?a===s.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return ht(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return pt(this.store.getState().dragOffset)}constructor(e,r){this.store=e,this.registry=r}}const se=typeof global<"u"?global:self,ye=se.MutationObserver||se.WebKitMutationObserver;function Te(t){return function(){const r=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(r),clearInterval(n),t()}}}function Dt(t){let e=1;const r=new ye(t),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const yt=typeof ye=="function"?Dt:Te;class Tt{enqueueTask(e){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const r=this.index;if(this.index++,e[r].call(),this.index>this.capacity){for(let n=0,i=e.length-this.index;n<i;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=yt(this.flush),this.requestErrorThrow=Te(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Ot{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}}class St{create(e){const r=this.freeTasks,n=r.length?r.pop():new Ot(this.onError,i=>r[r.length]=i);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const Oe=new Tt,It=new St(Oe.registerPendingError);function bt(t){Oe.enqueueTask(It.create(t))}const K="dnd-core/ADD_SOURCE",ee="dnd-core/ADD_TARGET",te="dnd-core/REMOVE_SOURCE",A="dnd-core/REMOVE_TARGET";function Ct(t){return{type:K,payload:{sourceId:t}}}function Et(t){return{type:ee,payload:{targetId:t}}}function wt(t){return{type:te,payload:{sourceId:t}}}function xt(t){return{type:A,payload:{targetId:t}}}function Pt(t){d(typeof t.canDrag=="function","Expected canDrag to be a function."),d(typeof t.beginDrag=="function","Expected beginDrag to be a function."),d(typeof t.endDrag=="function","Expected endDrag to be a function.")}function Nt(t){d(typeof t.canDrop=="function","Expected canDrop to be a function."),d(typeof t.hover=="function","Expected hover to be a function."),d(typeof t.drop=="function","Expected beginDrag to be a function.")}function Y(t,e){if(e&&Array.isArray(t)){t.forEach(r=>Y(r,!1));return}d(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var I;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(I||(I={}));let Rt=0;function Mt(){return Rt++}function _t(t){const e=Mt().toString();switch(t){case I.SOURCE:return`S${e}`;case I.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function ae(t){switch(t[0]){case"S":return I.SOURCE;case"T":return I.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function ce(t,e){const r=t.entries();let n=!1;do{const{done:i,value:[,o]}=r.next();if(o===e)return!0;n=!!i}while(!n);return!1}class Lt{addSource(e,r){Y(e),Pt(r);const n=this.addHandler(I.SOURCE,e,r);return this.store.dispatch(Ct(n)),n}addTarget(e,r){Y(e,!0),Nt(r);const n=this.addHandler(I.TARGET,e,r);return this.store.dispatch(Et(n)),n}containsHandler(e){return ce(this.dragSources,e)||ce(this.dropTargets,e)}getSource(e,r=!1){return d(this.isSourceId(e),"Expected a valid source ID."),r&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return d(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return d(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return d(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return ae(e)===I.SOURCE}isTargetId(e){return ae(e)===I.TARGET}removeSource(e){d(this.getSource(e),"Expected an existing source."),this.store.dispatch(wt(e)),bt(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){d(this.getTarget(e),"Expected an existing target."),this.store.dispatch(xt(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const r=this.getSource(e);d(r,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=r}unpinSource(){d(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,r,n){const i=_t(e);return this.types.set(i,r),e===I.SOURCE?this.dragSources.set(i,n):e===I.TARGET&&this.dropTargets.set(i,n),i}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const jt=(t,e)=>t===e;function Ht(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function At(t,e,r=jt){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!r(t[n],e[n]))return!1;return!0}function kt(t=P,e){switch(e.type){case L:break;case K:case ee:case A:case te:return P;case _:case Z:case H:case j:default:return J}const{targetIds:r=[],prevTargetIds:n=[]}=e.payload,i=qe(r,n);if(!(i.length>0||!At(r,n)))return P;const s=n[n.length-1],a=r[r.length-1];return s!==a&&(s&&i.push(s),a&&i.push(a)),i}function Ut(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ft(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Ut(t,i,r[i])})}return t}const ue={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function $t(t=ue,e){const{payload:r}=e;switch(e.type){case Q:case _:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case L:return Ht(t.clientOffset,r.clientOffset)?t:Ft({},t,{clientOffset:r.clientOffset});case H:case j:return ue;default:return t}}function qt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){qt(t,i,r[i])})}return t}const Gt={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Bt(t=Gt,e){const{payload:r}=e;switch(e.type){case _:return w({},t,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case Z:return w({},t,{isSourcePublic:!0});case L:return w({},t,{targetIds:r.targetIds});case A:return t.targetIds.indexOf(r.targetId)===-1?t:w({},t,{targetIds:$e(t.targetIds,r.targetId)});case j:return w({},t,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case H:return w({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function Vt(t=0,e){switch(e.type){case K:case ee:return t+1;case te:case A:return t-1;default:return t}}function Yt(t=0){return t+1}function Wt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Wt(t,i,r[i])})}return t}function zt(t={},e){return{dirtyHandlerIds:kt(t.dirtyHandlerIds,{type:e.type,payload:Xt({},e.payload,{prevTargetIds:Fe(t,"dragOperation.targetIds",[])})}),dragOffset:$t(t.dragOffset,e),refCount:Vt(t.refCount,e),dragOperation:Bt(t.dragOperation,e),stateId:Yt(t.stateId)}}function Qt(t,e=void 0,r={},n=!1){const i=Zt(n),o=new mt(i,new Lt(i)),s=new gt(i,o),a=t(s,e,r);return s.receiveBackend(a),s}function Zt(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return ve(zt,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function Jt(t,e){if(t==null)return{};var r=Kt(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kt(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}let de=0;const M=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var er=h.memo(function(e){var{children:r}=e,n=Jt(e,["children"]);const[i,o]=tr(n);return h.useEffect(()=>{if(o){const s=Se();return++de,()=>{--de===0&&(s[M]=null)}}},[]),y.jsx(pe.Provider,{value:i,children:r})});function tr(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=rr(t.backend,t.context,t.options,t.debugMode),r=!t.context;return[e,r]}function rr(t,e=Se(),r,n){const i=e;return i[M]||(i[M]={dragDropManager:Qt(t,e,r,n)}),i[M]}function Se(){return typeof global<"u"?global:window}var nr=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r};const C=typeof window<"u"?h.useLayoutEffect:h.useEffect;function ir(t,e,r){const[n,i]=h.useState(()=>e(t)),o=h.useCallback(()=>{const s=e(t);nr(n,s)||(i(s),r&&r())},[n,t,r]);return C(o),[n,o]}function or(t,e,r){const[n,i]=ir(t,e,r);return C(function(){const s=t.getHandlerId();if(s!=null)return t.subscribeToStateChange(i,{handlerIds:[s]})},[t,i]),n}function Ie(t,e,r){return or(e,t||(()=>({})),()=>r.reconnect())}function be(t,e){const r=[...e||[]];return e==null&&typeof t!="function"&&r.push(t),h.useMemo(()=>typeof t=="function"?t():t,r)}function sr(t){return h.useMemo(()=>t.hooks.dragSource(),[t])}function ar(t){return h.useMemo(()=>t.hooks.dragPreview(),[t])}let F=!1,$=!1;class cr{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){d(!F,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return F=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{F=!1}}isDragging(){if(!this.sourceId)return!1;d(!$,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return $=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{$=!1}}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,r){return this.internalMonitor.isOverTarget(e,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let q=!1;class ur{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}canDrop(){if(!this.targetId)return!1;d(!q,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return q=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{q=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function dr(t,e,r){const n=r.getRegistry(),i=n.addTarget(t,e);return[i,()=>n.removeTarget(i)]}function lr(t,e,r){const n=r.getRegistry(),i=n.addSource(t,e);return[i,()=>n.removeSource(i)]}function W(t,e,r,n){let i=r?r.call(n,t,e):void 0;if(i!==void 0)return!!i;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const o=Object.keys(t),s=Object.keys(e);if(o.length!==s.length)return!1;const a=Object.prototype.hasOwnProperty.bind(e);for(let c=0;c<o.length;c++){const l=o[c];if(!a(l))return!1;const p=t[l],D=e[l];if(i=r?r.call(n,p,D,l):void 0,i===!1||i===void 0&&p!==D)return!1}return!0}function X(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function gr(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function fr(t){return(e=null,r=null)=>{if(!h.isValidElement(e)){const o=e;return t(o,r),o}const n=e;return gr(n),hr(n,r?o=>t(o,r):t)}}function Ce(t){const e={};return Object.keys(t).forEach(r=>{const n=t[r];if(r.endsWith("Ref"))e[r]=t[r];else{const i=fr(n);e[r]=()=>i}}),e}function le(t,e){typeof t=="function"?t(e):t.current=e}function hr(t,e){const r=t.ref;return d(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?h.cloneElement(t,{ref:n=>{le(r,n),le(e,n)}}):h.cloneElement(t,{ref:e})}class pr{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?e?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),r):(this.lastConnectedDragSource=e,r):r}reconnectDragPreview(e=!1){const r=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!W(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!W(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=Ce({dragSource:(r,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,X(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,X(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class vr{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!W(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=Ce({dropTarget:(r,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,X(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function x(){const{dragDropManager:t}=h.useContext(pe);return d(t!=null,"Expected drag drop context"),t}function mr(t,e){const r=x(),n=h.useMemo(()=>new pr(r.getBackend()),[r]);return C(()=>(n.dragSourceOptions=t||null,n.reconnect(),()=>n.disconnectDragSource()),[n,t]),C(()=>(n.dragPreviewOptions=e||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,e]),n}function Dr(){const t=x();return h.useMemo(()=>new cr(t),[t])}class yr{beginDrag(){const e=this.spec,r=this.monitor;let n=null;return typeof e.item=="object"?n=e.item:typeof e.item=="function"?n=e.item(r):n={},n??null}canDrag(){const e=this.spec,r=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(r):!0}isDragging(e,r){const n=this.spec,i=this.monitor,{isDragging:o}=n;return o?o(i):r===e.getSourceId()}endDrag(){const e=this.spec,r=this.monitor,n=this.connector,{end:i}=e;i&&i(r.getItem(),r),n.reconnect()}constructor(e,r,n){this.spec=e,this.monitor=r,this.connector=n}}function Tr(t,e,r){const n=h.useMemo(()=>new yr(t,e,r),[e,r]);return h.useEffect(()=>{n.spec=t},[t]),n}function Or(t){return h.useMemo(()=>{const e=t.type;return d(e!=null,"spec.type must be defined"),e},[t])}function Sr(t,e,r){const n=x(),i=Tr(t,e,r),o=Or(t);C(function(){if(o!=null){const[a,c]=lr(o,i,n);return e.receiveHandlerId(a),r.receiveHandlerId(a),c}},[n,e,r,i,o])}function Ir(t,e){const r=be(t,e);d(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=Dr(),i=mr(r.options,r.previewOptions);return Sr(r,n,i),[Ie(r.collect,n,i),sr(i),ar(i)]}function br(t){return h.useMemo(()=>t.hooks.dropTarget(),[t])}function Cr(t){const e=x(),r=h.useMemo(()=>new vr(e.getBackend()),[e]);return C(()=>(r.dropTargetOptions=t||null,r.reconnect(),()=>r.disconnectDropTarget()),[t]),r}function Er(){const t=x();return h.useMemo(()=>new ur(t),[t])}function wr(t){const{accept:e}=t;return h.useMemo(()=>(d(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class xr{canDrop(){const e=this.spec,r=this.monitor;return e.canDrop?e.canDrop(r.getItem(),r):!0}hover(){const e=this.spec,r=this.monitor;e.hover&&e.hover(r.getItem(),r)}drop(){const e=this.spec,r=this.monitor;if(e.drop)return e.drop(r.getItem(),r)}constructor(e,r){this.spec=e,this.monitor=r}}function Pr(t,e){const r=h.useMemo(()=>new xr(t,e),[e]);return h.useEffect(()=>{r.spec=t},[t]),r}function Nr(t,e,r){const n=x(),i=Pr(t,e),o=wr(t);C(function(){const[a,c]=dr(o,i,n);return e.receiveHandlerId(a),r.receiveHandlerId(a),c},[n,e,i,r,o.map(s=>s.toString()).join("|")])}function Ee(t,e){const r=be(t,e),n=Er(),i=Cr(r.options);return Nr(r,n,i),[Ie(r.collect,n,i),br(i)]}function we(t){let e=null;return()=>(e==null&&(e=t()),e)}function Rr(t,e){return t.filter(r=>r!==e)}function Mr(t,e){const r=new Set,n=o=>r.add(o);t.forEach(n),e.forEach(n);const i=[];return r.forEach(o=>i.push(o)),i}class _r{enter(e){const r=this.entered.length,n=i=>this.isNodeInDocument(i)&&(!i.contains||i.contains(e));return this.entered=Mr(this.entered.filter(n),[e]),r===0&&this.entered.length>0}leave(e){const r=this.entered.length;return this.entered=Rr(this.entered.filter(this.isNodeInDocument),e),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class Lr{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const i=this.config.exposeProperties[n];i!=null&&(r[n]={value:i(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const xe="__NATIVE_FILE__",Pe="__NATIVE_URL__",Ne="__NATIVE_TEXT__",Re="__NATIVE_HTML__",ge=Object.freeze(Object.defineProperty({__proto__:null,FILE:xe,HTML:Re,TEXT:Ne,URL:Pe},Symbol.toStringTag,{value:"Module"}));function G(t,e,r){const n=e.reduce((i,o)=>i||t.getData(o),"");return n??r}const z={[xe]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[Re]:{exposeProperties:{html:(t,e)=>G(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[Pe]:{exposeProperties:{urls:(t,e)=>G(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[Ne]:{exposeProperties:{text:(t,e)=>G(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function jr(t,e){const r=z[t];if(!r)throw new Error(`native type ${t} has no configuration`);const n=new Lr(r);return n.loadDataTransfer(e),n}function B(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(z).filter(r=>{const n=z[r];return n!=null&&n.matchesTypes?n.matchesTypes.some(i=>e.indexOf(i)>-1):!1})[0]||null}const Hr=we(()=>/firefox/i.test(navigator.userAgent)),Me=we(()=>!!window.safari);class fe{interpolate(e){const{xs:r,ys:n,c1s:i,c2s:o,c3s:s}=this;let a=r.length-1;if(e===r[a])return n[a];let c=0,l=s.length-1,p;for(;c<=l;){p=Math.floor(.5*(c+l));const u=r[p];if(u<e)c=p+1;else if(u>e)l=p-1;else return n[p]}a=Math.max(0,l);const D=e-r[a],m=D*D;return n[a]+i[a]*D+o[a]*m+s[a]*D*m}constructor(e,r){const{length:n}=e,i=[];for(let u=0;u<n;u++)i.push(u);i.sort((u,v)=>e[u]<e[v]?-1:1);const o=[],s=[];let a,c;for(let u=0;u<n-1;u++)a=e[u+1]-e[u],c=r[u+1]-r[u],o.push(a),s.push(c/a);const l=[s[0]];for(let u=0;u<o.length-1;u++){const v=s[u],g=s[u+1];if(v*g<=0)l.push(0);else{a=o[u];const f=o[u+1],T=a+f;l.push(3*T/((T+f)/v+(T+a)/g))}}l.push(s[s.length-1]);const p=[],D=[];let m;for(let u=0;u<l.length-1;u++){m=s[u];const v=l[u],g=1/o[u],f=v+l[u+1]-m-m;p.push((m-v-f)*g),D.push(f*g*g)}this.xs=e,this.ys=r,this.c1s=l,this.c2s=p,this.c3s=D}}const Ar=1;function _e(t){const e=t.nodeType===Ar?t:t.parentElement;if(!e)return null;const{top:r,left:n}=e.getBoundingClientRect();return{x:n,y:r}}function R(t){return{x:t.clientX,y:t.clientY}}function kr(t){var e;return t.nodeName==="IMG"&&(Hr()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function Ur(t,e,r,n){let i=t?e.width:r,o=t?e.height:n;return Me()&&t&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}function Fr(t,e,r,n,i){const o=kr(e),a=_e(o?t:e),c={x:r.x-a.x,y:r.y-a.y},{offsetWidth:l,offsetHeight:p}=t,{anchorX:D,anchorY:m}=n,{dragPreviewWidth:u,dragPreviewHeight:v}=Ur(o,e,l,p),g=()=>{let re=new fe([0,.5,1],[c.y,c.y/p*v,c.y+v-p]).interpolate(m);return Me()&&o&&(re+=(window.devicePixelRatio-1)*v),re},f=()=>new fe([0,.5,1],[c.x,c.x/l*u,c.x+u-l]).interpolate(D),{offsetX:T,offsetY:O}=i,b=T===0||T,E=O===0||O;return{x:b?T:f(),y:E?O:g()}}class $r{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,r){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=r}}function qr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function he(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){qr(t,i,r[i])})}return t}class Gr{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,r,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,n){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,n);const i=s=>this.handleDragStart(s,e),o=s=>this.handleSelectStart(s);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",i),r.addEventListener("selectstart",o),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",i),r.removeEventListener("selectstart",o),r.setAttribute("draggable","false")}}connectDropTarget(e,r){const n=s=>this.handleDragEnter(s,e),i=s=>this.handleDragOver(s,e),o=s=>this.handleDrop(s,e);return r.addEventListener("dragenter",n),r.addEventListener("dragover",i),r.addEventListener("drop",o),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",i),r.removeEventListener("drop",o)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return he({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(e);return he({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(ge).some(r=>ge[r]===e)}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=jr(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=i=>{const o=this.sourceNodes.get(i);return o&&_e(o)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=i=>!!(i&&this.document&&this.document.body&&this.document.body.contains(i)),this.endDragIfSourceWasRemovedFromDOM=()=>{const i=this.currentDragSourceNode;i==null||this.isNodeInDocument(i)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=i=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(i||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=i=>{if(i.defaultPrevented)return;const{dragStartSourceIds:o}=this;this.dragStartSourceIds=null;const s=R(i);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(o||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:s});const{dataTransfer:a}=i,c=B(a);if(this.monitor.isDragging()){if(a&&typeof a.setDragImage=="function"){const p=this.monitor.getSourceId(),D=this.sourceNodes.get(p),m=this.sourcePreviewNodes.get(p)||D;if(m){const{anchorX:u,anchorY:v,offsetX:g,offsetY:f}=this.getCurrentSourcePreviewNodeOptions(),b=Fr(D,m,s,{anchorX:u,anchorY:v},{offsetX:g,offsetY:f});a.setDragImage(m,b.x,b.y)}}try{a==null||a.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(i.target);const{captureDraggingState:l}=this.getCurrentSourcePreviewNodeOptions();l?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(c)this.beginDragNativeItem(c);else{if(a&&!a.types&&(i.target&&!i.target.hasAttribute||!i.target.hasAttribute("draggable")))return;i.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=i=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}if(!this.enterLeaveCounter.enter(i.target)||this.monitor.isDragging())return;const{dataTransfer:a}=i,c=B(a);c&&this.beginDragNativeItem(c,a)},this.handleTopDragEnter=i=>{const{dragEnterTargetIds:o}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=i.altKey,o.length>0&&this.actions.hover(o,{clientOffset:R(i)}),o.some(a=>this.monitor.canDropOnTarget(a))&&(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=i=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}},this.handleTopDragOver=i=>{const{dragOverTargetIds:o}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}this.altKeyPressed=i.altKey,this.lastClientOffset=R(i),this.scheduleHover(o),(o||[]).some(a=>this.monitor.canDropOnTarget(a))?(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?i.preventDefault():(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=i=>{this.isDraggingNativeItem()&&i.preventDefault(),this.enterLeaveCounter.leave(i.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=i=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var o;i.preventDefault(),(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}else B(i.dataTransfer)&&i.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=i=>{const{dropTargetIds:o}=this;this.dropTargetIds=[],this.actions.hover(o,{clientOffset:R(i)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=i=>{const o=i.target;typeof o.dragDrop=="function"&&(o.tagName==="INPUT"||o.tagName==="SELECT"||o.tagName==="TEXTAREA"||o.isContentEditable||(i.preventDefault(),o.dragDrop()))},this.options=new $r(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new _r(this.isNodeInDocument)}}const Br=function(e,r,n){return new Gr(e,r,n)},Vr="_todoitem_15a9l_1",Yr={todoitem:Vr,"fade-in":"_fade-in_15a9l_1"};k.object({id:k.string(),index:k.number()});function Wr(t){const{todo:e,index:r,setTodos:n}=t,{text:i,isChecked:o}=e,s=h.useRef(null),a={...e,index:r},[,c]=Ee({accept:"todo",hover(u,v){var N;if(!s.current)return;const g=u.index,f=r;if(g===f)return;const T=v.getClientOffset();if(!T)return;const O=(N=s.current)==null?void 0:N.getBoundingClientRect(),b=(O.bottom-O.top)/2,E=T.y-O.top;g<f&&E<b||g>f&&E>b||(D(g,f),u.index=f)}},[a]),[,l]=Ir({type:"todo",item:a},[a]);l(c(s));const p=(u,v)=>{n(g=>{const f=[...g],T=f.findIndex(O=>O.id===u);return f[T]={...f[T],isChecked:v.target.checked},f})},D=(u,v)=>{n(g=>{const f=[...g];return[f[u],f[v]]=[f[v],f[u]],f})},m=u=>{n(v=>v.filter(g=>g.id!==u))};return y.jsx("div",{ref:s,className:`${Yr.todoitem}`,children:y.jsx("div",{className:"flex items-center hover:bg-gray-800 rounded-md",children:y.jsxs("div",{className:"flex grow ",children:[y.jsx("div",{className:"flex items-center px-1",children:y.jsx("input",{checked:o??!1,id:"checked-checkbox",type:"checkbox",value:"",className:"w-4 h-4 accent-green-600 bg-gray-200 rounded",onChange:u=>{p(e.id,u)}})}),y.jsx("div",{className:`grow text-start py-2 px-1 text-gray-200 border-gray-300 ${o?"line-through":""} cursor-pointer`,children:i}),y.jsx("button",{type:"button",className:"text-gray-200 text-lg py-2 px-1 hover:bg-gray-800 rounded-md",onClick:()=>{m(e.id)},children:y.jsx(He,{})})]})})})}function Xr({children:t,className:e}){const[,r]=Ee(()=>({accept:"todo"}));return y.jsx("div",{ref:r,className:e,children:t})}function Kr(){const[t,e]=h.useState([]),[r,n]=h.useState(""),i=a=>{const c=a.target.value.trim();r!==c&&n(c)},o=h.useCallback(a=>{a.preventDefault(),r.length!==0&&(e(c=>[...c,{id:Le(),text:r,isChecked:!1}]),n(""))},[r]),s=h.useMemo(()=>y.jsx(Xr,{className:"list-container max-h-[32rem]",children:t.map((a,c)=>y.jsx(Wr,{index:c,setTodos:e,todo:a},a.id))}),[t]);return y.jsxs("div",{className:"max-w-2xl mx-auto text-gray-800 bg-gray-900 p-2 rounded-md",children:[y.jsx("div",{children:y.jsx("h1",{className:"text-gray-300 text-2xl font-bold mb-2",children:"Todo List"})}),y.jsx("form",{className:`flex gap-2 outline-0 ${t[0]?"mb-4":""}`,onSubmit:o,children:y.jsxs("div",{className:"flex grow relative",children:[y.jsx("div",{className:"text-gray-300 absolute-center-y left-2",children:y.jsx(Ae,{})}),y.jsx("input",{type:"text",value:r,placeholder:"Add a task",className:"flex-1 placeholder-gray-500 text-gray-200 bg-gray-600 rounded-md p-2 reset-input pl-8",onChange:i})]})}),y.jsx(er,{backend:Br,children:s})]})}export{Kr as default};
