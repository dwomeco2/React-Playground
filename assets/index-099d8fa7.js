var ci=Object.defineProperty;var li=(e,t,r)=>t in e?ci(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var b=(e,t,r)=>(li(e,typeof t!="symbol"?t+"":t,r),r);import{R as re,r as y,j as T,m as di}from"./index-757218ba.js";import{z as M,a as Ht,c as qt}from"./index-176c87d5.js";let Vt=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),"");var nn={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cr=re.createContext&&re.createContext(nn),K=globalThis&&globalThis.__assign||function(){return K=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},K.apply(this,arguments)},hi=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function sn(e){return e&&e.map(function(t,r){return re.createElement(t.tag,K({key:r},t.attr),sn(t.child))})}function on(e){return function(t){return re.createElement(fi,K({attr:K({},e.attr)},t),sn(e.child))}}function fi(e){var t=function(r){var n=e.attr,i=e.size,s=e.title,o=hi(e,["attr","size","title"]),a=i||r.size||"1em",u;return r.className&&(u=r.className),e.className&&(u=(u?u+" ":"")+e.className),re.createElement("svg",K({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:u,style:K(K({color:e.color||r.color},r.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&re.createElement("title",null,s),e.children)};return cr!==void 0?re.createElement(cr.Consumer,null,function(r){return t(r)}):t(nn)}function gi(e){return on({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M18.319 14.4326C20.7628 11.2941 20.542 6.75347 17.6569 3.86829C14.5327 0.744098 9.46734 0.744098 6.34315 3.86829C3.21895 6.99249 3.21895 12.0578 6.34315 15.182C9.22833 18.0672 13.769 18.2879 16.9075 15.8442C16.921 15.8595 16.9351 15.8745 16.9497 15.8891L21.1924 20.1317C21.5829 20.5223 22.2161 20.5223 22.6066 20.1317C22.9971 19.7412 22.9971 19.1081 22.6066 18.7175L18.364 14.4749C18.3493 14.4603 18.3343 14.4462 18.319 14.4326ZM16.2426 5.28251C18.5858 7.62565 18.5858 11.4246 16.2426 13.7678C13.8995 16.1109 10.1005 16.1109 7.75736 13.7678C5.41421 11.4246 5.41421 7.62565 7.75736 5.28251C10.1005 2.93936 13.8995 2.93936 16.2426 5.28251Z",fill:"currentColor"}}]})(e)}function pi(e){return on({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(e)}const an=y.createContext({dragDropManager:void 0});function j(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var lr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ct=function(){return Math.random().toString(36).substring(7).split("").join(".")},dr={INIT:"@@redux/INIT"+ct(),REPLACE:"@@redux/REPLACE"+ct(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ct()}};function mi(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function un(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(j(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(j(1));return r(un)(e,t)}if(typeof e!="function")throw new Error(j(2));var i=e,s=t,o=[],a=o,u=!1;function d(){a===o&&(a=o.slice())}function c(){if(u)throw new Error(j(3));return s}function l(v){if(typeof v!="function")throw new Error(j(4));if(u)throw new Error(j(5));var m=!0;return d(),a.push(v),function(){if(m){if(u)throw new Error(j(6));m=!1,d();var S=a.indexOf(v);a.splice(S,1),o=null}}}function h(v){if(!mi(v))throw new Error(j(7));if(typeof v.type>"u")throw new Error(j(8));if(u)throw new Error(j(9));try{u=!0,s=i(s,v)}finally{u=!1}for(var m=o=a,w=0;w<m.length;w++){var S=m[w];S()}return v}function f(v){if(typeof v!="function")throw new Error(j(10));i=v,h({type:dr.REPLACE})}function p(){var v,m=l;return v={subscribe:function(S){if(typeof S!="object"||S===null)throw new Error(j(11));function D(){S.next&&S.next(c())}D();var O=m(D);return{unsubscribe:O}}},v[lr]=function(){return this},v}return h({type:dr.INIT}),n={dispatch:h,subscribe:l,getState:c,replaceReducer:f},n[lr]=p,n}function C(e,t,...r){if(vi()&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){let n;if(t===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;n=new Error(t.replace(/%s/g,function(){return r[i++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function vi(){return typeof process<"u"&&process.env.NODE_ENV==="production"}function yi(e,t,r){return t.split(".").reduce((n,i)=>n&&n[i]?n[i]:r||null,e)}function bi(e,t){return e.filter(r=>r!==t)}function cn(e){return typeof e=="object"}function wi(e,t){const r=new Map,n=s=>{r.set(s,r.has(s)?r.get(s)+1:1)};e.forEach(n),t.forEach(n);const i=[];return r.forEach((s,o)=>{s===1&&i.push(o)}),i}function Si(e,t){return e.filter(r=>t.indexOf(r)>-1)}const zt="dnd-core/INIT_COORDS",Xe="dnd-core/BEGIN_DRAG",Ft="dnd-core/PUBLISH_DRAG_SOURCE",Ze="dnd-core/HOVER",Je="dnd-core/DROP",Ke="dnd-core/END_DRAG";function hr(e,t){return{type:zt,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const Oi={type:zt,payload:{clientOffset:null,sourceClientOffset:null}};function Di(e){return function(r=[],n={publishSource:!0}){const{publishSource:i=!0,clientOffset:s,getSourceClientOffset:o}=n,a=e.getMonitor(),u=e.getRegistry();e.dispatch(hr(s)),Ti(r,a,u);const d=Ei(r,a);if(d==null){e.dispatch(Oi);return}let c=null;if(s){if(!o)throw new Error("getSourceClientOffset must be defined");Ii(o),c=o(d)}e.dispatch(hr(s,c));const h=u.getSource(d).beginDrag(a,d);if(h==null)return;Ci(h),u.pinSource(d);const f=u.getSourceType(d);return{type:Xe,payload:{itemType:f,item:h,sourceId:d,clientOffset:s||null,sourceClientOffset:c||null,isSourcePublic:!!i}}}}function Ti(e,t,r){C(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(n){C(r.getSource(n),"Expected sourceIds to be registered.")})}function Ii(e){C(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Ci(e){C(cn(e),"Item must be an object.")}function Ei(e,t){let r=null;for(let n=e.length-1;n>=0;n--)if(t.canDragSource(e[n])){r=e[n];break}return r}function xi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){xi(e,i,r[i])})}return e}function Pi(e){return function(r={}){const n=e.getMonitor(),i=e.getRegistry();Mi(n),ki(n).forEach((o,a)=>{const u=Ni(o,a,i,n),d={type:Je,payload:{dropResult:_i({},r,u)}};e.dispatch(d)})}}function Mi(e){C(e.isDragging(),"Cannot call drop while not dragging."),C(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function Ni(e,t,r,n){const i=r.getTarget(e);let s=i?i.drop(n,e):void 0;return Ri(s),typeof s>"u"&&(s=t===0?{}:n.getDropResult()),s}function Ri(e){C(typeof e>"u"||cn(e),"Drop result must either be an object or undefined.")}function ki(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function ji(e){return function(){const r=e.getMonitor(),n=e.getRegistry();Ai(r);const i=r.getSourceId();return i!=null&&(n.getSource(i,!0).endDrag(r,i),n.unpinSource()),{type:Ke}}}function Ai(e){C(e.isDragging(),"Cannot call endDrag while not dragging.")}function St(e,t){return t===null?e===null:Array.isArray(e)?e.some(r=>r===t):e===t}function Li(e){return function(r,{clientOffset:n}={}){$i(r);const i=r.slice(0),s=e.getMonitor(),o=e.getRegistry(),a=s.getItemType();return Hi(i,o,a),Ui(i,s,o),qi(i,s,o),{type:Ze,payload:{targetIds:i,clientOffset:n||null}}}}function $i(e){C(Array.isArray(e),"Expected targetIds to be an array.")}function Ui(e,t,r){C(t.isDragging(),"Cannot call hover while not dragging."),C(!t.didDrop(),"Cannot call hover after drop.");for(let n=0;n<e.length;n++){const i=e[n];C(e.lastIndexOf(i)===n,"Expected targetIds to be unique in the passed array.");const s=r.getTarget(i);C(s,"Expected targetIds to be registered.")}}function Hi(e,t,r){for(let n=e.length-1;n>=0;n--){const i=e[n],s=t.getTargetType(i);St(s,r)||e.splice(n,1)}}function qi(e,t,r){e.forEach(function(n){r.getTarget(n).hover(t,n)})}function Vi(e){return function(){if(e.getMonitor().isDragging())return{type:Ft}}}function zi(e){return{beginDrag:Di(e),publishDragSource:Vi(e),hover:Li(e),drop:Pi(e),endDrag:ji(e)}}class Fi{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:r}=this.store;function n(s){return(...o)=>{const a=s.apply(t,o);typeof a<"u"&&r(a)}}const i=zi(this);return Object.keys(i).reduce((s,o)=>{const a=i[o];return s[o]=n(a),s},{})}dispatch(t){this.store.dispatch(t)}constructor(t,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=r,t.subscribe(this.handleRefCountChange)}}function Gi(e,t){return{x:e.x+t.x,y:e.y+t.y}}function ln(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Bi(e){const{clientOffset:t,initialClientOffset:r,initialSourceClientOffset:n}=e;return!t||!r||!n?null:ln(Gi(t,n),r)}function Qi(e){const{clientOffset:t,initialClientOffset:r}=e;return!t||!r?null:ln(t,r)}const we=[],Gt=[];we.__IS_NONE__=!0;Gt.__IS_ALL__=!0;function Wi(e,t){return e===we?!1:e===Gt||typeof t>"u"?!0:Si(t,e).length>0}class Yi{subscribeToStateChange(t,r={}){const{handlerIds:n}=r;C(typeof t=="function","listener must be a function."),C(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let i=this.store.getState().stateId;const s=()=>{const o=this.store.getState(),a=o.stateId;try{a===i||a===i+1&&!Wi(o.dirtyHandlerIds,n)||t()}finally{i=a}};return this.store.subscribe(s)}subscribeToOffsetChange(t){C(typeof t=="function","listener must be a function.");let r=this.store.getState().dragOffset;const n=()=>{const i=this.store.getState().dragOffset;i!==r&&(r=i,t())};return this.store.subscribe(n)}canDragSource(t){if(!t)return!1;const r=this.registry.getSource(t);return C(r,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:r.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const r=this.registry.getTarget(t);if(C(r,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(t),i=this.getItemType();return St(n,i)&&r.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const r=this.registry.getSource(t,!0);if(C(r,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(t),i=this.getItemType();return n!==i?!1:r.isDragging(this,t)}isOverTarget(t,r={shallow:!1}){if(!t)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const i=this.registry.getTargetType(t),s=this.getItemType();if(s&&!St(i,s))return!1;const o=this.getTargetIds();if(!o.length)return!1;const a=o.indexOf(t);return n?a===o.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Bi(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Qi(this.store.getState().dragOffset)}constructor(t,r){this.store=t,this.registry=r}}const fr=typeof global<"u"?global:self,dn=fr.MutationObserver||fr.WebKitMutationObserver;function hn(e){return function(){const r=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(r),clearInterval(n),e()}}}function Xi(e){let t=1;const r=new dn(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}const Zi=typeof dn=="function"?Xi:hn;class Ji{enqueueTask(t){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const r=this.index;if(this.index++,t[r].call(),this.index>this.capacity){for(let n=0,i=t.length-this.index;n<i;n++)t[n]=t[n+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=Zi(this.flush),this.requestErrorThrow=hn(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Ki{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,r){this.onError=t,this.release=r,this.task=null}}class es{create(t){const r=this.freeTasks,n=r.length?r.pop():new Ki(this.onError,i=>r[r.length]=i);return n.task=t,n}constructor(t){this.onError=t,this.freeTasks=[]}}const fn=new Ji,ts=new es(fn.registerPendingError);function rs(e){fn.enqueueTask(ts.create(e))}const Bt="dnd-core/ADD_SOURCE",Qt="dnd-core/ADD_TARGET",Wt="dnd-core/REMOVE_SOURCE",et="dnd-core/REMOVE_TARGET";function ns(e){return{type:Bt,payload:{sourceId:e}}}function is(e){return{type:Qt,payload:{targetId:e}}}function ss(e){return{type:Wt,payload:{sourceId:e}}}function os(e){return{type:et,payload:{targetId:e}}}function as(e){C(typeof e.canDrag=="function","Expected canDrag to be a function."),C(typeof e.beginDrag=="function","Expected beginDrag to be a function."),C(typeof e.endDrag=="function","Expected endDrag to be a function.")}function us(e){C(typeof e.canDrop=="function","Expected canDrop to be a function."),C(typeof e.hover=="function","Expected hover to be a function."),C(typeof e.drop=="function","Expected beginDrag to be a function.")}function Ot(e,t){if(t&&Array.isArray(e)){e.forEach(r=>Ot(r,!1));return}C(typeof e=="string"||typeof e=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var A;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(A||(A={}));let cs=0;function ls(){return cs++}function ds(e){const t=ls().toString();switch(e){case A.SOURCE:return`S${t}`;case A.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function gr(e){switch(e[0]){case"S":return A.SOURCE;case"T":return A.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function pr(e,t){const r=e.entries();let n=!1;do{const{done:i,value:[,s]}=r.next();if(s===t)return!0;n=!!i}while(!n);return!1}class hs{addSource(t,r){Ot(t),as(r);const n=this.addHandler(A.SOURCE,t,r);return this.store.dispatch(ns(n)),n}addTarget(t,r){Ot(t,!0),us(r);const n=this.addHandler(A.TARGET,t,r);return this.store.dispatch(is(n)),n}containsHandler(t){return pr(this.dragSources,t)||pr(this.dropTargets,t)}getSource(t,r=!1){return C(this.isSourceId(t),"Expected a valid source ID."),r&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return C(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return C(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return C(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return gr(t)===A.SOURCE}isTargetId(t){return gr(t)===A.TARGET}removeSource(t){C(this.getSource(t),"Expected an existing source."),this.store.dispatch(ss(t)),rs(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){C(this.getTarget(t),"Expected an existing target."),this.store.dispatch(os(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const r=this.getSource(t);C(r,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=r}unpinSource(){C(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,r,n){const i=ds(t);return this.types.set(i,r),t===A.SOURCE?this.dragSources.set(i,n):t===A.TARGET&&this.dropTargets.set(i,n),i}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const fs=(e,t)=>e===t;function gs(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function ps(e,t,r=fs){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!r(e[n],t[n]))return!1;return!0}function ms(e=we,t){switch(t.type){case Ze:break;case Bt:case Qt:case et:case Wt:return we;case Xe:case Ft:case Ke:case Je:default:return Gt}const{targetIds:r=[],prevTargetIds:n=[]}=t.payload,i=wi(r,n);if(!(i.length>0||!ps(r,n)))return we;const o=n[n.length-1],a=r[r.length-1];return o!==a&&(o&&i.push(o),a&&i.push(a)),i}function vs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){vs(e,i,r[i])})}return e}const mr={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function bs(e=mr,t){const{payload:r}=t;switch(t.type){case zt:case Xe:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case Ze:return gs(e.clientOffset,r.clientOffset)?e:ys({},e,{clientOffset:r.clientOffset});case Ke:case Je:return mr;default:return e}}function ws(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){ws(e,i,r[i])})}return e}const Ss={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Os(e=Ss,t){const{payload:r}=t;switch(t.type){case Xe:return ue({},e,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case Ft:return ue({},e,{isSourcePublic:!0});case Ze:return ue({},e,{targetIds:r.targetIds});case et:return e.targetIds.indexOf(r.targetId)===-1?e:ue({},e,{targetIds:bi(e.targetIds,r.targetId)});case Je:return ue({},e,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case Ke:return ue({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function Ds(e=0,t){switch(t.type){case Bt:case Qt:return e+1;case Wt:case et:return e-1;default:return e}}function Ts(e=0){return e+1}function Is(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Is(e,i,r[i])})}return e}function Es(e={},t){return{dirtyHandlerIds:ms(e.dirtyHandlerIds,{type:t.type,payload:Cs({},t.payload,{prevTargetIds:yi(e,"dragOperation.targetIds",[])})}),dragOffset:bs(e.dragOffset,t),refCount:Ds(e.refCount,t),dragOperation:Os(e.dragOperation,t),stateId:Ts(e.stateId)}}function xs(e,t=void 0,r={},n=!1){const i=_s(n),s=new Yi(i,new hs(i)),o=new Fi(i,s),a=e(o,t,r);return o.receiveBackend(a),o}function _s(e){const t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return un(Es,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function Ps(e,t){if(e==null)return{};var r=Ms(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ms(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}let vr=0;const He=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Ns=y.memo(function(t){var{children:r}=t,n=Ps(t,["children"]);const[i,s]=Rs(n);return y.useEffect(()=>{if(s){const o=gn();return++vr,()=>{--vr===0&&(o[He]=null)}}},[]),T.jsx(an.Provider,{value:i,children:r})});function Rs(e){if("manager"in e)return[{dragDropManager:e.manager},!1];const t=ks(e.backend,e.context,e.options,e.debugMode),r=!e.context;return[t,r]}function ks(e,t=gn(),r,n){const i=t;return i[He]||(i[He]={dragDropManager:xs(e,t,r,n)}),i[He]}function gn(){return typeof global<"u"?global:window}var js=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var o=s[i];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r};const ne=typeof window<"u"?y.useLayoutEffect:y.useEffect;function As(e,t,r){const[n,i]=y.useState(()=>t(e)),s=y.useCallback(()=>{const o=t(e);js(n,o)||(i(o),r&&r())},[n,e,r]);return ne(s),[n,s]}function Ls(e,t,r){const[n,i]=As(e,t,r);return ne(function(){const o=e.getHandlerId();if(o!=null)return e.subscribeToStateChange(i,{handlerIds:[o]})},[e,i]),n}function pn(e,t,r){return Ls(t,e||(()=>({})),()=>r.reconnect())}function mn(e,t){const r=[...t||[]];return t==null&&typeof e!="function"&&r.push(e),y.useMemo(()=>typeof e=="function"?e():e,r)}function $s(e){return y.useMemo(()=>e.hooks.dragSource(),[e])}function Us(e){return y.useMemo(()=>e.hooks.dragPreview(),[e])}let lt=!1,dt=!1;class Hs{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){C(!lt,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return lt=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{lt=!1}}isDragging(){if(!this.sourceId)return!1;C(!dt,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return dt=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{dt=!1}}subscribeToStateChange(t,r){return this.internalMonitor.subscribeToStateChange(t,r)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,r){return this.internalMonitor.isOverTarget(t,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}let ht=!1;class qs{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,r){return this.internalMonitor.subscribeToStateChange(t,r)}canDrop(){if(!this.targetId)return!1;C(!ht,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return ht=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{ht=!1}}isOver(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}}function Vs(e,t,r){const n=r.getRegistry(),i=n.addTarget(e,t);return[i,()=>n.removeTarget(i)]}function zs(e,t,r){const n=r.getRegistry(),i=n.addSource(e,t);return[i,()=>n.removeSource(i)]}function Dt(e,t,r,n){let i=r?r.call(n,e,t):void 0;if(i!==void 0)return!!i;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;const s=Object.keys(e),o=Object.keys(t);if(s.length!==o.length)return!1;const a=Object.prototype.hasOwnProperty.bind(t);for(let u=0;u<s.length;u++){const d=s[u];if(!a(d))return!1;const c=e[d],l=t[d];if(i=r?r.call(n,c,l,d):void 0,i===!1||i===void 0&&c!==l)return!1}return!0}function Tt(e){return e!==null&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Fs(e){if(typeof e.type=="string")return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}function Gs(e){return(t=null,r=null)=>{if(!y.isValidElement(t)){const s=t;return e(s,r),s}const n=t;return Fs(n),Bs(n,r?s=>e(s,r):e)}}function vn(e){const t={};return Object.keys(e).forEach(r=>{const n=e[r];if(r.endsWith("Ref"))t[r]=e[r];else{const i=Gs(n);t[r]=()=>i}}),t}function yr(e,t){typeof e=="function"?e(t):e.current=t}function Bs(e,t){const r=e.ref;return C(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?y.cloneElement(e,{ref:n=>{yr(r,n),yr(t,n)}}):y.cloneElement(e,{ref:t})}class Qs{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?t?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),r):(this.lastConnectedDragSource=t,r):r}reconnectDragPreview(t=!1){const r=this.dragPreview,n=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Dt(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Dt(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=vn({dragSource:(r,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,Tt(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,Tt(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}class Ws{get connectTarget(){return this.dropTarget}reconnect(){const t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();const r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Dt(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=vn({dropTarget:(r,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,Tt(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}}function ge(){const{dragDropManager:e}=y.useContext(an);return C(e!=null,"Expected drag drop context"),e}function Ys(e,t){const r=ge(),n=y.useMemo(()=>new Qs(r.getBackend()),[r]);return ne(()=>(n.dragSourceOptions=e||null,n.reconnect(),()=>n.disconnectDragSource()),[n,e]),ne(()=>(n.dragPreviewOptions=t||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,t]),n}function Xs(){const e=ge();return y.useMemo(()=>new Hs(e),[e])}class Zs{beginDrag(){const t=this.spec,r=this.monitor;let n=null;return typeof t.item=="object"?n=t.item:typeof t.item=="function"?n=t.item(r):n={},n??null}canDrag(){const t=this.spec,r=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(r):!0}isDragging(t,r){const n=this.spec,i=this.monitor,{isDragging:s}=n;return s?s(i):r===t.getSourceId()}endDrag(){const t=this.spec,r=this.monitor,n=this.connector,{end:i}=t;i&&i(r.getItem(),r),n.reconnect()}constructor(t,r,n){this.spec=t,this.monitor=r,this.connector=n}}function Js(e,t,r){const n=y.useMemo(()=>new Zs(e,t,r),[t,r]);return y.useEffect(()=>{n.spec=e},[e]),n}function Ks(e){return y.useMemo(()=>{const t=e.type;return C(t!=null,"spec.type must be defined"),t},[e])}function eo(e,t,r){const n=ge(),i=Js(e,t,r),s=Ks(e);ne(function(){if(s!=null){const[a,u]=zs(s,i,n);return t.receiveHandlerId(a),r.receiveHandlerId(a),u}},[n,t,r,i,s])}function to(e,t){const r=mn(e,t);C(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=Xs(),i=Ys(r.options,r.previewOptions);return eo(r,n,i),[pn(r.collect,n,i),$s(i),Us(i)]}function ro(e){return y.useMemo(()=>e.hooks.dropTarget(),[e])}function no(e){const t=ge(),r=y.useMemo(()=>new Ws(t.getBackend()),[t]);return ne(()=>(r.dropTargetOptions=e||null,r.reconnect(),()=>r.disconnectDropTarget()),[e]),r}function io(){const e=ge();return y.useMemo(()=>new qs(e),[e])}function so(e){const{accept:t}=e;return y.useMemo(()=>(C(e.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}class oo{canDrop(){const t=this.spec,r=this.monitor;return t.canDrop?t.canDrop(r.getItem(),r):!0}hover(){const t=this.spec,r=this.monitor;t.hover&&t.hover(r.getItem(),r)}drop(){const t=this.spec,r=this.monitor;if(t.drop)return t.drop(r.getItem(),r)}constructor(t,r){this.spec=t,this.monitor=r}}function ao(e,t){const r=y.useMemo(()=>new oo(e,t),[t]);return y.useEffect(()=>{r.spec=e},[e]),r}function uo(e,t,r){const n=ge(),i=ao(e,t),s=so(e);ne(function(){const[a,u]=Vs(s,i,n);return t.receiveHandlerId(a),r.receiveHandlerId(a),u},[n,t,i,r,s.map(o=>o.toString()).join("|")])}function yn(e,t){const r=mn(e,t),n=io(),i=no(r.options);return uo(r,n,i),[pn(r.collect,n,i),ro(i)]}function bn(e){let t=null;return()=>(t==null&&(t=e()),t)}function co(e,t){return e.filter(r=>r!==t)}function lo(e,t){const r=new Set,n=s=>r.add(s);e.forEach(n),t.forEach(n);const i=[];return r.forEach(s=>i.push(s)),i}class ho{enter(t){const r=this.entered.length,n=i=>this.isNodeInDocument(i)&&(!i.contains||i.contains(t));return this.entered=lo(this.entered.filter(n),[t]),r===0&&this.entered.length>0}leave(t){const r=this.entered.length;return this.entered=co(this.entered.filter(this.isNodeInDocument),t),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class fo{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const i=this.config.exposeProperties[n];i!=null&&(r[n]={value:i(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,r){return r===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const wn="__NATIVE_FILE__",Sn="__NATIVE_URL__",On="__NATIVE_TEXT__",Dn="__NATIVE_HTML__",br=Object.freeze(Object.defineProperty({__proto__:null,FILE:wn,HTML:Dn,TEXT:On,URL:Sn},Symbol.toStringTag,{value:"Module"}));function ft(e,t,r){const n=t.reduce((i,s)=>i||e.getData(s),"");return n??r}const It={[wn]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[Dn]:{exposeProperties:{html:(e,t)=>ft(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[Sn]:{exposeProperties:{urls:(e,t)=>ft(e,t,"").split(`
`),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[On]:{exposeProperties:{text:(e,t)=>ft(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function go(e,t){const r=It[e];if(!r)throw new Error(`native type ${e} has no configuration`);const n=new fo(r);return n.loadDataTransfer(t),n}function gt(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(It).filter(r=>{const n=It[r];return n!=null&&n.matchesTypes?n.matchesTypes.some(i=>t.indexOf(i)>-1):!1})[0]||null}const po=bn(()=>/firefox/i.test(navigator.userAgent)),Tn=bn(()=>!!window.safari);class wr{interpolate(t){const{xs:r,ys:n,c1s:i,c2s:s,c3s:o}=this;let a=r.length-1;if(t===r[a])return n[a];let u=0,d=o.length-1,c;for(;u<=d;){c=Math.floor(.5*(u+d));const f=r[c];if(f<t)u=c+1;else if(f>t)d=c-1;else return n[c]}a=Math.max(0,d);const l=t-r[a],h=l*l;return n[a]+i[a]*l+s[a]*h+o[a]*l*h}constructor(t,r){const{length:n}=t,i=[];for(let f=0;f<n;f++)i.push(f);i.sort((f,p)=>t[f]<t[p]?-1:1);const s=[],o=[];let a,u;for(let f=0;f<n-1;f++)a=t[f+1]-t[f],u=r[f+1]-r[f],s.push(a),o.push(u/a);const d=[o[0]];for(let f=0;f<s.length-1;f++){const p=o[f],v=o[f+1];if(p*v<=0)d.push(0);else{a=s[f];const m=s[f+1],w=a+m;d.push(3*w/((w+m)/p+(w+a)/v))}}d.push(o[o.length-1]);const c=[],l=[];let h;for(let f=0;f<d.length-1;f++){h=o[f];const p=d[f],v=1/s[f],m=p+d[f+1]-h-h;c.push((h-p-m)*v),l.push(m*v*v)}this.xs=t,this.ys=r,this.c1s=d,this.c2s=c,this.c3s=l}}const mo=1;function In(e){const t=e.nodeType===mo?e:e.parentElement;if(!t)return null;const{top:r,left:n}=t.getBoundingClientRect();return{x:n,y:r}}function Ae(e){return{x:e.clientX,y:e.clientY}}function vo(e){var t;return e.nodeName==="IMG"&&(po()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(e)))}function yo(e,t,r,n){let i=e?t.width:r,s=e?t.height:n;return Tn()&&e&&(s/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:s}}function bo(e,t,r,n,i){const s=vo(t),a=In(s?e:t),u={x:r.x-a.x,y:r.y-a.y},{offsetWidth:d,offsetHeight:c}=e,{anchorX:l,anchorY:h}=n,{dragPreviewWidth:f,dragPreviewHeight:p}=yo(s,t,d,c),v=()=>{let _=new wr([0,.5,1],[u.y,u.y/c*p,u.y+p-c]).interpolate(h);return Tn()&&s&&(_+=(window.devicePixelRatio-1)*p),_},m=()=>new wr([0,.5,1],[u.x,u.x/d*f,u.x+f-d]).interpolate(l),{offsetX:w,offsetY:S}=i,D=w===0||w,O=S===0||S;return{x:D?w:m(),y:O?S:v()}}class wo{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,r){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=r}}function So(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){So(e,i,r[i])})}return e}class Oo{profile(){var t,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,r,n){return this.sourcePreviewNodeOptions.set(t,n),this.sourcePreviewNodes.set(t,r),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,r,n){this.sourceNodes.set(t,r),this.sourceNodeOptions.set(t,n);const i=o=>this.handleDragStart(o,t),s=o=>this.handleSelectStart(o);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",i),r.addEventListener("selectstart",s),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),r.removeEventListener("dragstart",i),r.removeEventListener("selectstart",s),r.setAttribute("draggable","false")}}connectDropTarget(t,r){const n=o=>this.handleDragEnter(o,t),i=o=>this.handleDragOver(o,t),s=o=>this.handleDrop(o,t);return r.addEventListener("dragenter",n),r.addEventListener("dragover",i),r.addEventListener("drop",s),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",i),r.removeEventListener("drop",s)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(t);return Sr({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(t);return Sr({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(br).some(r=>br[r]===t)}beginDragNativeItem(t,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=go(t,r),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,r){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(t,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(t,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(t,r){this.dropTargetIds.unshift(r)}constructor(t,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=i=>{const s=this.sourceNodes.get(i);return s&&In(s)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=i=>!!(i&&this.document&&this.document.body&&this.document.body.contains(i)),this.endDragIfSourceWasRemovedFromDOM=()=>{const i=this.currentDragSourceNode;i==null||this.isNodeInDocument(i)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=i=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(i||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=i=>{if(i.defaultPrevented)return;const{dragStartSourceIds:s}=this;this.dragStartSourceIds=null;const o=Ae(i);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(s||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:o});const{dataTransfer:a}=i,u=gt(a);if(this.monitor.isDragging()){if(a&&typeof a.setDragImage=="function"){const c=this.monitor.getSourceId(),l=this.sourceNodes.get(c),h=this.sourcePreviewNodes.get(c)||l;if(h){const{anchorX:f,anchorY:p,offsetX:v,offsetY:m}=this.getCurrentSourcePreviewNodeOptions(),D=bo(l,h,o,{anchorX:f,anchorY:p},{offsetX:v,offsetY:m});a.setDragImage(h,D.x,D.y)}}try{a==null||a.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(i.target);const{captureDraggingState:d}=this.getCurrentSourcePreviewNodeOptions();d?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(u)this.beginDragNativeItem(u);else{if(a&&!a.types&&(i.target&&!i.target.hasAttribute||!i.target.hasAttribute("draggable")))return;i.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=i=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}if(!this.enterLeaveCounter.enter(i.target)||this.monitor.isDragging())return;const{dataTransfer:a}=i,u=gt(a);u&&this.beginDragNativeItem(u,a)},this.handleTopDragEnter=i=>{const{dragEnterTargetIds:s}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=i.altKey,s.length>0&&this.actions.hover(s,{clientOffset:Ae(i)}),s.some(a=>this.monitor.canDropOnTarget(a))&&(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=i=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}},this.handleTopDragOver=i=>{const{dragOverTargetIds:s}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}this.altKeyPressed=i.altKey,this.lastClientOffset=Ae(i),this.scheduleHover(s),(s||[]).some(a=>this.monitor.canDropOnTarget(a))?(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?i.preventDefault():(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=i=>{this.isDraggingNativeItem()&&i.preventDefault(),this.enterLeaveCounter.leave(i.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=i=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var s;i.preventDefault(),(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}else gt(i.dataTransfer)&&i.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=i=>{const{dropTargetIds:s}=this;this.dropTargetIds=[],this.actions.hover(s,{clientOffset:Ae(i)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=i=>{const s=i.target;typeof s.dragDrop=="function"&&(s.tagName==="INPUT"||s.tagName==="SELECT"||s.tagName==="TEXTAREA"||s.isContentEditable||(i.preventDefault(),s.dragDrop()))},this.options=new wo(r,n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new ho(this.isNodeInDocument)}}const Do=function(t,r,n){return new Oo(t,r,n)},Ct=M.object({id:M.string(),text:M.string(),checked:M.boolean().default(!1)});M.array(Ct).default([]);M.object({id:M.string(),index:M.number()});const To=e=>{const{handleTodoChecked:t,handleDrop:r,deleteTodoItem:n,...i}=e,s=y.useRef(null),[,o]=yn({accept:"todo",hover(u,d){var m;if(!s.current)return;const c=u.index,l=i.index;if(c===l)return;const h=d.getClientOffset();if(h==null)return;const f=(m=s.current)==null?void 0:m.getBoundingClientRect(),p=(f.bottom-f.top)/2,v=h.y-f.top;c<l&&v<p||c>l&&v>p||(r(c,l),u.index=l)}}),[,a]=to({type:"todo",item:{id:i.id,index:e.index}});return a(o(s)),T.jsx("div",{ref:s,children:T.jsx("div",{className:"flex items-center hover:bg-gray-800 rounded-md",children:T.jsxs("div",{className:"flex grow ",children:[T.jsx("div",{className:"flex items-center px-1",children:T.jsx("input",{checked:i.checked??!1,id:"checked-checkbox",type:"checkbox",value:"",className:"w-4 h-4 accent-green-600 bg-gray-200 rounded",onChange:u=>t(i.id,u)})}),T.jsx("div",{className:`grow text-start py-2 px-1 text-gray-200 border-gray-300 ${i.checked&&"line-through"} cursor-pointer`,children:i.text}),T.jsx("button",{type:"button",onClick:()=>n(i.id),className:"text-gray-200 text-lg py-2 px-1 hover:bg-gray-800 rounded-md",children:T.jsx(pi,{})})]})})})},Io=({children:e,className:t})=>{const[,r]=yn(()=>({accept:"todo"}));return T.jsx("div",{ref:r,className:t,children:e})},Co=()=>{const[e,t]=y.useState([]),[r,n]=y.useState(""),i=d=>{n(d.target.value)},s=d=>{d.preventDefault(),r.trim()&&(t([...e,Ct.parse({id:Vt(),text:r})]),n(""))},o=(d,c)=>{t(l=>{const h=[...l];let f=h.findIndex(p=>p.id===d);return h[f]=Ct.parse({...h[f],checked:c.target.checked}),h})},a=(d,c)=>{t(l=>{let h=[...l];const[f]=h.splice(d,1);return h.splice(c,0,f),h})},u=d=>{t(c=>c.filter(l=>l.id!==d))};return T.jsxs("div",{className:"max-w-lg mx-auto text-gray-800 bg-gray-900 p-2 rounded-md",children:[T.jsx("div",{children:T.jsx("h1",{className:"text-gray-300 text-2xl font-bold mb-2",children:"Todo List"})}),T.jsx("form",{onSubmit:s,className:`flex gap-2 outline-0 ${e&&e[0]?"mb-4":""}`,children:T.jsxs("div",{className:"flex grow relative",children:[T.jsx("div",{className:"text-gray-300 absolute-center-y left-2",children:T.jsx(gi,{})}),T.jsx("input",{type:"text",value:r,onChange:i,placeholder:"Add a task",className:"flex-1 placeholder-gray-500 text-gray-200 bg-gray-600 rounded-md p-2 reset-input pl-8"})]})}),T.jsx(Ns,{backend:Do,children:T.jsx(Io,{className:"list-container max-h-[32rem]",children:e.map((d,c)=>T.jsx(To,{index:c,handleTodoChecked:o,handleDrop:a,deleteTodoItem:u,...d},d.id))})})]})},Eo="_mount_1lfow_1",Or={"cell-animation":"_cell-animation_1lfow_1",mount:Eo,"end-toast":"_end-toast_1lfow_25","end-toast-animation":"_end-toast-animation_1lfow_1"},Dr=e=>JSON.parse(JSON.stringify(e)),xo=(e,t,r)=>{const n=i=>{e.forEach((s,o)=>{i.key==s&&t[o](r)})};y.useEffect(()=>(window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}),[r])},_o=e=>{const[t,r]=y.useState(null);if(e&&e.sizes.length<1)throw Error("invalid params");let n=e.sizes.sort((s,o)=>o.minSize-s.minSize);const i=()=>{let s=window.innerWidth;for(let o=0;o<n.length;o++)if(s>=n[o].minSize){r(n[o].key);break}};return y.useEffect(()=>(i(),window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}),[]),t},Po=e=>{const t=Ht(e??!1,(r,n,i)=>{n(t,i??!r(t))});return t},Mo=e=>{const[t,r]=y.useState(e),n=y.useRef(void 0),i=(s,o)=>{o?(n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{r(e)},o)):r(s)};return y.useEffect(()=>()=>{n.current&&clearTimeout(n.current)},[t]),[t,i]};var Yt=ke(),I=e=>Re(e,Yt),Xt=ke();I.write=e=>Re(e,Xt);var tt=ke();I.onStart=e=>Re(e,tt);var Zt=ke();I.onFrame=e=>Re(e,Zt);var Jt=ke();I.onFinish=e=>Re(e,Jt);var de=[];I.setTimeout=(e,t)=>{let r=I.now()+t,n=()=>{let s=de.findIndex(o=>o.cancel==n);~s&&de.splice(s,1),J-=~s?1:0},i={time:r,handler:e,cancel:n};return de.splice(Cn(r),0,i),J+=1,En(),i};var Cn=e=>~(~de.findIndex(t=>t.time>e)||~de.length);I.cancel=e=>{tt.delete(e),Zt.delete(e),Jt.delete(e),Yt.delete(e),Xt.delete(e)};I.sync=e=>{Et=!0,I.batchedUpdates(e),Et=!1};I.throttle=e=>{let t;function r(){try{e(...t)}finally{t=null}}function n(...i){t=i,I.onStart(r)}return n.handler=e,n.cancel=()=>{tt.delete(r),t=null},n};var Kt=typeof window<"u"?window.requestAnimationFrame:()=>{};I.use=e=>Kt=e;I.now=typeof performance<"u"?()=>performance.now():Date.now;I.batchedUpdates=e=>e();I.catch=console.error;I.frameLoop="always";I.advance=()=>{I.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):_n()};var Z=-1,J=0,Et=!1;function Re(e,t){Et?(t.delete(e),e(0)):(t.add(e),En())}function En(){Z<0&&(Z=0,I.frameLoop!=="demand"&&Kt(xn))}function No(){Z=-1}function xn(){~Z&&(Kt(xn),I.batchedUpdates(_n))}function _n(){let e=Z;Z=I.now();let t=Cn(Z);if(t&&(Pn(de.splice(0,t),r=>r.handler()),J-=t),!J){No();return}tt.flush(),Yt.flush(e?Math.min(64,Z-e):16.667),Zt.flush(),Xt.flush(),Jt.flush()}function ke(){let e=new Set,t=e;return{add(r){J+=t==e&&!e.has(r)?1:0,e.add(r)},delete(r){return J-=t==e&&e.has(r)?1:0,e.delete(r)},flush(r){t.size&&(e=new Set,J-=t.size,Pn(t,n=>n(r)&&e.add(n)),J+=e.size,t=e)}}}function Pn(e,t){e.forEach(r=>{try{t(r)}catch(n){I.catch(n)}})}var Ro=Object.defineProperty,ko=(e,t)=>{for(var r in t)Ro(e,r,{get:t[r],enumerable:!0})},V={};ko(V,{assign:()=>Ao,colors:()=>ee,createStringInterpolator:()=>tr,skipAnimation:()=>Nn,to:()=>Mn,willAdvance:()=>rr});function xt(){}var jo=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}),g={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function B(e,t){if(g.arr(e)){if(!g.arr(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return e===t}var E=(e,t)=>e.forEach(t);function G(e,t,r){if(g.arr(e)){for(let n=0;n<e.length;n++)t.call(r,e[n],`${n}`);return}for(let n in e)e.hasOwnProperty(n)&&t.call(r,e[n],n)}var k=e=>g.und(e)?[]:g.arr(e)?e:[e];function Se(e,t){if(e.size){let r=Array.from(e);e.clear(),E(r,t)}}var be=(e,...t)=>Se(e,r=>r(...t)),er=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),tr,Mn,ee=null,Nn=!1,rr=xt,Ao=e=>{e.to&&(Mn=e.to),e.now&&(I.now=e.now),e.colors!==void 0&&(ee=e.colors),e.skipAnimation!=null&&(Nn=e.skipAnimation),e.createStringInterpolator&&(tr=e.createStringInterpolator),e.requestAnimationFrame&&I.use(e.requestAnimationFrame),e.batchedUpdates&&(I.batchedUpdates=e.batchedUpdates),e.willAdvance&&(rr=e.willAdvance),e.frameLoop&&(I.frameLoop=e.frameLoop)},Oe=new Set,$=[],pt=[],ze=0,rt={get idle(){return!Oe.size&&!$.length},start(e){ze>e.priority?(Oe.add(e),I.onStart(Lo)):(Rn(e),I(_t))},advance:_t,sort(e){if(ze)I.onFrame(()=>rt.sort(e));else{let t=$.indexOf(e);~t&&($.splice(t,1),kn(e))}},clear(){$=[],Oe.clear()}};function Lo(){Oe.forEach(Rn),Oe.clear(),I(_t)}function Rn(e){$.includes(e)||kn(e)}function kn(e){$.splice($o($,t=>t.priority>e.priority),0,e)}function _t(e){let t=pt;for(let r=0;r<$.length;r++){let n=$[r];ze=n.priority,n.idle||(rr(n),n.advance(e),n.idle||t.push(n))}return ze=0,pt=$,pt.length=0,$=t,$.length>0}function $o(e,t){let r=e.findIndex(t);return r<0?e.length:r}var Uo=(e,t,r)=>Math.min(Math.max(r,e),t),Ho={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},q="[-+]?\\d*\\.?\\d+",Fe=q+"%";function nt(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var qo=new RegExp("rgb"+nt(q,q,q)),Vo=new RegExp("rgba"+nt(q,q,q,q)),zo=new RegExp("hsl"+nt(q,Fe,Fe)),Fo=new RegExp("hsla"+nt(q,Fe,Fe,q)),Go=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Bo=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Qo=/^#([0-9a-fA-F]{6})$/,Wo=/^#([0-9a-fA-F]{8})$/;function Yo(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=Qo.exec(e))?parseInt(t[1]+"ff",16)>>>0:ee&&ee[e]!==void 0?ee[e]:(t=qo.exec(e))?(ce(t[1])<<24|ce(t[2])<<16|ce(t[3])<<8|255)>>>0:(t=Vo.exec(e))?(ce(t[1])<<24|ce(t[2])<<16|ce(t[3])<<8|Cr(t[4]))>>>0:(t=Go.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=Wo.exec(e))?parseInt(t[1],16)>>>0:(t=Bo.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=zo.exec(e))?(Tr(Ir(t[1]),Le(t[2]),Le(t[3]))|255)>>>0:(t=Fo.exec(e))?(Tr(Ir(t[1]),Le(t[2]),Le(t[3]))|Cr(t[4]))>>>0:null}function mt(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Tr(e,t,r){let n=r<.5?r*(1+t):r+t-r*t,i=2*r-n,s=mt(i,n,e+1/3),o=mt(i,n,e),a=mt(i,n,e-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function ce(e){let t=parseInt(e,10);return t<0?0:t>255?255:t}function Ir(e){return(parseFloat(e)%360+360)%360/360}function Cr(e){let t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function Le(e){let t=parseFloat(e);return t<0?0:t>100?1:t/100}function Er(e){let t=Yo(e);if(t===null)return e;t=t||0;let r=(t&4278190080)>>>24,n=(t&16711680)>>>16,i=(t&65280)>>>8,s=(t&255)/255;return`rgba(${r}, ${n}, ${i}, ${s})`}var Ie=(e,t,r)=>{if(g.fun(e))return e;if(g.arr(e))return Ie({range:e,output:t,extrapolate:r});if(g.str(e.output[0]))return tr(e);let n=e,i=n.output,s=n.range||[0,1],o=n.extrapolateLeft||n.extrapolate||"extend",a=n.extrapolateRight||n.extrapolate||"extend",u=n.easing||(d=>d);return d=>{let c=Zo(d,s);return Xo(d,s[c],s[c+1],i[c],i[c+1],u,o,a,n.map)}};function Xo(e,t,r,n,i,s,o,a,u){let d=u?u(e):e;if(d<t){if(o==="identity")return d;o==="clamp"&&(d=t)}if(d>r){if(a==="identity")return d;a==="clamp"&&(d=r)}return n===i?n:t===r?e<=t?n:i:(t===-1/0?d=-d:r===1/0?d=d-t:d=(d-t)/(r-t),d=s(d),n===-1/0?d=-d:i===1/0?d=d+n:d=d*(i-n)+n,d)}function Zo(e,t){for(var r=1;r<t.length-1&&!(t[r]>=e);++r);return r-1}var Jo=(e,t="end")=>r=>{r=t==="end"?Math.min(r,.999):Math.max(r,.001);let n=r*e,i=t==="end"?Math.floor(n):Math.ceil(n);return Uo(0,1,i/e)},Ge=1.70158,$e=Ge*1.525,xr=Ge+1,_r=2*Math.PI/3,Pr=2*Math.PI/4.5,Ue=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,Ko={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>xr*e*e*e-Ge*e*e,easeOutBack:e=>1+xr*Math.pow(e-1,3)+Ge*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*(($e+1)*2*e-$e)/2:(Math.pow(2*e-2,2)*(($e+1)*(e*2-2)+$e)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*_r),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*_r)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*Pr))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*Pr)/2+1,easeInBounce:e=>1-Ue(1-e),easeOutBounce:Ue,easeInOutBounce:e=>e<.5?(1-Ue(1-2*e))/2:(1+Ue(2*e-1))/2,steps:Jo},fe=Symbol.for("FluidValue.get"),ie=Symbol.for("FluidValue.observers"),L=e=>!!(e&&e[fe]),R=e=>e&&e[fe]?e[fe]():e,Mr=e=>e[ie]||null;function ea(e,t){e.eventObserved?e.eventObserved(t):e(t)}function Ce(e,t){let r=e[ie];r&&r.forEach(n=>{ea(n,t)})}var Mu,Nu,rn,jn=(rn=class{constructor(e){b(this,Mu);b(this,Nu);if(!e&&!(e=this.get))throw Error("Unknown getter");ta(this,e)}},Mu=fe,Nu=ie,rn),ta=(e,t)=>An(e,fe,t);function pe(e,t){if(e[fe]){let r=e[ie];r||An(e,ie,r=new Set),r.has(t)||(r.add(t),e.observerAdded&&e.observerAdded(r.size,t))}return t}function Ee(e,t){let r=e[ie];if(r&&r.has(t)){let n=r.size-1;n?r.delete(t):e[ie]=null,e.observerRemoved&&e.observerRemoved(n,t)}}var An=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}),qe=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,ra=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Nr=new RegExp(`(${qe.source})(%|[a-z]+)`,"i"),na=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,it=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Ln=e=>{let[t,r]=ia(e);if(!t||er())return e;let n=window.getComputedStyle(document.documentElement).getPropertyValue(t);return n?n.trim():r&&r.startsWith("--")?window.getComputedStyle(document.documentElement).getPropertyValue(r)||e:r&&it.test(r)?Ln(r):r||e},ia=e=>{let t=it.exec(e);if(!t)return[,];let[,r,n]=t;return[r,n]},vt,sa=(e,t,r,n,i)=>`rgba(${Math.round(t)}, ${Math.round(r)}, ${Math.round(n)}, ${i})`,$n=e=>{vt||(vt=ee?new RegExp(`(${Object.keys(ee).join("|")})(?!\\w)`,"g"):/^\b$/);let t=e.output.map(i=>R(i).replace(it,Ln).replace(ra,Er).replace(vt,Er)),r=t.map(i=>i.match(qe).map(Number)),n=r[0].map((i,s)=>r.map(o=>{if(!(s in o))throw Error('The arity of each "output" value must be equal');return o[s]})).map(i=>Ie({...e,output:i}));return i=>{var a;let s=!Nr.test(t[0])&&((a=t.find(u=>Nr.test(u)))==null?void 0:a.replace(qe,"")),o=0;return t[0].replace(qe,()=>`${n[o++](i)}${s||""}`).replace(na,sa)}},nr="react-spring: ",Un=e=>{let t=e,r=!1;if(typeof t!="function")throw new TypeError(`${nr}once requires a function parameter`);return(...n)=>{r||(t(...n),r=!0)}},oa=Un(console.warn);function aa(){oa(`${nr}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var ua=Un(console.warn);function ca(){ua(`${nr}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function st(e){return g.str(e)&&(e[0]=="#"||/\d/.test(e)||!er()&&it.test(e)||e in(ee||{}))}var ir=er()?y.useEffect:y.useLayoutEffect,la=()=>{let e=y.useRef(!1);return ir(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function Hn(){let e=y.useState()[1],t=la();return()=>{t.current&&e(Math.random())}}function da(e,t){let[r]=y.useState(()=>({inputs:t,result:e()})),n=y.useRef(),i=n.current,s=i;return s?t&&s.inputs&&ha(t,s.inputs)||(s={inputs:t,result:e()}):s=r,y.useEffect(()=>{n.current=s,i==r&&(r.inputs=r.result=void 0)},[s]),s.result}function ha(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var qn=e=>y.useEffect(e,fa),fa=[];function Rr(e){let t=y.useRef();return y.useEffect(()=>{t.current=e}),t.current}var xe=Symbol.for("Animated:node"),ga=e=>!!e&&e[xe]===e,F=e=>e&&e[xe],sr=(e,t)=>jo(e,xe,t),ot=e=>e&&e[xe]&&e[xe].getPayload(),Vn=class{constructor(){b(this,"payload");sr(this,this)}getPayload(){return this.payload||[]}},je=class extends Vn{constructor(t){super();b(this,"done",!0);b(this,"elapsedTime");b(this,"lastPosition");b(this,"lastVelocity");b(this,"v0");b(this,"durationProgress",0);this._value=t,g.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new je(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,r){return g.num(t)&&(this.lastPosition=t,r&&(t=Math.round(t/r)*r,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){let{done:t}=this;this.done=!1,g.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},_e=class extends je{constructor(t){super(0);b(this,"_string",null);b(this,"_toString");this._toString=Ie({output:[t,t]})}static create(t){return new _e(t)}getValue(){return this._string??(this._string=this._toString(this._value))}setValue(t){if(g.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=Ie({output:[this.getValue(),t]})),this._value=0,super.reset()}},Be={dependencies:null},at=class extends Vn{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){let t={};return G(this.source,(r,n)=>{ga(r)?t[n]=r.getValue(e):L(r)?t[n]=R(r):e||(t[n]=r)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&E(this.payload,e=>e.reset())}_makePayload(e){if(e){let t=new Set;return G(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){Be.dependencies&&L(e)&&Be.dependencies.add(e);let t=ot(e);t&&E(t,r=>this.add(r))}},zn=class extends at{constructor(t){super(t)}static create(t){return new zn(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){let r=this.getPayload();return t.length==r.length?r.map((n,i)=>n.setValue(t[i])).some(Boolean):(super.setValue(t.map(pa)),!0)}};function pa(e){return(st(e)?_e:je).create(e)}function Pt(e){let t=F(e);return t?t.constructor:g.arr(e)?zn:st(e)?_e:je}var kr=(e,t)=>{let r=!g.fun(e)||e.prototype&&e.prototype.isReactComponent;return y.forwardRef((n,i)=>{let s=y.useRef(null),o=r&&y.useCallback(p=>{s.current=ya(i,p)},[i]),[a,u]=va(n,t),d=Hn(),c=()=>{let p=s.current;r&&!p||(p?t.applyAnimatedValues(p,a.getValue(!0)):!1)===!1&&d()},l=new ma(c,u),h=y.useRef();ir(()=>(h.current=l,E(u,p=>pe(p,l)),()=>{h.current&&(E(h.current.deps,p=>Ee(p,h.current)),I.cancel(h.current.update))})),y.useEffect(c,[]),qn(()=>()=>{let p=h.current;E(p.deps,v=>Ee(v,p))});let f=t.getComponentProps(a.getValue());return y.createElement(e,{...f,ref:o})})},ma=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&I.write(this.update)}};function va(e,t){let r=new Set;return Be.dependencies=r,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new at(e),Be.dependencies=null,[e,r]}function ya(e,t){return e&&(g.fun(e)?e(t):e.current=t),t}var jr=Symbol.for("AnimatedComponent"),ba=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:r=i=>new at(i),getComponentProps:n=i=>i}={})=>{let i={applyAnimatedValues:t,createAnimatedStyle:r,getComponentProps:n},s=o=>{let a=Ar(o)||"Anonymous";return g.str(o)?o=s[o]||(s[o]=kr(o,i)):o=o[jr]||(o[jr]=kr(o,i)),o.displayName=`Animated(${a})`,o};return G(e,(o,a)=>{g.arr(e)&&(a=Ar(o)),s[a]=s(o)}),{animated:s}},Ar=e=>g.str(e)?e:e&&g.str(e.displayName)?e.displayName:g.fun(e)&&e.name||null;function te(e,...t){return g.fun(e)?e(...t):e}var De=(e,t)=>e===!0||!!(t&&e&&(g.fun(e)?e(t):k(e).includes(t))),Fn=(e,t)=>g.obj(e)?t&&e[t]:e,Gn=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,wa=e=>e,or=(e,t=wa)=>{let r=Sa;e.default&&e.default!==!0&&(e=e.default,r=Object.keys(e));let n={};for(let i of r){let s=t(e[i],i);g.und(s)||(n[i]=s)}return n},Sa=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Oa={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Da(e){let t={},r=0;if(G(e,(n,i)=>{Oa[i]||(t[i]=n,r++)}),r)return t}function Bn(e){let t=Da(e);if(t){let r={to:t};return G(e,(n,i)=>i in t||(r[i]=n)),r}return{...e}}function Pe(e){return e=R(e),g.arr(e)?e.map(Pe):st(e)?V.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Ta(e){for(let t in e)return!0;return!1}function Mt(e){return g.fun(e)||g.arr(e)&&g.obj(e[0])}function Ia(e,t){var r;(r=e.ref)==null||r.delete(e),t==null||t.delete(e)}function Ca(e,t){var r;t&&e.ref!==t&&((r=e.ref)==null||r.delete(e),t.add(e),e.ref=t)}var Ea={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Nt={...Ea.default,mass:1,damping:1,easing:Ko.linear,clamp:!1},xa=class{constructor(){b(this,"tension");b(this,"friction");b(this,"frequency");b(this,"damping");b(this,"mass");b(this,"velocity",0);b(this,"restVelocity");b(this,"precision");b(this,"progress");b(this,"duration");b(this,"easing");b(this,"clamp");b(this,"bounce");b(this,"decay");b(this,"round");Object.assign(this,Nt)}};function _a(e,t,r){r&&(r={...r},Lr(r,t),t={...r,...t}),Lr(e,t),Object.assign(e,t);for(let o in Nt)e[o]==null&&(e[o]=Nt[o]);let{mass:n,frequency:i,damping:s}=e;return g.und(i)||(i<.01&&(i=.01),s<0&&(s=0),e.tension=Math.pow(2*Math.PI/i,2)*n,e.friction=4*Math.PI*s*n/i),e}function Lr(e,t){if(!g.und(t.decay))e.duration=void 0;else{let r=!g.und(t.tension)||!g.und(t.friction);(r||!g.und(t.frequency)||!g.und(t.damping)||!g.und(t.mass))&&(e.duration=void 0,e.decay=void 0),r&&(e.frequency=void 0)}}var $r=[],Pa=class{constructor(){b(this,"changed",!1);b(this,"values",$r);b(this,"toValues",null);b(this,"fromValues",$r);b(this,"to");b(this,"from");b(this,"config",new xa);b(this,"immediate",!1)}};function Qn(e,{key:t,props:r,defaultProps:n,state:i,actions:s}){return new Promise((o,a)=>{let u,d,c=De(r.cancel??(n==null?void 0:n.cancel),t);if(c)f();else{g.und(r.pause)||(i.paused=De(r.pause,t));let p=n==null?void 0:n.pause;p!==!0&&(p=i.paused||De(p,t)),u=te(r.delay||0,t),p?(i.resumeQueue.add(h),s.pause()):(s.resume(),h())}function l(){i.resumeQueue.add(h),i.timeouts.delete(d),d.cancel(),u=d.time-I.now()}function h(){u>0&&!V.skipAnimation?(i.delayed=!0,d=I.setTimeout(f,u),i.pauseQueue.add(l),i.timeouts.add(d)):f()}function f(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(l),i.timeouts.delete(d),e<=(i.cancelId||0)&&(c=!0);try{s.start({...r,callId:e,cancel:c},o)}catch(p){a(p)}}})}var ar=(e,t)=>t.length==1?t[0]:t.some(r=>r.cancelled)?he(e.get()):t.every(r=>r.noop)?Wn(e.get()):H(e.get(),t.every(r=>r.finished)),Wn=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),H=(e,t,r=!1)=>({value:e,finished:t,cancelled:r}),he=e=>({value:e,cancelled:!0,finished:!1});function Yn(e,t,r,n){let{callId:i,parentId:s,onRest:o}=t,{asyncTo:a,promise:u}=r;return!s&&e===a&&!t.reset?u:r.promise=(async()=>{r.asyncId=i,r.asyncTo=e;let d=or(t,(m,w)=>w==="onRest"?void 0:m),c,l,h=new Promise((m,w)=>(c=m,l=w)),f=m=>{let w=i<=(r.cancelId||0)&&he(n)||i!==r.asyncId&&H(n,!1);if(w)throw m.result=w,l(m),m},p=(m,w)=>{let S=new Ur,D=new Hr;return(async()=>{if(V.skipAnimation)throw Me(r),D.result=H(n,!1),l(D),D;f(S);let O=g.obj(m)?{...m}:{...w,to:m};O.parentId=i,G(d,(_,Q)=>{g.und(O[Q])&&(O[Q]=_)});let x=await n.start(O);return f(S),r.paused&&await new Promise(_=>{r.resumeQueue.add(_)}),x})()},v;if(V.skipAnimation)return Me(r),H(n,!1);try{let m;g.arr(e)?m=(async w=>{for(let S of w)await p(S)})(e):m=Promise.resolve(e(p,n.stop.bind(n))),await Promise.all([m.then(c),h]),v=H(n.get(),!0,!1)}catch(m){if(m instanceof Ur)v=m.result;else if(m instanceof Hr)v=m.result;else throw m}finally{i==r.asyncId&&(r.asyncId=s,r.asyncTo=s?a:void 0,r.promise=s?u:void 0)}return g.fun(o)&&I.batchedUpdates(()=>{o(v,n,n.item)}),v})()}function Me(e,t){Se(e.timeouts,r=>r.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var Ur=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.");b(this,"result")}},Hr=class extends Error{constructor(){super("SkipAnimationSignal");b(this,"result")}},Rt=e=>e instanceof ur,Ma=1,ur=class extends jn{constructor(){super(...arguments);b(this,"id",Ma++);b(this,"_priority",0)}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){let t=F(this);return t&&t.getValue()}to(...t){return V.to(this,t)}interpolate(...t){return aa(),V.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,r=!1){Ce(this,{type:"change",parent:this,value:t,idle:r})}_onPriorityChange(t){this.idle||rt.sort(this),Ce(this,{type:"priority",parent:this,priority:t})}},se=Symbol.for("SpringPhase"),Xn=1,kt=2,jt=4,yt=e=>(e[se]&Xn)>0,Y=e=>(e[se]&kt)>0,me=e=>(e[se]&jt)>0,qr=(e,t)=>t?e[se]|=kt|Xn:e[se]&=~kt,Vr=(e,t)=>t?e[se]|=jt:e[se]&=~jt,Na=class extends ur{constructor(t,r){super();b(this,"key");b(this,"animation",new Pa);b(this,"queue");b(this,"defaultProps",{});b(this,"_state",{paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set});b(this,"_pendingCalls",new Set);b(this,"_lastCallId",0);b(this,"_lastToId",0);b(this,"_memoizedDuration",0);if(!g.und(t)||!g.und(r)){let n=g.obj(t)?{...t}:{...r,from:t};g.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Y(this)||this._state.asyncTo)||me(this)}get goal(){return R(this.animation.to)}get velocity(){let t=F(this);return t instanceof je?t.lastVelocity||0:t.getPayload().map(r=>r.lastVelocity||0)}get hasAnimated(){return yt(this)}get isAnimating(){return Y(this)}get isPaused(){return me(this)}get isDelayed(){return this._state.delayed}advance(t){let r=!0,n=!1,i=this.animation,{config:s,toValues:o}=i,a=ot(i.to);!a&&L(i.to)&&(o=k(R(i.to))),i.values.forEach((c,l)=>{if(c.done)return;let h=c.constructor==_e?1:a?a[l].lastPosition:o[l],f=i.immediate,p=h;if(!f){if(p=c.lastPosition,s.tension<=0){c.done=!0;return}let v=c.elapsedTime+=t,m=i.fromValues[l],w=c.v0!=null?c.v0:c.v0=g.arr(s.velocity)?s.velocity[l]:s.velocity,S,D=s.precision||(m==h?.005:Math.min(1,Math.abs(h-m)*.001));if(g.und(s.duration))if(s.decay){let O=s.decay===!0?.998:s.decay,x=Math.exp(-(1-O)*v);p=m+w/(1-O)*(1-x),f=Math.abs(c.lastPosition-p)<=D,S=w*x}else{S=c.lastVelocity==null?w:c.lastVelocity;let O=s.restVelocity||D/10,x=s.clamp?0:s.bounce,_=!g.und(x),Q=m==h?c.v0>0:m<h,U,W=!1,P=1,z=Math.ceil(t/P);for(let N=0;N<z&&(U=Math.abs(S)>O,!(!U&&(f=Math.abs(h-p)<=D,f)));++N){_&&(W=p==h||p>h==Q,W&&(S=-S*x,p=h));let oe=-s.tension*1e-6*(p-h),ae=-s.friction*.001*S,ui=(oe+ae)/s.mass;S=S+ui*P,p=p+S*P}}else{let O=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,c.durationProgress>0&&(c.elapsedTime=s.duration*c.durationProgress,v=c.elapsedTime+=t)),O=(s.progress||0)+v/this._memoizedDuration,O=O>1?1:O<0?0:O,c.durationProgress=O),p=m+s.easing(O)*(h-m),S=(p-c.lastPosition)/t,f=O==1}c.lastVelocity=S,Number.isNaN(p)&&(console.warn("Got NaN while animating:",this),f=!0)}a&&!a[l].done&&(f=!1),f?c.done=!0:r=!1,c.setValue(p,s.round)&&(n=!0)});let u=F(this),d=u.getValue();if(r){let c=R(i.to);(d!==c||n)&&!s.decay?(u.setValue(c),this._onChange(c)):n&&s.decay&&this._onChange(d),this._stop()}else n&&this._onChange(d)}set(t){return I.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Y(this)){let{to:t,config:r}=this.animation;I.batchedUpdates(()=>{this._onStart(),r.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,r){let n;return g.und(t)?(n=this.queue||[],this.queue=[]):n=[g.obj(t)?t:{...r,to:t}],Promise.all(n.map(i=>this._update(i))).then(i=>ar(this,i))}stop(t){let{to:r}=this.animation;return this._focus(this.get()),Me(this._state,t&&this._lastCallId),I.batchedUpdates(()=>this._stop(r,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){let r=this.key||"",{to:n,from:i}=t;n=g.obj(n)?n[r]:n,(n==null||Mt(n))&&(n=void 0),i=g.obj(i)?i[r]:i,i==null&&(i=void 0);let s={to:n,from:i};return yt(this)||(t.reverse&&([n,i]=[i,n]),i=R(i),g.und(i)?F(this)||this._set(n):this._set(i)),s}_update({...t},r){let{key:n,defaultProps:i}=this;t.default&&Object.assign(i,or(t,(a,u)=>/^on/.test(u)?Fn(a,n):a)),Fr(this,t,"onProps"),ye(this,"onProps",t,this);let s=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let o=this._state;return Qn(++this._lastCallId,{key:n,props:t,defaultProps:i,state:o,actions:{pause:()=>{me(this)||(Vr(this,!0),be(o.pauseQueue),ye(this,"onPause",H(this,ve(this,this.animation.to)),this))},resume:()=>{me(this)&&(Vr(this,!1),Y(this)&&this._resume(),be(o.resumeQueue),ye(this,"onResume",H(this,ve(this,this.animation.to)),this))},start:this._merge.bind(this,s)}}).then(a=>{if(t.loop&&a.finished&&!(r&&a.noop)){let u=Zn(t);if(u)return this._update(u,!0)}return a})}_merge(t,r,n){if(r.cancel)return this.stop(!0),n(he(this));let i=!g.und(t.to),s=!g.und(t.from);if(i||s)if(r.callId>this._lastToId)this._lastToId=r.callId;else return n(he(this));let{key:o,defaultProps:a,animation:u}=this,{to:d,from:c}=u,{to:l=d,from:h=c}=t;s&&!i&&(!r.default||g.und(l))&&(l=h),r.reverse&&([l,h]=[h,l]);let f=!B(h,c);f&&(u.from=h),h=R(h);let p=!B(l,d);p&&this._focus(l);let v=Mt(r.to),{config:m}=u,{decay:w,velocity:S}=m;(i||s)&&(m.velocity=0),r.config&&!v&&_a(m,te(r.config,o),r.config!==a.config?te(a.config,o):void 0);let D=F(this);if(!D||g.und(l))return n(H(this,!0));let O=g.und(r.reset)?s&&!r.default:!g.und(h)&&De(r.reset,o),x=O?h:this.get(),_=Pe(l),Q=g.num(_)||g.arr(_)||st(_),U=!v&&(!Q||De(a.immediate||r.immediate,o));if(p){let N=Pt(l);if(N!==D.constructor)if(U)D=this._set(_);else throw Error(`Cannot animate between ${D.constructor.name} and ${N.name}, as the "to" prop suggests`)}let W=D.constructor,P=L(l),z=!1;if(!P){let N=O||!yt(this)&&f;(p||N)&&(z=B(Pe(x),_),P=!z),(!B(u.immediate,U)&&!U||!B(m.decay,w)||!B(m.velocity,S))&&(P=!0)}if(z&&Y(this)&&(u.changed&&!O?P=!0:P||this._stop(d)),!v&&((P||L(d))&&(u.values=D.getPayload(),u.toValues=L(l)?null:W==_e?[1]:k(_)),u.immediate!=U&&(u.immediate=U,!U&&!O&&this._set(d)),P)){let{onRest:N}=u;E(ka,ae=>Fr(this,r,ae));let oe=H(this,ve(this,d));be(this._pendingCalls,oe),this._pendingCalls.add(n),u.changed&&I.batchedUpdates(()=>{var ae;u.changed=!O,N==null||N(oe,this),O?te(a.onRest,oe):(ae=u.onStart)==null||ae.call(u,oe,this)})}O&&this._set(x),v?n(Yn(r.to,r,this._state,this)):P?this._start():Y(this)&&!p?this._pendingCalls.add(n):n(Wn(x))}_focus(t){let r=this.animation;t!==r.to&&(Mr(this)&&this._detach(),r.to=t,Mr(this)&&this._attach())}_attach(){let t=0,{to:r}=this.animation;L(r)&&(pe(r,this),Rt(r)&&(t=r.priority+1)),this.priority=t}_detach(){let{to:t}=this.animation;L(t)&&Ee(t,this)}_set(t,r=!0){let n=R(t);if(!g.und(n)){let i=F(this);if(!i||!B(n,i.getValue())){let s=Pt(n);!i||i.constructor!=s?sr(this,s.create(n)):i.setValue(n),i&&I.batchedUpdates(()=>{this._onChange(n,r)})}}return F(this)}_onStart(){let t=this.animation;t.changed||(t.changed=!0,ye(this,"onStart",H(this,ve(this,t.to)),this))}_onChange(t,r){r||(this._onStart(),te(this.animation.onChange,t,this)),te(this.defaultProps.onChange,t,this),super._onChange(t,r)}_start(){let t=this.animation;F(this).reset(R(t.to)),t.immediate||(t.fromValues=t.values.map(r=>r.lastPosition)),Y(this)||(qr(this,!0),me(this)||this._resume())}_resume(){V.skipAnimation?this.finish():rt.start(this)}_stop(t,r){if(Y(this)){qr(this,!1);let n=this.animation;E(n.values,s=>{s.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Ce(this,{type:"idle",parent:this});let i=r?he(this.get()):H(this.get(),ve(this,t??n.to));be(this._pendingCalls,i),n.changed&&(n.changed=!1,ye(this,"onRest",i,this))}}};function ve(e,t){let r=Pe(t),n=Pe(e.get());return B(n,r)}function Zn(e,t=e.loop,r=e.to){let n=te(t);if(n){let i=n!==!0&&Bn(n),s=(i||e).reverse,o=!i||i.reset;return Ne({...e,loop:t,default:!1,pause:void 0,to:!s||Mt(r)?r:void 0,from:o?e.from:void 0,reset:o,...i})}}function Ne(e){let{to:t,from:r}=e=Bn(e),n=new Set;return g.obj(t)&&zr(t,n),g.obj(r)&&zr(r,n),e.keys=n.size?Array.from(n):null,e}function Ra(e){let t=Ne(e);return g.und(t.default)&&(t.default=or(t)),t}function zr(e,t){G(e,(r,n)=>r!=null&&t.add(n))}var ka=["onStart","onRest","onChange","onPause","onResume"];function Fr(e,t,r){e.animation[r]=t[r]!==Gn(t,r)?Fn(t[r],e.key):void 0}function ye(e,t,...r){var n,i,s,o;(i=(n=e.animation)[t])==null||i.call(n,...r),(o=(s=e.defaultProps)[t])==null||o.call(s,...r)}var ja=["onStart","onChange","onRest"],Aa=1,La=class{constructor(e,t){b(this,"id",Aa++);b(this,"springs",{});b(this,"queue",[]);b(this,"ref");b(this,"_flush");b(this,"_initialProps");b(this,"_lastAsyncId",0);b(this,"_active",new Set);b(this,"_changed",new Set);b(this,"_started",!1);b(this,"_item");b(this,"_state",{paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set});b(this,"_events",{onStart:new Map,onChange:new Map,onRest:new Map});this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){let e={};return this.each((t,r)=>e[r]=t.get()),e}set(e){for(let t in e){let r=e[t];g.und(r)||this.springs[t].set(r)}}update(e){return e&&this.queue.push(Ne(e)),this}start(e){let{queue:t}=this;return e?t=k(e).map(Ne):this.queue=[],this._flush?this._flush(this,t):(ri(this,t),At(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){let r=this.springs;E(k(t),n=>r[n].stop(!!e))}else Me(this._state,this._lastAsyncId),this.each(r=>r.stop(!!e));return this}pause(e){if(g.und(e))this.start({pause:!0});else{let t=this.springs;E(k(e),r=>t[r].pause())}return this}resume(e){if(g.und(e))this.start({pause:!1});else{let t=this.springs;E(k(e),r=>t[r].resume())}return this}each(e){G(this.springs,e)}_onFrame(){let{onStart:e,onChange:t,onRest:r}=this._events,n=this._active.size>0,i=this._changed.size>0;(n&&!this._started||i&&!this._started)&&(this._started=!0,Se(e,([a,u])=>{u.value=this.get(),a(u,this,this._item)}));let s=!n&&this._started,o=i||s&&r.size?this.get():null;i&&t.size&&Se(t,([a,u])=>{u.value=o,a(u,this,this._item)}),s&&(this._started=!1,Se(r,([a,u])=>{u.value=o,a(u,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;I.onFrame(this._onFrame)}};function At(e,t){return Promise.all(t.map(r=>Jn(e,r))).then(r=>ar(e,r))}async function Jn(e,t,r){let{keys:n,to:i,from:s,loop:o,onRest:a,onResolve:u}=t,d=g.obj(t.default)&&t.default;o&&(t.loop=!1),i===!1&&(t.to=null),s===!1&&(t.from=null);let c=g.arr(i)||g.fun(i)?i:void 0;c?(t.to=void 0,t.onRest=void 0,d&&(d.onRest=void 0)):E(ja,v=>{let m=t[v];if(g.fun(m)){let w=e._events[v];t[v]=({finished:S,cancelled:D})=>{let O=w.get(m);O?(S||(O.finished=!1),D&&(O.cancelled=!0)):w.set(m,{value:null,finished:S||!1,cancelled:D||!1})},d&&(d[v]=t[v])}});let l=e._state;t.pause===!l.paused?(l.paused=t.pause,be(t.pause?l.pauseQueue:l.resumeQueue)):l.paused&&(t.pause=!0);let h=(n||Object.keys(e.springs)).map(v=>e.springs[v].start(t)),f=t.cancel===!0||Gn(t,"cancel")===!0;(c||f&&l.asyncId)&&h.push(Qn(++e._lastAsyncId,{props:t,state:l,actions:{pause:xt,resume:xt,start(v,m){f?(Me(l,e._lastAsyncId),m(he(e))):(v.onRest=a,m(Yn(c,v,l,e)))}}})),l.paused&&await new Promise(v=>{l.resumeQueue.add(v)});let p=ar(e,await Promise.all(h));if(o&&p.finished&&!(r&&p.noop)){let v=Zn(t,o,i);if(v)return ri(e,[v]),Jn(e,v,!0)}return u&&I.batchedUpdates(()=>u(p,e,e.item)),p}function Gr(e,t){let r={...e.springs};return t&&E(k(t),n=>{g.und(n.keys)&&(n=Ne(n)),g.obj(n.to)||(n={...n,to:void 0}),ti(r,n,i=>ei(i))}),Kn(e,r),r}function Kn(e,t){G(t,(r,n)=>{e.springs[n]||(e.springs[n]=r,pe(r,e))})}function ei(e,t){let r=new Na;return r.key=e,t&&pe(r,t),r}function ti(e,t,r){t.keys&&E(t.keys,n=>{(e[n]||(e[n]=r(n)))._prepareNode(t)})}function ri(e,t){E(t,r=>{ti(e.springs,r,n=>ei(n,e))})}var ut=({children:e,...t})=>{let r=y.useContext(Qe),n=t.pause||!!r.pause,i=t.immediate||!!r.immediate;t=da(()=>({pause:n,immediate:i}),[n,i]);let{Provider:s}=Qe;return y.createElement(s,{value:t},e)},Qe=$a(ut,{});ut.Provider=Qe.Provider;ut.Consumer=Qe.Consumer;function $a(e,t){return Object.assign(e,y.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var Ua=()=>{let e=[],t=function(n){ca();let i=[];return E(e,(s,o)=>{if(g.und(n))i.push(s.start());else{let a=r(n,s,o);a&&i.push(s.start(a))}}),i};t.current=e,t.add=function(n){e.includes(n)||e.push(n)},t.delete=function(n){let i=e.indexOf(n);~i&&e.splice(i,1)},t.pause=function(){return E(e,n=>n.pause(...arguments)),this},t.resume=function(){return E(e,n=>n.resume(...arguments)),this},t.set=function(n){E(e,(i,s)=>{let o=g.fun(n)?n(s,i):n;o&&i.set(o)})},t.start=function(n){let i=[];return E(e,(s,o)=>{if(g.und(n))i.push(s.start());else{let a=this._getProps(n,s,o);a&&i.push(s.start(a))}}),i},t.stop=function(){return E(e,n=>n.stop(...arguments)),this},t.update=function(n){return E(e,(i,s)=>i.update(this._getProps(n,i,s))),this};let r=function(n,i,s){return g.fun(n)?n(s,i):n};return t._getProps=r,t};function Ha(e,t,r){let n=g.fun(t)&&t;n&&!r&&(r=[]);let i=y.useMemo(()=>n||arguments.length==3?Ua():void 0,[]),s=y.useRef(0),o=Hn(),a=y.useMemo(()=>({ctrls:[],queue:[],flush(w,S){let D=Gr(w,S);return s.current>0&&!a.queue.length&&!Object.keys(D).some(O=>!w.springs[O])?At(w,S):new Promise(O=>{Kn(w,D),a.queue.push(()=>{O(At(w,S))}),o()})}}),[]),u=y.useRef([...a.ctrls]),d=[],c=Rr(e)||0;y.useMemo(()=>{E(u.current.slice(e,c),w=>{Ia(w,i),w.stop(!0)}),u.current.length=e,l(c,e)},[e]),y.useMemo(()=>{l(0,Math.min(c,e))},r);function l(w,S){for(let D=w;D<S;D++){let O=u.current[D]||(u.current[D]=new La(null,a.flush)),x=n?n(D,O):t[D];x&&(d[D]=Ra(x))}}let h=u.current.map((w,S)=>Gr(w,d[S])),f=y.useContext(ut),p=Rr(f),v=f!==p&&Ta(f);ir(()=>{s.current++,a.ctrls=u.current;let{queue:w}=a;w.length&&(a.queue=[],E(w,S=>S())),E(u.current,(S,D)=>{i==null||i.add(S),v&&S.start({default:f});let O=d[D];O&&(Ca(S,O.ref),S.ref?S.queue.push(O):S.start(O))})}),qn(()=>()=>{E(a.ctrls,w=>w.stop(!0))});let m=h.map(w=>({...w}));return i?[m,i]:m}function qa(e,t){let r=g.fun(e),[[n],i]=Ha(1,r?e:[e],r?t||[]:t);return r||arguments.length==2?[n,i]:n}var Va=class extends ur{constructor(t,r){super();b(this,"key");b(this,"idle",!0);b(this,"calc");b(this,"_active",new Set);this.source=t,this.calc=Ie(...r);let n=this._get(),i=Pt(n);sr(this,i.create(n))}advance(t){let r=this._get(),n=this.get();B(r,n)||(F(this).setValue(r),this._onChange(r,this.idle)),!this.idle&&Br(this._active)&&bt(this)}_get(){let t=g.arr(this.source)?this.source.map(R):k(R(this.source));return this.calc(...t)}_start(){this.idle&&!Br(this._active)&&(this.idle=!1,E(ot(this),t=>{t.done=!1}),V.skipAnimation?(I.batchedUpdates(()=>this.advance()),bt(this)):rt.start(this))}_attach(){let t=1;E(k(this.source),r=>{L(r)&&pe(r,this),Rt(r)&&(r.idle||this._active.add(r),t=Math.max(t,r.priority+1))}),this.priority=t,this._start()}_detach(){E(k(this.source),t=>{L(t)&&Ee(t,this)}),this._active.clear(),bt(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=k(this.source).reduce((r,n)=>Math.max(r,(Rt(n)?n.priority:0)+1),0))}};function za(e){return e.idle!==!1}function Br(e){return!e.size||Array.from(e).every(za)}function bt(e){e.idle||(e.idle=!0,E(ot(e),t=>{t.done=!0}),Ce(e,{type:"idle",parent:e}))}V.assign({createStringInterpolator:$n,to:(e,t)=>new Va(e,t)});var ni=/^--/;function Fa(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!ni.test(e)&&!(Te.hasOwnProperty(e)&&Te[e])?t+"px":(""+t).trim()}var Qr={};function Ga(e,t){if(!e.nodeType||!e.setAttribute)return!1;let r=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{style:n,children:i,scrollTop:s,scrollLeft:o,viewBox:a,...u}=t,d=Object.values(u),c=Object.keys(u).map(l=>r||e.hasAttribute(l)?l:Qr[l]||(Qr[l]=l.replace(/([A-Z])/g,h=>"-"+h.toLowerCase())));i!==void 0&&(e.textContent=i);for(let l in n)if(n.hasOwnProperty(l)){let h=Fa(l,n[l]);ni.test(l)?e.style.setProperty(l,h):e.style[l]=h}c.forEach((l,h)=>{e.setAttribute(l,d[h])}),s!==void 0&&(e.scrollTop=s),o!==void 0&&(e.scrollLeft=o),a!==void 0&&e.setAttribute("viewBox",a)}var Te={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ba=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),Qa=["Webkit","Ms","Moz","O"];Te=Object.keys(Te).reduce((e,t)=>(Qa.forEach(r=>e[Ba(r,t)]=e[t]),e),Te);var Wa=/^(matrix|translate|scale|rotate|skew)/,Ya=/^(translate)/,Xa=/^(rotate|skew)/,wt=(e,t)=>g.num(e)&&e!==0?e+t:e,Ve=(e,t)=>g.arr(e)?e.every(r=>Ve(r,t)):g.num(e)?e===t:parseFloat(e)===t,Za=class extends at{constructor({x:e,y:t,z:r,...n}){let i=[],s=[];(e||t||r)&&(i.push([e||0,t||0,r||0]),s.push(o=>[`translate3d(${o.map(a=>wt(a,"px")).join(",")})`,Ve(o,0)])),G(n,(o,a)=>{if(a==="transform")i.push([o||""]),s.push(u=>[u,u===""]);else if(Wa.test(a)){if(delete n[a],g.und(o))return;let u=Ya.test(a)?"px":Xa.test(a)?"deg":"";i.push(k(o)),s.push(a==="rotate3d"?([d,c,l,h])=>[`rotate3d(${d},${c},${l},${wt(h,u)})`,Ve(h,0)]:d=>[`${a}(${d.map(c=>wt(c,u)).join(",")})`,Ve(d,a.startsWith("scale")?1:0)])}}),i.length&&(n.transform=new Ja(i,s)),super(n)}},Ja=class extends jn{constructor(t,r){super();b(this,"_value",null);this.inputs=t,this.transforms=r}get(){return this._value||(this._value=this._get())}_get(){let t="",r=!0;return E(this.inputs,(n,i)=>{let s=R(n[0]),[o,a]=this.transforms[i](g.arr(s)?s:n.map(R));t+=" "+o,r=r&&a}),r?"none":t}observerAdded(t){t==1&&E(this.inputs,r=>E(r,n=>L(n)&&pe(n,this)))}observerRemoved(t){t==0&&E(this.inputs,r=>E(r,n=>L(n)&&Ee(n,this)))}eventObserved(t){t.type=="change"&&(this._value=null),Ce(this,t)}},Ka=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];V.assign({batchedUpdates:di.unstable_batchedUpdates,createStringInterpolator:$n,colors:Ho});var eu=ba(Ka,{applyAnimatedValues:Ga,createAnimatedStyle:e=>new Za(e),getComponentProps:({scrollTop:e,scrollLeft:t,...r})=>r}),tu=eu.animated;const ru="Left",nu="Right",iu="Up",su="Down",le={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},Lt={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},Wr="mousemove",Yr="mouseup",ou="touchend",au="touchmove",uu="touchstart";function cu(e,t,r,n){return e>t?r>0?nu:ru:n>0?su:iu}function Xr(e,t){if(t===0)return e;const r=Math.PI/180*t,n=e[0]*Math.cos(r)+e[1]*Math.sin(r),i=e[1]*Math.cos(r)-e[0]*Math.sin(r);return[n,i]}function lu(e,t){const r=c=>{const l="touches"in c;l&&c.touches.length>1||e((h,f)=>{f.trackMouse&&!l&&(document.addEventListener(Wr,n),document.addEventListener(Yr,o));const{clientX:p,clientY:v}=l?c.touches[0]:c,m=Xr([p,v],f.rotationAngle);return f.onTouchStartOrOnMouseDown&&f.onTouchStartOrOnMouseDown({event:c}),Object.assign(Object.assign(Object.assign({},h),Lt),{initial:m.slice(),xy:m,start:c.timeStamp||0})})},n=c=>{e((l,h)=>{const f="touches"in c;if(f&&c.touches.length>1)return l;if(c.timeStamp-l.start>h.swipeDuration)return l.swiping?Object.assign(Object.assign({},l),{swiping:!1}):l;const{clientX:p,clientY:v}=f?c.touches[0]:c,[m,w]=Xr([p,v],h.rotationAngle),S=m-l.xy[0],D=w-l.xy[1],O=Math.abs(S),x=Math.abs(D),_=(c.timeStamp||0)-l.start,Q=Math.sqrt(O*O+x*x)/(_||1),U=[S/(_||1),D/(_||1)],W=cu(O,x,S,D),P=typeof h.delta=="number"?h.delta:h.delta[W.toLowerCase()]||le.delta;if(O<P&&x<P&&!l.swiping)return l;const z={absX:O,absY:x,deltaX:S,deltaY:D,dir:W,event:c,first:l.first,initial:l.initial,velocity:Q,vxvy:U};z.first&&h.onSwipeStart&&h.onSwipeStart(z),h.onSwiping&&h.onSwiping(z);let N=!1;return(h.onSwiping||h.onSwiped||h[`onSwiped${W}`])&&(N=!0),N&&h.preventScrollOnSwipe&&h.trackTouch&&c.cancelable&&c.preventDefault(),Object.assign(Object.assign({},l),{first:!1,eventData:z,swiping:!0})})},i=c=>{e((l,h)=>{let f;if(l.swiping&&l.eventData){if(c.timeStamp-l.start<h.swipeDuration){f=Object.assign(Object.assign({},l.eventData),{event:c}),h.onSwiped&&h.onSwiped(f);const p=h[`onSwiped${f.dir}`];p&&p(f)}}else h.onTap&&h.onTap({event:c});return h.onTouchEndOrOnMouseUp&&h.onTouchEndOrOnMouseUp({event:c}),Object.assign(Object.assign(Object.assign({},l),Lt),{eventData:f})})},s=()=>{document.removeEventListener(Wr,n),document.removeEventListener(Yr,o)},o=c=>{s(),i(c)},a=(c,l)=>{let h=()=>{};if(c&&c.addEventListener){const f=Object.assign(Object.assign({},le.touchEventOptions),l.touchEventOptions),p=[[uu,r,f],[au,n,Object.assign(Object.assign({},f),l.preventScrollOnSwipe?{passive:!1}:{})],[ou,i,f]];p.forEach(([v,m,w])=>c.addEventListener(v,m,w)),h=()=>p.forEach(([v,m])=>c.removeEventListener(v,m))}return h},d={ref:c=>{c!==null&&e((l,h)=>{if(l.el===c)return l;const f={};return l.el&&l.el!==c&&l.cleanUpTouch&&(l.cleanUpTouch(),f.cleanUpTouch=void 0),h.trackTouch&&c&&(f.cleanUpTouch=a(c,h)),Object.assign(Object.assign(Object.assign({},l),{el:c}),f)})}};return t.trackMouse&&(d.onMouseDown=r),[d,a]}function du(e,t,r,n){return!t.trackTouch||!e.el?(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0})):e.cleanUpTouch?t.preventScrollOnSwipe!==r.preventScrollOnSwipe||t.touchEventOptions.passive!==r.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:n(e.el,t)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:n(e.el,t)})}function hu(e){const{trackMouse:t}=e,r=y.useRef(Object.assign({},Lt)),n=y.useRef(Object.assign({},le)),i=y.useRef(Object.assign({},n.current));i.current=Object.assign({},n.current),n.current=Object.assign(Object.assign({},le),e);let s;for(s in le)n.current[s]===void 0&&(n.current[s]=le[s]);const[o,a]=y.useMemo(()=>lu(u=>r.current=u(r.current,n.current),{trackMouse:t}),[t]);return r.current=du(r.current,n.current,i.current,a),o}function fu(e,t,r){const[n,i]=qt(e,r),s=y.useCallback(o=>{i(a=>t(a,o))},[i,t]);return[n,s]}const gu=(e,t,r)=>{let n=e.map(r),i=t.map(r);return JSON.stringify(n)===JSON.stringify(i)},We=e=>[e*4,e*4+1,e*4+2,e*4+3],Zr=e=>We(e).reverse(),Ye=e=>[e,e+4,e+8,e+12],Jr=e=>Ye(e).reverse(),ii=e=>({row:Math.floor(e/4),col:e%4}),Kr=M.object({row:M.number().max(3),col:M.number().max(3)}),pu=M.object({id:M.string(),val:M.number().default(0),cor:Kr,prevCor:Kr.optional()}),mu=M.array(pu),si=Po(!1),vu=Ht(e=>e(si));function yu(){const[e]=qt(vu);return e}const bu=Ht(ai());function wu(){const[,e]=qt(si);return fu(bu,(t,r)=>{const n=Ou(t,r);return Su(n)?e(!0):r.type==="restart"&&e(!1),n})}function oi(e,t,r){return e.find(n=>n.cor.row===t&&n.cor.col===r)}function en(e,t){return[0,1,2,3].map(r=>t(r).map(ii)).map(r=>r.map(({row:n,col:i})=>oi(e,n,i)))}function $t(e){for(let t=0;t<e.length;t++)for(let r=0;r<e[t].length-1;r++){let n=e[t][r],i=e[t][r+1];if(n!==null&&i!==null&&n.val===i.val)return i.val}return-1}const Su=e=>{const t=!e.every(s=>s.val!==0);let r=en(e,We),n=en(e,Ye),i=$t(r)===-1&&$t(n)===-1;return!t&&i};function Ou(e,t){let r=e;if(t.type==="arrowkey"){const n=Iu(t.payload.lines,r).map(s=>{let o=s.map(Dr);return o.forEach(a=>{a.prevCor&&(a.prevCor=void 0)}),Du(o)}).flat();if(n.length===0)return e;let i=Dr(e);return n.forEach(({merged:s,unmount:o})=>{s.forEach(a=>{let u=i.findIndex(d=>d.id===a.id);u!==-1?i[u]=a:i.push(a)}),o.forEach(a=>{i=i.filter(u=>u.id!==a)})}),gu(e,i,s=>({id:s.id,val:s.val,cor:s.cor}))?e:(i.findIndex(s=>s.val===0)!==-1&&(i=Ut(i)),i)}else if(t.type==="restart")return ai();throw Error("Unknown action")}const Du=e=>{let t=[],r=0,n=1;for(;r<3;){if(n>=4){r++,n=r+1;continue}if(e[r].val===e[n].val&&e[r].val!=0)e[n].prevCor=e[n].cor,e[n].cor=e[r].cor,e[n].val*=2,t.push(e[r].id),e[r]=e[n],e[n]={id:"tombstone",val:0,cor:e[n].prevCor},r++;else if(e[r].val===0&&e[n].val!=0)e[n].prevCor=e[n].cor,e[n].cor=e[r].cor,t.push(e[r].id),e[r]=e[n],e[n]={id:"tombstone",val:0,cor:e[n].prevCor};else if(e[r].val!==e[n].val&&e[n].val!=0){r++,n=r+1;continue}n++}return e.forEach(i=>{i.id==="tombstone"&&(i.id=Vt())}),t=t.filter(i=>!e.find(s=>s.id===i)),{merged:e,unmount:t}};function Tu(e){let t=0;for(let r=e.length-1;r>=0&&e[r]===0;r--)t++;return t}const Iu=(e,t)=>e.map(r=>r.map(({row:n,col:i})=>oi(t,n,i))).filter(r=>!r.every(n=>n.val===0)).filter(r=>{const n=r.filter(u=>u.val===0).length,i=Tu(r.map(u=>u.val)),s=n!==i,o=$t([r]);return s||o>0});function ai(){let e=Array(16).fill(null);for(let t=0;t<16;t++){const r={val:0,cor:{row:Math.floor(t/4),col:t%4},id:Vt()};e[t]=r}return e=mu.parse(e),e=Ut(e),e=Ut(e),e}function Cu(){return Math.random()<=.9?2:4}function Ut(e){let t;do t=Math.floor(Math.random()*16);while(e[t].val!==0);return e[t].val=Cu(),e}const Eu=["#392A1A","#473616","#7f410b","#8D3608","#912107","#A62507","#4E3E0A","#69530C","#715A0C","#EDC53F","#EEC12E"],xu=e=>{const{val:t}=e,[r,n]=Mo(t);return t&&!r?n(t):t!==r&&n(t,60),T.jsx("div",{children:r})},tn=e=>{const{size:t,cor:r,prevCor:n,children:i,style:s,className:o,...a}=e;let u=h=>(t==="sm"?8:4)+(t==="sm"?118:76.75)*h,d=u(r.row),c=u(r.col);const l=qa({from:{top:u((n==null?void 0:n.row)??r.row),left:u((n==null?void 0:n.col)??r.col)},to:{top:d,left:c},config:{tension:210,friction:22,precision:.01,mass:1}});return T.jsx(tu.div,{className:`absolute w-[72.75px] h-[72.75px] sm:w-[110px] sm:h-[110px] bg-slate-700 flex justify-center items-center select-none ${o}`,style:{...s,...n?l:{top:`${d}px`,left:`${c}px`}},...a,children:i})};function _u(){const[e,t]=wu(),r=yu(),n=_o({sizes:[{minSize:640,key:"sm"},{minSize:0,key:"xs"}]}),i=Pu(t);return T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"py-2 px-4 text-sm font-semibold text-center",children:"Canvas-less created in react & css animation"}),T.jsxs("div",{...i,className:"relative mx-auto sm:h-[480px] sm:w-[480px] w-[311px] aspect-square p-1 sm:p-2 rounded-md bg-emerald-200 sm:gap-2 gap-1",children:[e.map((s,o)=>T.jsx(tn,{size:n,cor:s.cor},o)),e.map(s=>{const o=s.val!==0?s.val+"":"";return T.jsx(tn,{className:` font-extrabold sm:text-4xl text-xl ${Or["cell-animation"]}  ${s.val!==0?"z-10":"z-0"} `,style:{backgroundColor:`${+s.val==0?"":Eu[Math.log2(+s.val)]}`},size:n,cor:s.cor,prevCor:s.prevCor,children:T.jsx("div",{className:"flex flex-col",children:T.jsx(xu,{val:o})})},s.id)})]}),r&&T.jsxs("div",{className:`${r&&Or["end-toast"]} absolute top-1/2 left-1/2 flex flex-col justify-center items-center gap-4 w-64 h-36 z-10 text-gray-800 bg-gray-300 bg-opacity-80 rounded-md p-2`,children:[T.jsx("div",{className:"select-none font-bold",children:"End of game"}),T.jsx("div",{className:"text-gray-200 bg-green-800 rounded-md px-10 py-2 cursor-pointer",onClick:()=>t({type:"restart"}),children:"Restart"})]})]})}const Pu=e=>(xo(["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],[X(Zr,e),X(We,e),X(Ye,e),X(Jr,e)],[]),hu({onSwipedRight:X(Zr,e),onSwipedLeft:X(We,e),onSwipedUp:X(Ye,e),onSwipedDown:X(Jr,e)})),X=(e,t)=>()=>{let r=[0,1,2,3].map(n=>e(n).map(ii));t({type:"arrowkey",payload:{lines:r}})};function $u(){const e=[[T.jsx(Co,{}),"TodoList"],[T.jsx(_u,{}),"2048"]],[t,r]=y.useState(1);return T.jsxs("div",{className:"flex flex-col",children:[T.jsx("div",{className:"flex flex-wrap w-full justify-center gap-2 text-center mb-2",children:e.map(([,n],i)=>T.jsx("div",{children:T.jsx("button",{className:"py-2 px-8 w-full bg-green-500 text-white",onClick:()=>r(i),children:n})},i))}),T.jsx("div",{className:"w-full h-full",children:T.jsx("div",{children:T.jsx(y.Suspense,{fallback:T.jsx("div",{children:"Loading..."}),children:e[t][0]})})})]})}export{$u as default};
