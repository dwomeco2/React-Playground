import{R as P,r as v,j as h}from"./index-0a63a03f.js";import{z as T}from"./index-45b59163.js";let de=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");var ze={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Se=P.createContext&&P.createContext(ze),x=globalThis&&globalThis.__assign||function(){return x=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},x.apply(this,arguments)},dt=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function $e(t){return t&&t.map(function(e,r){return P.createElement(e.tag,x({key:r},e.attr),$e(e.child))})}function Fe(t){return function(e){return P.createElement(ft,x({attr:x({},t.attr)},e),$e(t.child))}}function ft(t){var e=function(r){var n=t.attr,i=t.size,o=t.title,s=dt(t,["attr","size","title"]),a=i||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),P.createElement("svg",x({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,s,{className:c,style:x(x({color:t.color||r.color},r.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&P.createElement("title",null,o),t.children)};return Se!==void 0?P.createElement(Se.Consumer,null,function(r){return e(r)}):e(ze)}function gt(t){return Fe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M18.319 14.4326C20.7628 11.2941 20.542 6.75347 17.6569 3.86829C14.5327 0.744098 9.46734 0.744098 6.34315 3.86829C3.21895 6.99249 3.21895 12.0578 6.34315 15.182C9.22833 18.0672 13.769 18.2879 16.9075 15.8442C16.921 15.8595 16.9351 15.8745 16.9497 15.8891L21.1924 20.1317C21.5829 20.5223 22.2161 20.5223 22.6066 20.1317C22.9971 19.7412 22.9971 19.1081 22.6066 18.7175L18.364 14.4749C18.3493 14.4603 18.3343 14.4462 18.319 14.4326ZM16.2426 5.28251C18.5858 7.62565 18.5858 11.4246 16.2426 13.7678C13.8995 16.1109 10.1005 16.1109 7.75736 13.7678C5.41421 11.4246 5.41421 7.62565 7.75736 5.28251C10.1005 2.93936 13.8995 2.93936 16.2426 5.28251Z",fill:"currentColor"}}]})(t)}function ht(t){return Fe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(t)}const qe=v.createContext({dragDropManager:void 0});function w(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Oe=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),X=function(){return Math.random().toString(36).substring(7).split("").join(".")},Te={INIT:"@@redux/INIT"+X(),REPLACE:"@@redux/REPLACE"+X(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+X()}};function pt(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Ge(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(w(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(w(1));return r(Ge)(t,e)}if(typeof t!="function")throw new Error(w(2));var i=t,o=e,s=[],a=s,c=!1;function g(){a===s&&(a=s.slice())}function u(){if(c)throw new Error(w(3));return o}function f(m){if(typeof m!="function")throw new Error(w(4));if(c)throw new Error(w(5));var y=!0;return g(),a.push(m),function(){if(y){if(c)throw new Error(w(6));y=!1,g();var O=a.indexOf(m);a.splice(O,1),s=null}}}function l(m){if(!pt(m))throw new Error(w(7));if(typeof m.type>"u")throw new Error(w(8));if(c)throw new Error(w(9));try{c=!0,o=i(o,m)}finally{c=!1}for(var y=s=a,S=0;S<y.length;S++){var O=y[S];O()}return m}function d(m){if(typeof m!="function")throw new Error(w(10));i=m,l({type:Te.REPLACE})}function D(){var m,y=f;return m={subscribe:function(O){if(typeof O!="object"||O===null)throw new Error(w(11));function b(){O.next&&O.next(u())}b();var C=y(b);return{unsubscribe:C}}},m[Oe]=function(){return this},m}return l({type:Te.INIT}),n={dispatch:l,subscribe:f,getState:u,replaceReducer:d},n[Oe]=D,n}function p(t,e,...r){if(vt()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;n=new Error(e.replace(/%s/g,function(){return r[i++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function vt(){return typeof process<"u"&&process.env.NODE_ENV==="production"}function mt(t,e,r){return e.split(".").reduce((n,i)=>n&&n[i]?n[i]:r||null,t)}function Dt(t,e){return t.filter(r=>r!==e)}function Be(t){return typeof t=="object"}function yt(t,e){const r=new Map,n=o=>{r.set(o,r.has(o)?r.get(o)+1:1)};t.forEach(n),e.forEach(n);const i=[];return r.forEach((o,s)=>{o===1&&i.push(s)}),i}function St(t,e){return t.filter(r=>e.indexOf(r)>-1)}const fe="dnd-core/INIT_COORDS",F="dnd-core/BEGIN_DRAG",ge="dnd-core/PUBLISH_DRAG_SOURCE",q="dnd-core/HOVER",G="dnd-core/DROP",B="dnd-core/END_DRAG";function be(t,e){return{type:fe,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const Ot={type:fe,payload:{clientOffset:null,sourceClientOffset:null}};function Tt(t){return function(r=[],n={publishSource:!0}){const{publishSource:i=!0,clientOffset:o,getSourceClientOffset:s}=n,a=t.getMonitor(),c=t.getRegistry();t.dispatch(be(o)),bt(r,a,c);const g=Ct(r,a);if(g==null){t.dispatch(Ot);return}let u=null;if(o){if(!s)throw new Error("getSourceClientOffset must be defined");wt(s),u=s(g)}t.dispatch(be(o,u));const l=c.getSource(g).beginDrag(a,g);if(l==null)return;Et(l),c.pinSource(g);const d=c.getSourceType(g);return{type:F,payload:{itemType:d,item:l,sourceId:g,clientOffset:o||null,sourceClientOffset:u||null,isSourcePublic:!!i}}}}function bt(t,e,r){p(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(n){p(r.getSource(n),"Expected sourceIds to be registered.")})}function wt(t){p(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Et(t){p(Be(t),"Item must be an object.")}function Ct(t,e){let r=null;for(let n=t.length-1;n>=0;n--)if(e.canDragSource(t[n])){r=t[n];break}return r}function It(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){It(t,i,r[i])})}return t}function Nt(t){return function(r={}){const n=t.getMonitor(),i=t.getRegistry();Pt(n),jt(n).forEach((s,a)=>{const c=Rt(s,a,i,n),g={type:G,payload:{dropResult:xt({},r,c)}};t.dispatch(g)})}}function Pt(t){p(t.isDragging(),"Cannot call drop while not dragging."),p(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function Rt(t,e,r,n){const i=r.getTarget(t);let o=i?i.drop(n,t):void 0;return Mt(o),typeof o>"u"&&(o=e===0?{}:n.getDropResult()),o}function Mt(t){p(typeof t>"u"||Be(t),"Drop result must either be an object or undefined.")}function jt(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function _t(t){return function(){const r=t.getMonitor(),n=t.getRegistry();Lt(r);const i=r.getSourceId();return i!=null&&(n.getSource(i,!0).endDrag(r,i),n.unpinSource()),{type:B}}}function Lt(t){p(t.isDragging(),"Cannot call endDrag while not dragging.")}function te(t,e){return e===null?t===null:Array.isArray(t)?t.some(r=>r===e):t===e}function kt(t){return function(r,{clientOffset:n}={}){At(r);const i=r.slice(0),o=t.getMonitor(),s=t.getRegistry(),a=o.getItemType();return Ut(i,s,a),Ht(i,o,s),zt(i,o,s),{type:q,payload:{targetIds:i,clientOffset:n||null}}}}function At(t){p(Array.isArray(t),"Expected targetIds to be an array.")}function Ht(t,e,r){p(e.isDragging(),"Cannot call hover while not dragging."),p(!e.didDrop(),"Cannot call hover after drop.");for(let n=0;n<t.length;n++){const i=t[n];p(t.lastIndexOf(i)===n,"Expected targetIds to be unique in the passed array.");const o=r.getTarget(i);p(o,"Expected targetIds to be registered.")}}function Ut(t,e,r){for(let n=t.length-1;n>=0;n--){const i=t[n],o=e.getTargetType(i);te(o,r)||t.splice(n,1)}}function zt(t,e,r){t.forEach(function(n){r.getTarget(n).hover(e,n)})}function $t(t){return function(){if(t.getMonitor().isDragging())return{type:ge}}}function Ft(t){return{beginDrag:Tt(t),publishDragSource:$t(t),hover:kt(t),drop:Nt(t),endDrag:_t(t)}}class qt{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:r}=this.store;function n(o){return(...s)=>{const a=o.apply(e,s);typeof a<"u"&&r(a)}}const i=Ft(this);return Object.keys(i).reduce((o,s)=>{const a=i[s];return o[s]=n(a),o},{})}dispatch(e){this.store.dispatch(e)}constructor(e,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}}function Gt(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Ve(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Bt(t){const{clientOffset:e,initialClientOffset:r,initialSourceClientOffset:n}=t;return!e||!r||!n?null:Ve(Gt(e,n),r)}function Vt(t){const{clientOffset:e,initialClientOffset:r}=t;return!e||!r?null:Ve(e,r)}const k=[],he=[];k.__IS_NONE__=!0;he.__IS_ALL__=!0;function Yt(t,e){return t===k?!1:t===he||typeof e>"u"?!0:St(e,t).length>0}class Xt{subscribeToStateChange(e,r={}){const{handlerIds:n}=r;p(typeof e=="function","listener must be a function."),p(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let i=this.store.getState().stateId;const o=()=>{const s=this.store.getState(),a=s.stateId;try{a===i||a===i+1&&!Yt(s.dirtyHandlerIds,n)||e()}finally{i=a}};return this.store.subscribe(o)}subscribeToOffsetChange(e){p(typeof e=="function","listener must be a function.");let r=this.store.getState().dragOffset;const n=()=>{const i=this.store.getState().dragOffset;i!==r&&(r=i,e())};return this.store.subscribe(n)}canDragSource(e){if(!e)return!1;const r=this.registry.getSource(e);return p(r,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:r.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const r=this.registry.getTarget(e);if(p(r,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),i=this.getItemType();return te(n,i)&&r.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const r=this.registry.getSource(e,!0);if(p(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(e),i=this.getItemType();return n!==i?!1:r.isDragging(this,e)}isOverTarget(e,r={shallow:!1}){if(!e)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const i=this.registry.getTargetType(e),o=this.getItemType();if(o&&!te(i,o))return!1;const s=this.getTargetIds();if(!s.length)return!1;const a=s.indexOf(e);return n?a===s.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Bt(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Vt(this.store.getState().dragOffset)}constructor(e,r){this.store=e,this.registry=r}}const we=typeof global<"u"?global:self,Ye=we.MutationObserver||we.WebKitMutationObserver;function Xe(t){return function(){const r=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(r),clearInterval(n),t()}}}function Wt(t){let e=1;const r=new Ye(t),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const Zt=typeof Ye=="function"?Wt:Xe;class Jt{enqueueTask(e){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const r=this.index;if(this.index++,e[r].call(),this.index>this.capacity){for(let n=0,i=e.length-this.index;n<i;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=Zt(this.flush),this.requestErrorThrow=Xe(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Kt{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}}class Qt{create(e){const r=this.freeTasks,n=r.length?r.pop():new Kt(this.onError,i=>r[r.length]=i);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const We=new Jt,er=new Qt(We.registerPendingError);function tr(t){We.enqueueTask(er.create(t))}const pe="dnd-core/ADD_SOURCE",ve="dnd-core/ADD_TARGET",me="dnd-core/REMOVE_SOURCE",V="dnd-core/REMOVE_TARGET";function rr(t){return{type:pe,payload:{sourceId:t}}}function nr(t){return{type:ve,payload:{targetId:t}}}function ir(t){return{type:me,payload:{sourceId:t}}}function or(t){return{type:V,payload:{targetId:t}}}function sr(t){p(typeof t.canDrag=="function","Expected canDrag to be a function."),p(typeof t.beginDrag=="function","Expected beginDrag to be a function."),p(typeof t.endDrag=="function","Expected endDrag to be a function.")}function ar(t){p(typeof t.canDrop=="function","Expected canDrop to be a function."),p(typeof t.hover=="function","Expected hover to be a function."),p(typeof t.drop=="function","Expected beginDrag to be a function.")}function re(t,e){if(e&&Array.isArray(t)){t.forEach(r=>re(r,!1));return}p(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var E;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(E||(E={}));let cr=0;function ur(){return cr++}function lr(t){const e=ur().toString();switch(t){case E.SOURCE:return`S${e}`;case E.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function Ee(t){switch(t[0]){case"S":return E.SOURCE;case"T":return E.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function Ce(t,e){const r=t.entries();let n=!1;do{const{done:i,value:[,o]}=r.next();if(o===e)return!0;n=!!i}while(!n);return!1}class dr{addSource(e,r){re(e),sr(r);const n=this.addHandler(E.SOURCE,e,r);return this.store.dispatch(rr(n)),n}addTarget(e,r){re(e,!0),ar(r);const n=this.addHandler(E.TARGET,e,r);return this.store.dispatch(nr(n)),n}containsHandler(e){return Ce(this.dragSources,e)||Ce(this.dropTargets,e)}getSource(e,r=!1){return p(this.isSourceId(e),"Expected a valid source ID."),r&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return p(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return p(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return p(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return Ee(e)===E.SOURCE}isTargetId(e){return Ee(e)===E.TARGET}removeSource(e){p(this.getSource(e),"Expected an existing source."),this.store.dispatch(ir(e)),tr(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){p(this.getTarget(e),"Expected an existing target."),this.store.dispatch(or(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const r=this.getSource(e);p(r,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=r}unpinSource(){p(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,r,n){const i=lr(e);return this.types.set(i,r),e===E.SOURCE?this.dragSources.set(i,n):e===E.TARGET&&this.dropTargets.set(i,n),i}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const fr=(t,e)=>t===e;function gr(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function hr(t,e,r=fr){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!r(t[n],e[n]))return!1;return!0}function pr(t=k,e){switch(e.type){case q:break;case pe:case ve:case V:case me:return k;case F:case ge:case B:case G:default:return he}const{targetIds:r=[],prevTargetIds:n=[]}=e.payload,i=yt(r,n);if(!(i.length>0||!hr(r,n)))return k;const s=n[n.length-1],a=r[r.length-1];return s!==a&&(s&&i.push(s),a&&i.push(a)),i}function vr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){vr(t,i,r[i])})}return t}const Ie={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Dr(t=Ie,e){const{payload:r}=e;switch(e.type){case fe:case F:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case q:return gr(t.clientOffset,r.clientOffset)?t:mr({},t,{clientOffset:r.clientOffset});case B:case G:return Ie;default:return t}}function yr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){yr(t,i,r[i])})}return t}const Sr={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Or(t=Sr,e){const{payload:r}=e;switch(e.type){case F:return j({},t,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case ge:return j({},t,{isSourcePublic:!0});case q:return j({},t,{targetIds:r.targetIds});case V:return t.targetIds.indexOf(r.targetId)===-1?t:j({},t,{targetIds:Dt(t.targetIds,r.targetId)});case G:return j({},t,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case B:return j({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function Tr(t=0,e){switch(e.type){case pe:case ve:return t+1;case me:case V:return t-1;default:return t}}function br(t=0){return t+1}function wr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Er(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){wr(t,i,r[i])})}return t}function Cr(t={},e){return{dirtyHandlerIds:pr(t.dirtyHandlerIds,{type:e.type,payload:Er({},e.payload,{prevTargetIds:mt(t,"dragOperation.targetIds",[])})}),dragOffset:Dr(t.dragOffset,e),refCount:Tr(t.refCount,e),dragOperation:Or(t.dragOperation,e),stateId:br(t.stateId)}}function Ir(t,e=void 0,r={},n=!1){const i=xr(n),o=new Xt(i,new dr(i)),s=new qt(i,o),a=t(s,e,r);return s.receiveBackend(a),s}function xr(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Ge(Cr,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function Nr(t,e){if(t==null)return{};var r=Pr(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pr(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}let xe=0;const U=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Rr=v.memo(function(e){var{children:r}=e,n=Nr(e,["children"]);const[i,o]=Mr(n);return v.useEffect(()=>{if(o){const s=Ze();return++xe,()=>{--xe===0&&(s[U]=null)}}},[]),h.jsx(qe.Provider,{value:i,children:r})});function Mr(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=jr(t.backend,t.context,t.options,t.debugMode),r=!t.context;return[e,r]}function jr(t,e=Ze(),r,n){const i=e;return i[U]||(i[U]={dragDropManager:Ir(t,e,r,n)}),i[U]}function Ze(){return typeof global<"u"?global:window}var _r=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r};const R=typeof window<"u"?v.useLayoutEffect:v.useEffect;function Lr(t,e,r){const[n,i]=v.useState(()=>e(t)),o=v.useCallback(()=>{const s=e(t);_r(n,s)||(i(s),r&&r())},[n,t,r]);return R(o),[n,o]}function kr(t,e,r){const[n,i]=Lr(t,e,r);return R(function(){const s=t.getHandlerId();if(s!=null)return t.subscribeToStateChange(i,{handlerIds:[s]})},[t,i]),n}function Je(t,e,r){return kr(e,t||(()=>({})),()=>r.reconnect())}function Ke(t,e){const r=[...e||[]];return e==null&&typeof t!="function"&&r.push(t),v.useMemo(()=>typeof t=="function"?t():t,r)}function Ar(t){return v.useMemo(()=>t.hooks.dragSource(),[t])}function Hr(t){return v.useMemo(()=>t.hooks.dragPreview(),[t])}let W=!1,Z=!1;class Ur{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){p(!W,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return W=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{W=!1}}isDragging(){if(!this.sourceId)return!1;p(!Z,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Z=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Z=!1}}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,r){return this.internalMonitor.isOverTarget(e,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let J=!1;class zr{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}canDrop(){if(!this.targetId)return!1;p(!J,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return J=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{J=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function $r(t,e,r){const n=r.getRegistry(),i=n.addTarget(t,e);return[i,()=>n.removeTarget(i)]}function Fr(t,e,r){const n=r.getRegistry(),i=n.addSource(t,e);return[i,()=>n.removeSource(i)]}function ne(t,e,r,n){let i=r?r.call(n,t,e):void 0;if(i!==void 0)return!!i;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const o=Object.keys(t),s=Object.keys(e);if(o.length!==s.length)return!1;const a=Object.prototype.hasOwnProperty.bind(e);for(let c=0;c<o.length;c++){const g=o[c];if(!a(g))return!1;const u=t[g],f=e[g];if(i=r?r.call(n,u,f,g):void 0,i===!1||i===void 0&&u!==f)return!1}return!0}function ie(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function qr(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function Gr(t){return(e=null,r=null)=>{if(!v.isValidElement(e)){const o=e;return t(o,r),o}const n=e;return qr(n),Br(n,r?o=>t(o,r):t)}}function Qe(t){const e={};return Object.keys(t).forEach(r=>{const n=t[r];if(r.endsWith("Ref"))e[r]=t[r];else{const i=Gr(n);e[r]=()=>i}}),e}function Ne(t,e){typeof t=="function"?t(e):t.current=e}function Br(t,e){const r=t.ref;return p(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?v.cloneElement(t,{ref:n=>{Ne(r,n),Ne(e,n)}}):v.cloneElement(t,{ref:e})}class Vr{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?e?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),r):(this.lastConnectedDragSource=e,r):r}reconnectDragPreview(e=!1){const r=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!ne(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!ne(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=Qe({dragSource:(r,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,ie(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,ie(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class Yr{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!ne(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=Qe({dropTarget:(r,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,ie(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function L(){const{dragDropManager:t}=v.useContext(qe);return p(t!=null,"Expected drag drop context"),t}function Xr(t,e){const r=L(),n=v.useMemo(()=>new Vr(r.getBackend()),[r]);return R(()=>(n.dragSourceOptions=t||null,n.reconnect(),()=>n.disconnectDragSource()),[n,t]),R(()=>(n.dragPreviewOptions=e||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,e]),n}function Wr(){const t=L();return v.useMemo(()=>new Ur(t),[t])}class Zr{beginDrag(){const e=this.spec,r=this.monitor;let n=null;return typeof e.item=="object"?n=e.item:typeof e.item=="function"?n=e.item(r):n={},n??null}canDrag(){const e=this.spec,r=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(r):!0}isDragging(e,r){const n=this.spec,i=this.monitor,{isDragging:o}=n;return o?o(i):r===e.getSourceId()}endDrag(){const e=this.spec,r=this.monitor,n=this.connector,{end:i}=e;i&&i(r.getItem(),r),n.reconnect()}constructor(e,r,n){this.spec=e,this.monitor=r,this.connector=n}}function Jr(t,e,r){const n=v.useMemo(()=>new Zr(t,e,r),[e,r]);return v.useEffect(()=>{n.spec=t},[t]),n}function Kr(t){return v.useMemo(()=>{const e=t.type;return p(e!=null,"spec.type must be defined"),e},[t])}function Qr(t,e,r){const n=L(),i=Jr(t,e,r),o=Kr(t);R(function(){if(o!=null){const[a,c]=Fr(o,i,n);return e.receiveHandlerId(a),r.receiveHandlerId(a),c}},[n,e,r,i,o])}function en(t,e){const r=Ke(t,e);p(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=Wr(),i=Xr(r.options,r.previewOptions);return Qr(r,n,i),[Je(r.collect,n,i),Ar(i),Hr(i)]}function tn(t){return v.useMemo(()=>t.hooks.dropTarget(),[t])}function rn(t){const e=L(),r=v.useMemo(()=>new Yr(e.getBackend()),[e]);return R(()=>(r.dropTargetOptions=t||null,r.reconnect(),()=>r.disconnectDropTarget()),[t]),r}function nn(){const t=L();return v.useMemo(()=>new zr(t),[t])}function on(t){const{accept:e}=t;return v.useMemo(()=>(p(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class sn{canDrop(){const e=this.spec,r=this.monitor;return e.canDrop?e.canDrop(r.getItem(),r):!0}hover(){const e=this.spec,r=this.monitor;e.hover&&e.hover(r.getItem(),r)}drop(){const e=this.spec,r=this.monitor;if(e.drop)return e.drop(r.getItem(),r)}constructor(e,r){this.spec=e,this.monitor=r}}function an(t,e){const r=v.useMemo(()=>new sn(t,e),[e]);return v.useEffect(()=>{r.spec=t},[t]),r}function cn(t,e,r){const n=L(),i=an(t,e),o=on(t);R(function(){const[a,c]=$r(o,i,n);return e.receiveHandlerId(a),r.receiveHandlerId(a),c},[n,e,i,r,o.map(s=>s.toString()).join("|")])}function et(t,e){const r=Ke(t,e),n=nn(),i=rn(r.options);return cn(r,n,i),[Je(r.collect,n,i),tn(i)]}function tt(t){let e=null;return()=>(e==null&&(e=t()),e)}function un(t,e){return t.filter(r=>r!==e)}function ln(t,e){const r=new Set,n=o=>r.add(o);t.forEach(n),e.forEach(n);const i=[];return r.forEach(o=>i.push(o)),i}class dn{enter(e){const r=this.entered.length,n=i=>this.isNodeInDocument(i)&&(!i.contains||i.contains(e));return this.entered=ln(this.entered.filter(n),[e]),r===0&&this.entered.length>0}leave(e){const r=this.entered.length;return this.entered=un(this.entered.filter(this.isNodeInDocument),e),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class fn{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const i=this.config.exposeProperties[n];i!=null&&(r[n]={value:i(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const rt="__NATIVE_FILE__",nt="__NATIVE_URL__",it="__NATIVE_TEXT__",ot="__NATIVE_HTML__",Pe=Object.freeze(Object.defineProperty({__proto__:null,FILE:rt,HTML:ot,TEXT:it,URL:nt},Symbol.toStringTag,{value:"Module"}));function K(t,e,r){const n=e.reduce((i,o)=>i||t.getData(o),"");return n??r}const oe={[rt]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[ot]:{exposeProperties:{html:(t,e)=>K(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[nt]:{exposeProperties:{urls:(t,e)=>K(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[it]:{exposeProperties:{text:(t,e)=>K(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function gn(t,e){const r=oe[t];if(!r)throw new Error(`native type ${t} has no configuration`);const n=new fn(r);return n.loadDataTransfer(e),n}function Q(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(oe).filter(r=>{const n=oe[r];return n!=null&&n.matchesTypes?n.matchesTypes.some(i=>e.indexOf(i)>-1):!1})[0]||null}const hn=tt(()=>/firefox/i.test(navigator.userAgent)),st=tt(()=>!!window.safari);class Re{interpolate(e){const{xs:r,ys:n,c1s:i,c2s:o,c3s:s}=this;let a=r.length-1;if(e===r[a])return n[a];let c=0,g=s.length-1,u;for(;c<=g;){u=Math.floor(.5*(c+g));const d=r[u];if(d<e)c=u+1;else if(d>e)g=u-1;else return n[u]}a=Math.max(0,g);const f=e-r[a],l=f*f;return n[a]+i[a]*f+o[a]*l+s[a]*f*l}constructor(e,r){const{length:n}=e,i=[];for(let d=0;d<n;d++)i.push(d);i.sort((d,D)=>e[d]<e[D]?-1:1);const o=[],s=[];let a,c;for(let d=0;d<n-1;d++)a=e[d+1]-e[d],c=r[d+1]-r[d],o.push(a),s.push(c/a);const g=[s[0]];for(let d=0;d<o.length-1;d++){const D=s[d],m=s[d+1];if(D*m<=0)g.push(0);else{a=o[d];const y=o[d+1],S=a+y;g.push(3*S/((S+y)/D+(S+a)/m))}}g.push(s[s.length-1]);const u=[],f=[];let l;for(let d=0;d<g.length-1;d++){l=s[d];const D=g[d],m=1/o[d],y=D+g[d+1]-l-l;u.push((l-D-y)*m),f.push(y*m*m)}this.xs=e,this.ys=r,this.c1s=g,this.c2s=u,this.c3s=f}}const pn=1;function at(t){const e=t.nodeType===pn?t:t.parentElement;if(!e)return null;const{top:r,left:n}=e.getBoundingClientRect();return{x:n,y:r}}function H(t){return{x:t.clientX,y:t.clientY}}function vn(t){var e;return t.nodeName==="IMG"&&(hn()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function mn(t,e,r,n){let i=t?e.width:r,o=t?e.height:n;return st()&&t&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}function Dn(t,e,r,n,i){const o=vn(e),a=at(o?t:e),c={x:r.x-a.x,y:r.y-a.y},{offsetWidth:g,offsetHeight:u}=t,{anchorX:f,anchorY:l}=n,{dragPreviewWidth:d,dragPreviewHeight:D}=mn(o,e,g,u),m=()=>{let M=new Re([0,.5,1],[c.y,c.y/u*D,c.y+D-u]).interpolate(l);return st()&&o&&(M+=(window.devicePixelRatio-1)*D),M},y=()=>new Re([0,.5,1],[c.x,c.x/g*d,c.x+d-g]).interpolate(f),{offsetX:S,offsetY:O}=i,b=S===0||S,C=O===0||O;return{x:b?S:y(),y:C?O:m()}}class yn{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,r){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=r}}function Sn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Me(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Sn(t,i,r[i])})}return t}class On{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,r,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,n){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,n);const i=s=>this.handleDragStart(s,e),o=s=>this.handleSelectStart(s);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",i),r.addEventListener("selectstart",o),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",i),r.removeEventListener("selectstart",o),r.setAttribute("draggable","false")}}connectDropTarget(e,r){const n=s=>this.handleDragEnter(s,e),i=s=>this.handleDragOver(s,e),o=s=>this.handleDrop(s,e);return r.addEventListener("dragenter",n),r.addEventListener("dragover",i),r.addEventListener("drop",o),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",i),r.removeEventListener("drop",o)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return Me({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(e);return Me({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(Pe).some(r=>Pe[r]===e)}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=gn(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=i=>{const o=this.sourceNodes.get(i);return o&&at(o)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=i=>!!(i&&this.document&&this.document.body&&this.document.body.contains(i)),this.endDragIfSourceWasRemovedFromDOM=()=>{const i=this.currentDragSourceNode;i==null||this.isNodeInDocument(i)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=i=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(i||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=i=>{if(i.defaultPrevented)return;const{dragStartSourceIds:o}=this;this.dragStartSourceIds=null;const s=H(i);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(o||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:s});const{dataTransfer:a}=i,c=Q(a);if(this.monitor.isDragging()){if(a&&typeof a.setDragImage=="function"){const u=this.monitor.getSourceId(),f=this.sourceNodes.get(u),l=this.sourcePreviewNodes.get(u)||f;if(l){const{anchorX:d,anchorY:D,offsetX:m,offsetY:y}=this.getCurrentSourcePreviewNodeOptions(),b=Dn(f,l,s,{anchorX:d,anchorY:D},{offsetX:m,offsetY:y});a.setDragImage(l,b.x,b.y)}}try{a==null||a.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(i.target);const{captureDraggingState:g}=this.getCurrentSourcePreviewNodeOptions();g?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(c)this.beginDragNativeItem(c);else{if(a&&!a.types&&(i.target&&!i.target.hasAttribute||!i.target.hasAttribute("draggable")))return;i.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=i=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}if(!this.enterLeaveCounter.enter(i.target)||this.monitor.isDragging())return;const{dataTransfer:a}=i,c=Q(a);c&&this.beginDragNativeItem(c,a)},this.handleTopDragEnter=i=>{const{dragEnterTargetIds:o}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=i.altKey,o.length>0&&this.actions.hover(o,{clientOffset:H(i)}),o.some(a=>this.monitor.canDropOnTarget(a))&&(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=i=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}},this.handleTopDragOver=i=>{const{dragOverTargetIds:o}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}this.altKeyPressed=i.altKey,this.lastClientOffset=H(i),this.scheduleHover(o),(o||[]).some(a=>this.monitor.canDropOnTarget(a))?(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?i.preventDefault():(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=i=>{this.isDraggingNativeItem()&&i.preventDefault(),this.enterLeaveCounter.leave(i.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=i=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var o;i.preventDefault(),(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}else Q(i.dataTransfer)&&i.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=i=>{const{dropTargetIds:o}=this;this.dropTargetIds=[],this.actions.hover(o,{clientOffset:H(i)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=i=>{const o=i.target;typeof o.dragDrop=="function"&&(o.tagName==="INPUT"||o.tagName==="SELECT"||o.tagName==="TEXTAREA"||o.isContentEditable||(i.preventDefault(),o.dragDrop()))},this.options=new yn(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new dn(this.isNodeInDocument)}}const Tn=function(e,r,n){return new On(e,r,n)},se=T.object({id:T.string(),text:T.string(),checked:T.boolean().default(!1)});T.array(se).default([]);T.object({id:T.string(),index:T.number()});const bn=t=>{const{handleTodoChecked:e,handleDrop:r,deleteTodoItem:n,...i}=t,o=v.useRef(null),[,s]=et({accept:"todo",hover(c,g){var y;if(!o.current)return;const u=c.index,f=i.index;if(u===f)return;const l=g.getClientOffset();if(l==null)return;const d=(y=o.current)==null?void 0:y.getBoundingClientRect(),D=(d.bottom-d.top)/2,m=l.y-d.top;u<f&&m<D||u>f&&m>D||(r(u,f),c.index=f)}}),[,a]=en({type:"todo",item:{id:i.id,index:t.index}});return a(s(o)),h.jsx("div",{ref:o,children:h.jsx("div",{className:"flex items-center hover:bg-gray-800 rounded-md",children:h.jsxs("div",{className:"flex grow ",children:[h.jsx("div",{className:"flex items-center px-1",children:h.jsx("input",{checked:i.checked??!1,id:"checked-checkbox",type:"checkbox",value:"",className:"w-4 h-4 accent-green-600 bg-gray-200 rounded",onChange:c=>e(i.id,c)})}),h.jsx("div",{className:`grow text-start py-2 px-1 text-gray-200 border-gray-300 ${i.checked&&"line-through"} cursor-pointer`,children:i.text}),h.jsx("button",{type:"button",onClick:()=>n(i.id),className:"text-gray-200 text-lg py-2 px-1 hover:bg-gray-800 rounded-md",children:h.jsx(ht,{})})]})})})},wn=({children:t,className:e})=>{const[,r]=et(()=>({accept:"todo"}));return h.jsx("div",{ref:r,className:e,children:t})},En=()=>{const[t,e]=v.useState([]),[r,n]=v.useState(""),i=g=>{n(g.target.value)},o=g=>{g.preventDefault(),r.trim()&&(e([...t,se.parse({id:de(),text:r})]),n(""))},s=(g,u)=>{e(f=>{const l=[...f];let d=l.findIndex(D=>D.id===g);return l[d]=se.parse({...l[d],checked:u.target.checked}),l})},a=(g,u)=>{e(f=>{let l=[...f];const[d]=l.splice(g,1);return l.splice(u,0,d),l})},c=g=>{e(u=>u.filter(f=>f.id!==g))};return h.jsxs("div",{className:"max-w-lg mx-auto text-gray-800 bg-gray-900 p-2 rounded-md",children:[h.jsx("div",{children:h.jsx("h1",{className:"text-gray-300 text-2xl font-bold mb-2",children:"Todo List"})}),h.jsx("form",{onSubmit:o,className:`flex gap-2 outline-0 ${t&&t[0]?"mb-4":""}`,children:h.jsxs("div",{className:"flex grow relative",children:[h.jsx("div",{className:"text-gray-300 absolute-center-y left-2",children:h.jsx(gt,{})}),h.jsx("input",{type:"text",value:r,onChange:i,placeholder:"Add a task",className:"flex-1 placeholder-gray-500 text-gray-200 bg-gray-600 rounded-md p-2 reset-input pl-8"})]})}),h.jsx(Rr,{backend:Tn,children:h.jsx(wn,{className:"list-container max-h-[32rem]",children:t.map((g,u)=>h.jsx(bn,{index:u,handleTodoChecked:s,handleDrop:a,deleteTodoItem:c,...g},g.id))})})]})},Cn=En,In="_mount_1tw1b_1",ee={"cell-animation":"_cell-animation_1tw1b_1",mount:In,"cell-move-animation":"_cell-move-animation_1tw1b_18","end-toast":"_end-toast_1tw1b_22","end-toast-animation":"_end-toast-animation_1tw1b_1"},je=t=>JSON.parse(JSON.stringify(t)),xn=(t,e,r)=>{const n=i=>{t.forEach((o,s)=>{i.key==o&&e[s](r)})};v.useEffect(()=>(window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}),[r])},Nn=t=>{const[e,r]=v.useState(null);if(t&&t.sizes.length<1)throw Error("invalid params");let n=t.sizes.sort((o,s)=>s.minSize-o.minSize);const i=()=>{let o=window.innerWidth;for(let s=0;s<n.length;s++)if(o>=n[s].minSize){r(n[s].key);break}};return v.useEffect(()=>(i(),window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}),[]),e},Pn="Left",Rn="Right",Mn="Up",jn="Down",_={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},ae={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},_e="mousemove",Le="mouseup",_n="touchend",Ln="touchmove",kn="touchstart";function An(t,e,r,n){return t>e?r>0?Rn:Pn:n>0?jn:Mn}function ke(t,e){if(e===0)return t;const r=Math.PI/180*e,n=t[0]*Math.cos(r)+t[1]*Math.sin(r),i=t[1]*Math.cos(r)-t[0]*Math.sin(r);return[n,i]}function Hn(t,e){const r=u=>{const f="touches"in u;f&&u.touches.length>1||t((l,d)=>{d.trackMouse&&!f&&(document.addEventListener(_e,n),document.addEventListener(Le,s));const{clientX:D,clientY:m}=f?u.touches[0]:u,y=ke([D,m],d.rotationAngle);return d.onTouchStartOrOnMouseDown&&d.onTouchStartOrOnMouseDown({event:u}),Object.assign(Object.assign(Object.assign({},l),ae),{initial:y.slice(),xy:y,start:u.timeStamp||0})})},n=u=>{t((f,l)=>{const d="touches"in u;if(d&&u.touches.length>1)return f;if(u.timeStamp-f.start>l.swipeDuration)return f.swiping?Object.assign(Object.assign({},f),{swiping:!1}):f;const{clientX:D,clientY:m}=d?u.touches[0]:u,[y,S]=ke([D,m],l.rotationAngle),O=y-f.xy[0],b=S-f.xy[1],C=Math.abs(O),N=Math.abs(b),M=(u.timeStamp||0)-f.start,ut=Math.sqrt(C*C+N*N)/(M||1),lt=[O/(M||1),b/(M||1)],Y=An(C,N,O,b),De=typeof l.delta=="number"?l.delta:l.delta[Y.toLowerCase()]||_.delta;if(C<De&&N<De&&!f.swiping)return f;const A={absX:C,absY:N,deltaX:O,deltaY:b,dir:Y,event:u,first:f.first,initial:f.initial,velocity:ut,vxvy:lt};A.first&&l.onSwipeStart&&l.onSwipeStart(A),l.onSwiping&&l.onSwiping(A);let ye=!1;return(l.onSwiping||l.onSwiped||l[`onSwiped${Y}`])&&(ye=!0),ye&&l.preventScrollOnSwipe&&l.trackTouch&&u.cancelable&&u.preventDefault(),Object.assign(Object.assign({},f),{first:!1,eventData:A,swiping:!0})})},i=u=>{t((f,l)=>{let d;if(f.swiping&&f.eventData){if(u.timeStamp-f.start<l.swipeDuration){d=Object.assign(Object.assign({},f.eventData),{event:u}),l.onSwiped&&l.onSwiped(d);const D=l[`onSwiped${d.dir}`];D&&D(d)}}else l.onTap&&l.onTap({event:u});return l.onTouchEndOrOnMouseUp&&l.onTouchEndOrOnMouseUp({event:u}),Object.assign(Object.assign(Object.assign({},f),ae),{eventData:d})})},o=()=>{document.removeEventListener(_e,n),document.removeEventListener(Le,s)},s=u=>{o(),i(u)},a=(u,f)=>{let l=()=>{};if(u&&u.addEventListener){const d=Object.assign(Object.assign({},_.touchEventOptions),f.touchEventOptions),D=[[kn,r,d],[Ln,n,Object.assign(Object.assign({},d),f.preventScrollOnSwipe?{passive:!1}:{})],[_n,i,d]];D.forEach(([m,y,S])=>u.addEventListener(m,y,S)),l=()=>D.forEach(([m,y])=>u.removeEventListener(m,y))}return l},g={ref:u=>{u!==null&&t((f,l)=>{if(f.el===u)return f;const d={};return f.el&&f.el!==u&&f.cleanUpTouch&&(f.cleanUpTouch(),d.cleanUpTouch=void 0),l.trackTouch&&u&&(d.cleanUpTouch=a(u,l)),Object.assign(Object.assign(Object.assign({},f),{el:u}),d)})}};return e.trackMouse&&(g.onMouseDown=r),[g,a]}function Un(t,e,r,n){return!e.trackTouch||!t.el?(t.cleanUpTouch&&t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:void 0})):t.cleanUpTouch?e.preventScrollOnSwipe!==r.preventScrollOnSwipe||e.touchEventOptions.passive!==r.touchEventOptions.passive?(t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:n(t.el,e)})):t:Object.assign(Object.assign({},t),{cleanUpTouch:n(t.el,e)})}function zn(t){const{trackMouse:e}=t,r=v.useRef(Object.assign({},ae)),n=v.useRef(Object.assign({},_)),i=v.useRef(Object.assign({},n.current));i.current=Object.assign({},n.current),n.current=Object.assign(Object.assign({},_),t);let o;for(o in _)n.current[o]===void 0&&(n.current[o]=_[o]);const[s,a]=v.useMemo(()=>Hn(c=>r.current=c(r.current,n.current),{trackMouse:e}),[e]);return r.current=Un(r.current,n.current,i.current,a),s}const $n=["#392A1A","#473616","#7f410b","#8D3608","#912107","#A62507","#4E3E0A","#69530C","#715A0C","#EDC53F","#EEC12E"];function Fn(){const[t,e]=v.useReducer(qn,ct()),[r,n]=v.useState(!1),i=Nn({sizes:[{minSize:640,key:"sm"},{minSize:0,key:"xs"}]});xn(["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],[I(Ae,e),I(z,e),I($,e),I(He,e)],[]);const o=zn({onSwipedRight:I(Ae,e),onSwipedLeft:I(z,e),onSwipedUp:I($,e),onSwipedDown:I(He,e)});v.useEffect(()=>{if(t.every(c=>c.val!==0)){let c=[0,1,2,3].map(l=>z(l).map(ce)),g=[0,1,2,3].map(l=>$(l).map(ce));const u=ue(c,t),f=ue(g,t);u.length===0&&f.length===0&&n(!0)}},[t]);const s=()=>{e({type:"restart"}),n(!1)};let a=c=>(i==="sm"?8:4)+(i==="sm"?118:76.75)*c;return h.jsxs("div",{className:"relative",children:[h.jsxs("div",{...o,className:"relative mx-auto sm:h-[480px] sm:w-[480px] w-[311px] aspect-square p-1 sm:p-2 rounded-md bg-emerald-200 sm:gap-2 gap-1",children:[t.map((c,g)=>h.jsx("div",{className:"absolute w-[72.75px] h-[72.75px] sm:w-[110px] sm:h-[110px] bg-slate-700 flex justify-center items-center select-none}",style:{top:`${a(c.cor.row)}px`,left:`${a(c.cor.col)}px`}},g)),t.map(c=>h.jsx("div",{className:`absolute w-[72.75px] h-[72.75px] sm:w-[110px] sm:h-[110px] bg-slate-700 flex justify-center items-center font-extrabold sm:text-4xl text-xl select-none ${ee["cell-animation"]} ${c.prevCor?ee["cell-move-animation"]:""} ${c.val!==0?"z-10":"z-0"}`,style:{backgroundColor:`${+c.val==0?"":$n[Math.log2(+c.val)]}`,top:`${a(c.cor.row)}px`,left:`${a(c.cor.col)}px`},children:h.jsx("div",{className:"flex flex-col",children:h.jsx("div",{children:c.val!==0?c.val:""})})},c.id))]}),r&&h.jsxs("div",{className:`${r&&ee["end-toast"]} absolute top-1/2 left-1/2 flex flex-col justify-center items-center gap-4 w-64 h-36 z-10 text-gray-800 bg-gray-300 bg-opacity-80 rounded-md p-2`,children:[h.jsx("div",{className:"select-none font-bold",children:"End of game"}),h.jsx("div",{className:"text-gray-200 bg-green-800 rounded-md px-10 py-2 cursor-pointer",onClick:()=>s(),children:"Restart"})]})]})}function qn(t,e){let r=t;if(e.type==="arrowkey"){const n=ue(e.payload.lines,r).map(o=>{let s=o.map(je);return s.forEach(a=>{a.prevCor&&(a.prevCor=void 0)}),Gn(s)}).flat();if(n.length===0)return t;let i=je(t);return n.forEach(({merged:o,unmount:s})=>{o.forEach(a=>{let c=i.findIndex(g=>g.id===a.id);c!==-1?i[c]=a:i.push(a)}),s.forEach(a=>{i=i.filter(c=>c.id!==a)})}),Bn(t,i,o=>({id:o.id,val:o.val,cor:o.cor}))?t:(i.findIndex(o=>o.val===0)!==-1&&(i=le(i)),i)}else if(e.type==="restart")return ct();throw Error("Unknown action")}const Gn=t=>{let e=[],r=0,n=1;for(;r<3;){if(n>=4){r++,n=r+1;continue}if(t[r].val===t[n].val&&t[r].val!=0)t[n].prevCor=t[n].cor,t[n].cor=t[r].cor,t[n].val*=2,e.push(t[r].id),t[r]=t[n],t[n]={id:"tombstone",val:0,cor:t[n].prevCor},r++;else if(t[r].val===0&&t[n].val!=0)t[n].prevCor=t[n].cor,t[n].cor=t[r].cor,e.push(t[r].id),t[r]=t[n],t[n]={id:"tombstone",val:0,cor:t[n].prevCor};else if(t[r].val!==t[n].val&&t[n].val!=0){r++,n=r+1;continue}n++}return t.forEach(i=>{i.id==="tombstone"&&(i.id=de())}),e=e.filter(i=>!t.find(o=>o.id===i)),{merged:t,unmount:e}},ce=t=>({row:Math.floor(t/4),col:t%4}),I=(t,e)=>()=>{let r=[0,1,2,3].map(n=>t(n).map(ce));e({type:"arrowkey",payload:{lines:r}})},ue=(t,e)=>t.map(r=>r.map(({row:n,col:i})=>e.find(o=>o.cor.row===n&&o.cor.col===i))).filter(r=>!r.every(n=>n.val===0)).filter(r=>{let n=!r.every(o=>o.val!==0),i=!1;for(let o=0;o<r.length-1;o++)r[o].val===r[o+1].val&&(i=!0);return n||i}),Bn=(t,e,r)=>{let n=t.map(r),i=e.map(r);return JSON.stringify(n)===JSON.stringify(i)},z=t=>[t*4,t*4+1,t*4+2,t*4+3],Ae=t=>z(t).reverse(),$=t=>[t,t+4,t+8,t+12],He=t=>$(t).reverse(),Vn=()=>Math.random()<=.9?2:4,le=t=>{let e;do e=Math.floor(Math.random()*16);while(t[e].val!==0);return t[e].val=Vn(),t},ct=()=>{let t=Array(16).fill(null);for(let e=0;e<16;e++){const r={val:0,cor:{row:Math.floor(e/4),col:e%4},id:de()};t[e]=r}return t=Xn.parse(t),t=le(t),t=le(t),t},Ue=T.object({row:T.number().max(3),col:T.number().max(3)}),Yn=T.object({id:T.string(),val:T.number().default(0),cor:Ue,prevCor:Ue.optional()}),Xn=T.array(Yn);function Jn(){const[t,e]=v.useState(2);return h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("div",{className:"flex flex-wrap w-full justify-center gap-2 text-center mb-2",children:[h.jsx("div",{children:h.jsx("button",{className:"py-2 px-8 w-full bg-green-500 text-white",onClick:()=>e(1),children:"TodoList"})}),h.jsx("div",{children:h.jsx("button",{className:"py-2 px-8 w-full bg-orange-500 text-white",onClick:()=>e(2),children:"2048"})})]}),h.jsx("div",{className:"w-full h-full",children:h.jsxs("div",{children:[t==1&&h.jsx(v.Suspense,{fallback:h.jsx("div",{children:"Loading..."}),children:h.jsx(Cn,{})}),t==2&&h.jsx(v.Suspense,{fallback:h.jsx("div",{children:"Loading..."}),children:h.jsx(Fn,{})})]})})]})}export{Jn as default};
