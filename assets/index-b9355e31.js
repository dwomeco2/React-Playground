import{j as t,r as m}from"./index-ebb3bcd0.js";const v="_flip_card_1we0k_1",j="_flip_animate_1we0k_116",$="_from_top_to_middle_1we0k_1",b="_from_middle_to_bottom_1we0k_1",w="_clock_1we0k_144",s={flip_card:v,"top-half":"_top-half_1we0k_40","top-half-flip":"_top-half-flip_1we0k_41","bottom-half":"_bottom-half_1we0k_56","bottom-half-flip":"_bottom-half-flip_1we0k_57",flip_animate:j,from_top_to_middle:$,from_middle_to_bottom:b,clock:w};function k({initTotalSeconds:l,timerInterval:e}){function o(n,d){const{totalSeconds:i}=n;if(d.type=="tick")return i>0?{totalSeconds:i-1}:{totalSeconds:0};throw new Error}const[{totalSeconds:a},f]=m.useReducer(o,{totalSeconds:l});N(()=>{f({type:"tick"})},e);function c(n){const d=Math.floor(n/86400),i=Math.floor(n%(60*60*24)/(60*60)),r=Math.floor(n%(60*60)/60),_=n%60;return{days:d,hours:i,minutes:r,seconds:_}}return[c(a),n=>{e=n}]}function N(l,e){const o=m.useRef(l);m.useEffect(()=>{o.current=l}),m.useEffect(()=>{function a(){o.current()}if(e!==null){const f=setInterval(()=>a(),e);return()=>clearInterval(f)}},[e])}function L(l,e){return Math.floor(Math.random()*(e-l+1))+l}function x(l,e){return(l%e+e)%e}function u({num:l,upperLimit:e,scale:o}){const a=(l+1)%(e+1),f=x(a-1,e+1),c=n=>{n.innerHTML=(""+x(+n.innerHTML-1,e+1)).padStart(2,"0")};return m.useEffect(()=>{const n=document.querySelector(`.${o}.${s["top-half"]}`),d=document.querySelector(`.${o}.${s["bottom-half"]}`),i=document.querySelector(`.${o}.${s["top-half-flip"]}`),r=document.querySelector(`.${o}.${s["bottom-half-flip"]}`);if(n==null||d==null||i==null||r==null)return;const _=()=>{c(n)},p=()=>{c(i),i.classList.remove(`${s.flip_animate}`),r.classList.add(`${s.flip_animate}`)},h=()=>{c(d),c(r),r.classList.remove(`${s.flip_animate}`)};return i.addEventListener("animationstart",_),i.addEventListener("animationend",p),r.addEventListener("animationend",h),()=>{i.removeEventListener("animationstart",_),i.removeEventListener("animationend",p),r.removeEventListener("animationend",h)}},[]),m.useEffect(()=>{const n=document.querySelector(`.${o}.${s["top-half-flip"]}`);n!=null&&n.classList.add(`${s.flip_animate}`)},[a]),t.jsxs("div",{className:`${s.flip_card}`,children:[t.jsxs("div",{className:`${s["top-half"]} ${o}`,children:[" ",a]}),t.jsxs("div",{className:`${s["bottom-half"]} ${o}`,children:[" ",a]}),t.jsxs("div",{className:`${s["top-half-flip"]} ${o}`,children:[" ",a]}),t.jsxs("div",{className:`${s["bottom-half-flip"]} ${o}`,children:[" ",f]})]})}function E(){const l=L(1,8639999),[e]=k({initTotalSeconds:l,timerInterval:1e3}),{days:o,hours:a,minutes:f,seconds:c}=e;return t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"flex justify-center text-center sm:w-full w-[450px] scale-x-[.65] scale-y-[.65] sm:scale-100 transition-all",children:t.jsxs("div",{className:`${s.clock} flex gap-4`,children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx(u,{num:o,upperLimit:99,scale:"countdown_days"}),t.jsx("div",{className:"font-bold mt-6",children:"Days"})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx(u,{num:a,upperLimit:23,scale:"countdown_hours"}),t.jsx("div",{className:"font-bold mt-6",children:"Hours"})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx(u,{num:f,upperLimit:59,scale:"countdown_minutes"}),t.jsx("div",{className:"font-bold mt-6",children:"Minutes"})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx(u,{num:c,upperLimit:59,scale:"countdown_second"}),t.jsx("div",{className:"font-bold mt-6",children:"Seconds"})]})]})})})}export{E as default};
