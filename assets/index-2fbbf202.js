import{R as P,r as v,j as h}from"./index-52d45753.js";import{z as T,a as A,c as de}from"./index-dc683a7e.js";let fe=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");var $e={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Se=P.createContext&&P.createContext($e),x=globalThis&&globalThis.__assign||function(){return x=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},x.apply(this,arguments)},vt=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function Fe(t){return t&&t.map(function(e,r){return P.createElement(e.tag,x({key:r},e.attr),Fe(e.child))})}function Ge(t){return function(e){return P.createElement(mt,x({attr:x({},t.attr)},e),Fe(t.child))}}function mt(t){var e=function(r){var n=t.attr,i=t.size,o=t.title,s=vt(t,["attr","size","title"]),a=i||r.size||"1em",l;return r.className&&(l=r.className),t.className&&(l=(l?l+" ":"")+t.className),P.createElement("svg",x({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,s,{className:l,style:x(x({color:t.color||r.color},r.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&P.createElement("title",null,o),t.children)};return Se!==void 0?P.createElement(Se.Consumer,null,function(r){return e(r)}):e($e)}function Dt(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M18.319 14.4326C20.7628 11.2941 20.542 6.75347 17.6569 3.86829C14.5327 0.744098 9.46734 0.744098 6.34315 3.86829C3.21895 6.99249 3.21895 12.0578 6.34315 15.182C9.22833 18.0672 13.769 18.2879 16.9075 15.8442C16.921 15.8595 16.9351 15.8745 16.9497 15.8891L21.1924 20.1317C21.5829 20.5223 22.2161 20.5223 22.6066 20.1317C22.9971 19.7412 22.9971 19.1081 22.6066 18.7175L18.364 14.4749C18.3493 14.4603 18.3343 14.4462 18.319 14.4326ZM16.2426 5.28251C18.5858 7.62565 18.5858 11.4246 16.2426 13.7678C13.8995 16.1109 10.1005 16.1109 7.75736 13.7678C5.41421 11.4246 5.41421 7.62565 7.75736 5.28251C10.1005 2.93936 13.8995 2.93936 16.2426 5.28251Z",fill:"currentColor"}}]})(t)}function yt(t){return Ge({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(t)}const Be=v.createContext({dragDropManager:void 0});function w(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Te=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),W=function(){return Math.random().toString(36).substring(7).split("").join(".")},be={INIT:"@@redux/INIT"+W(),REPLACE:"@@redux/REPLACE"+W(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+W()}};function Ot(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Ve(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(w(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(w(1));return r(Ve)(t,e)}if(typeof t!="function")throw new Error(w(2));var i=t,o=e,s=[],a=s,l=!1;function g(){a===s&&(a=s.slice())}function c(){if(l)throw new Error(w(3));return o}function d(m){if(typeof m!="function")throw new Error(w(4));if(l)throw new Error(w(5));var y=!0;return g(),a.push(m),function(){if(y){if(l)throw new Error(w(6));y=!1,g();var S=a.indexOf(m);a.splice(S,1),s=null}}}function f(m){if(!Ot(m))throw new Error(w(7));if(typeof m.type>"u")throw new Error(w(8));if(l)throw new Error(w(9));try{l=!0,o=i(o,m)}finally{l=!1}for(var y=s=a,O=0;O<y.length;O++){var S=y[O];S()}return m}function u(m){if(typeof m!="function")throw new Error(w(10));i=m,f({type:be.REPLACE})}function D(){var m,y=d;return m={subscribe:function(S){if(typeof S!="object"||S===null)throw new Error(w(11));function b(){S.next&&S.next(c())}b();var C=y(b);return{unsubscribe:C}}},m[Te]=function(){return this},m}return f({type:be.INIT}),n={dispatch:f,subscribe:d,getState:c,replaceReducer:u},n[Te]=D,n}function p(t,e,...r){if(St()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;n=new Error(e.replace(/%s/g,function(){return r[i++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function St(){return typeof process<"u"&&process.env.NODE_ENV==="production"}function Tt(t,e,r){return e.split(".").reduce((n,i)=>n&&n[i]?n[i]:r||null,t)}function bt(t,e){return t.filter(r=>r!==e)}function Ye(t){return typeof t=="object"}function wt(t,e){const r=new Map,n=o=>{r.set(o,r.has(o)?r.get(o)+1:1)};t.forEach(n),e.forEach(n);const i=[];return r.forEach((o,s)=>{o===1&&i.push(s)}),i}function Et(t,e){return t.filter(r=>e.indexOf(r)>-1)}const ge="dnd-core/INIT_COORDS",F="dnd-core/BEGIN_DRAG",he="dnd-core/PUBLISH_DRAG_SOURCE",G="dnd-core/HOVER",B="dnd-core/DROP",V="dnd-core/END_DRAG";function we(t,e){return{type:ge,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const Ct={type:ge,payload:{clientOffset:null,sourceClientOffset:null}};function It(t){return function(r=[],n={publishSource:!0}){const{publishSource:i=!0,clientOffset:o,getSourceClientOffset:s}=n,a=t.getMonitor(),l=t.getRegistry();t.dispatch(we(o)),xt(r,a,l);const g=Rt(r,a);if(g==null){t.dispatch(Ct);return}let c=null;if(o){if(!s)throw new Error("getSourceClientOffset must be defined");Nt(s),c=s(g)}t.dispatch(we(o,c));const f=l.getSource(g).beginDrag(a,g);if(f==null)return;Pt(f),l.pinSource(g);const u=l.getSourceType(g);return{type:F,payload:{itemType:u,item:f,sourceId:g,clientOffset:o||null,sourceClientOffset:c||null,isSourcePublic:!!i}}}}function xt(t,e,r){p(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(n){p(r.getSource(n),"Expected sourceIds to be registered.")})}function Nt(t){p(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Pt(t){p(Ye(t),"Item must be an object.")}function Rt(t,e){let r=null;for(let n=t.length-1;n>=0;n--)if(e.canDragSource(t[n])){r=t[n];break}return r}function Mt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Mt(t,i,r[i])})}return t}function _t(t){return function(r={}){const n=t.getMonitor(),i=t.getRegistry();Lt(n),Ht(n).forEach((s,a)=>{const l=kt(s,a,i,n),g={type:B,payload:{dropResult:jt({},r,l)}};t.dispatch(g)})}}function Lt(t){p(t.isDragging(),"Cannot call drop while not dragging."),p(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function kt(t,e,r,n){const i=r.getTarget(t);let o=i?i.drop(n,t):void 0;return At(o),typeof o>"u"&&(o=e===0?{}:n.getDropResult()),o}function At(t){p(typeof t>"u"||Ye(t),"Drop result must either be an object or undefined.")}function Ht(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function Ut(t){return function(){const r=t.getMonitor(),n=t.getRegistry();qt(r);const i=r.getSourceId();return i!=null&&(n.getSource(i,!0).endDrag(r,i),n.unpinSource()),{type:V}}}function qt(t){p(t.isDragging(),"Cannot call endDrag while not dragging.")}function re(t,e){return e===null?t===null:Array.isArray(t)?t.some(r=>r===e):t===e}function zt(t){return function(r,{clientOffset:n}={}){$t(r);const i=r.slice(0),o=t.getMonitor(),s=t.getRegistry(),a=o.getItemType();return Gt(i,s,a),Ft(i,o,s),Bt(i,o,s),{type:G,payload:{targetIds:i,clientOffset:n||null}}}}function $t(t){p(Array.isArray(t),"Expected targetIds to be an array.")}function Ft(t,e,r){p(e.isDragging(),"Cannot call hover while not dragging."),p(!e.didDrop(),"Cannot call hover after drop.");for(let n=0;n<t.length;n++){const i=t[n];p(t.lastIndexOf(i)===n,"Expected targetIds to be unique in the passed array.");const o=r.getTarget(i);p(o,"Expected targetIds to be registered.")}}function Gt(t,e,r){for(let n=t.length-1;n>=0;n--){const i=t[n],o=e.getTargetType(i);re(o,r)||t.splice(n,1)}}function Bt(t,e,r){t.forEach(function(n){r.getTarget(n).hover(e,n)})}function Vt(t){return function(){if(t.getMonitor().isDragging())return{type:he}}}function Yt(t){return{beginDrag:It(t),publishDragSource:Vt(t),hover:zt(t),drop:_t(t),endDrag:Ut(t)}}class Xt{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:r}=this.store;function n(o){return(...s)=>{const a=o.apply(e,s);typeof a<"u"&&r(a)}}const i=Yt(this);return Object.keys(i).reduce((o,s)=>{const a=i[s];return o[s]=n(a),o},{})}dispatch(e){this.store.dispatch(e)}constructor(e,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}}function Wt(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Xe(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Zt(t){const{clientOffset:e,initialClientOffset:r,initialSourceClientOffset:n}=t;return!e||!r||!n?null:Xe(Wt(e,n),r)}function Jt(t){const{clientOffset:e,initialClientOffset:r}=t;return!e||!r?null:Xe(e,r)}const k=[],pe=[];k.__IS_NONE__=!0;pe.__IS_ALL__=!0;function Kt(t,e){return t===k?!1:t===pe||typeof e>"u"?!0:Et(e,t).length>0}class Qt{subscribeToStateChange(e,r={}){const{handlerIds:n}=r;p(typeof e=="function","listener must be a function."),p(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let i=this.store.getState().stateId;const o=()=>{const s=this.store.getState(),a=s.stateId;try{a===i||a===i+1&&!Kt(s.dirtyHandlerIds,n)||e()}finally{i=a}};return this.store.subscribe(o)}subscribeToOffsetChange(e){p(typeof e=="function","listener must be a function.");let r=this.store.getState().dragOffset;const n=()=>{const i=this.store.getState().dragOffset;i!==r&&(r=i,e())};return this.store.subscribe(n)}canDragSource(e){if(!e)return!1;const r=this.registry.getSource(e);return p(r,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:r.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const r=this.registry.getTarget(e);if(p(r,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),i=this.getItemType();return re(n,i)&&r.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const r=this.registry.getSource(e,!0);if(p(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(e),i=this.getItemType();return n!==i?!1:r.isDragging(this,e)}isOverTarget(e,r={shallow:!1}){if(!e)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const i=this.registry.getTargetType(e),o=this.getItemType();if(o&&!re(i,o))return!1;const s=this.getTargetIds();if(!s.length)return!1;const a=s.indexOf(e);return n?a===s.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Zt(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Jt(this.store.getState().dragOffset)}constructor(e,r){this.store=e,this.registry=r}}const Ee=typeof global<"u"?global:self,We=Ee.MutationObserver||Ee.WebKitMutationObserver;function Ze(t){return function(){const r=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(r),clearInterval(n),t()}}}function er(t){let e=1;const r=new We(t),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const tr=typeof We=="function"?er:Ze;class rr{enqueueTask(e){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const r=this.index;if(this.index++,e[r].call(),this.index>this.capacity){for(let n=0,i=e.length-this.index;n<i;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=tr(this.flush),this.requestErrorThrow=Ze(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class nr{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}}class ir{create(e){const r=this.freeTasks,n=r.length?r.pop():new nr(this.onError,i=>r[r.length]=i);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const Je=new rr,or=new ir(Je.registerPendingError);function sr(t){Je.enqueueTask(or.create(t))}const ve="dnd-core/ADD_SOURCE",me="dnd-core/ADD_TARGET",De="dnd-core/REMOVE_SOURCE",Y="dnd-core/REMOVE_TARGET";function ar(t){return{type:ve,payload:{sourceId:t}}}function cr(t){return{type:me,payload:{targetId:t}}}function ur(t){return{type:De,payload:{sourceId:t}}}function lr(t){return{type:Y,payload:{targetId:t}}}function dr(t){p(typeof t.canDrag=="function","Expected canDrag to be a function."),p(typeof t.beginDrag=="function","Expected beginDrag to be a function."),p(typeof t.endDrag=="function","Expected endDrag to be a function.")}function fr(t){p(typeof t.canDrop=="function","Expected canDrop to be a function."),p(typeof t.hover=="function","Expected hover to be a function."),p(typeof t.drop=="function","Expected beginDrag to be a function.")}function ne(t,e){if(e&&Array.isArray(t)){t.forEach(r=>ne(r,!1));return}p(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var E;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(E||(E={}));let gr=0;function hr(){return gr++}function pr(t){const e=hr().toString();switch(t){case E.SOURCE:return`S${e}`;case E.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function Ce(t){switch(t[0]){case"S":return E.SOURCE;case"T":return E.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function Ie(t,e){const r=t.entries();let n=!1;do{const{done:i,value:[,o]}=r.next();if(o===e)return!0;n=!!i}while(!n);return!1}class vr{addSource(e,r){ne(e),dr(r);const n=this.addHandler(E.SOURCE,e,r);return this.store.dispatch(ar(n)),n}addTarget(e,r){ne(e,!0),fr(r);const n=this.addHandler(E.TARGET,e,r);return this.store.dispatch(cr(n)),n}containsHandler(e){return Ie(this.dragSources,e)||Ie(this.dropTargets,e)}getSource(e,r=!1){return p(this.isSourceId(e),"Expected a valid source ID."),r&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return p(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return p(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return p(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return Ce(e)===E.SOURCE}isTargetId(e){return Ce(e)===E.TARGET}removeSource(e){p(this.getSource(e),"Expected an existing source."),this.store.dispatch(ur(e)),sr(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){p(this.getTarget(e),"Expected an existing target."),this.store.dispatch(lr(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const r=this.getSource(e);p(r,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=r}unpinSource(){p(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,r,n){const i=pr(e);return this.types.set(i,r),e===E.SOURCE?this.dragSources.set(i,n):e===E.TARGET&&this.dropTargets.set(i,n),i}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const mr=(t,e)=>t===e;function Dr(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function yr(t,e,r=mr){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!r(t[n],e[n]))return!1;return!0}function Or(t=k,e){switch(e.type){case G:break;case ve:case me:case Y:case De:return k;case F:case he:case V:case B:default:return pe}const{targetIds:r=[],prevTargetIds:n=[]}=e.payload,i=wt(r,n);if(!(i.length>0||!yr(r,n)))return k;const s=n[n.length-1],a=r[r.length-1];return s!==a&&(s&&i.push(s),a&&i.push(a)),i}function Sr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Sr(t,i,r[i])})}return t}const xe={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function br(t=xe,e){const{payload:r}=e;switch(e.type){case ge:case F:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case G:return Dr(t.clientOffset,r.clientOffset)?t:Tr({},t,{clientOffset:r.clientOffset});case V:case B:return xe;default:return t}}function wr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){wr(t,i,r[i])})}return t}const Er={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Cr(t=Er,e){const{payload:r}=e;switch(e.type){case F:return j({},t,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case he:return j({},t,{isSourcePublic:!0});case G:return j({},t,{targetIds:r.targetIds});case Y:return t.targetIds.indexOf(r.targetId)===-1?t:j({},t,{targetIds:bt(t.targetIds,r.targetId)});case B:return j({},t,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case V:return j({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function Ir(t=0,e){switch(e.type){case ve:case me:return t+1;case De:case Y:return t-1;default:return t}}function xr(t=0){return t+1}function Nr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Nr(t,i,r[i])})}return t}function Rr(t={},e){return{dirtyHandlerIds:Or(t.dirtyHandlerIds,{type:e.type,payload:Pr({},e.payload,{prevTargetIds:Tt(t,"dragOperation.targetIds",[])})}),dragOffset:br(t.dragOffset,e),refCount:Ir(t.refCount,e),dragOperation:Cr(t.dragOperation,e),stateId:xr(t.stateId)}}function Mr(t,e=void 0,r={},n=!1){const i=jr(n),o=new Qt(i,new vr(i)),s=new Xt(i,o),a=t(s,e,r);return s.receiveBackend(a),s}function jr(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Ve(Rr,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function _r(t,e){if(t==null)return{};var r=Lr(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Lr(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}let Ne=0;const q=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var kr=v.memo(function(e){var{children:r}=e,n=_r(e,["children"]);const[i,o]=Ar(n);return v.useEffect(()=>{if(o){const s=Ke();return++Ne,()=>{--Ne===0&&(s[q]=null)}}},[]),h.jsx(Be.Provider,{value:i,children:r})});function Ar(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=Hr(t.backend,t.context,t.options,t.debugMode),r=!t.context;return[e,r]}function Hr(t,e=Ke(),r,n){const i=e;return i[q]||(i[q]={dragDropManager:Mr(t,e,r,n)}),i[q]}function Ke(){return typeof global<"u"?global:window}var Ur=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r};const R=typeof window<"u"?v.useLayoutEffect:v.useEffect;function qr(t,e,r){const[n,i]=v.useState(()=>e(t)),o=v.useCallback(()=>{const s=e(t);Ur(n,s)||(i(s),r&&r())},[n,t,r]);return R(o),[n,o]}function zr(t,e,r){const[n,i]=qr(t,e,r);return R(function(){const s=t.getHandlerId();if(s!=null)return t.subscribeToStateChange(i,{handlerIds:[s]})},[t,i]),n}function Qe(t,e,r){return zr(e,t||(()=>({})),()=>r.reconnect())}function et(t,e){const r=[...e||[]];return e==null&&typeof t!="function"&&r.push(t),v.useMemo(()=>typeof t=="function"?t():t,r)}function $r(t){return v.useMemo(()=>t.hooks.dragSource(),[t])}function Fr(t){return v.useMemo(()=>t.hooks.dragPreview(),[t])}let Z=!1,J=!1;class Gr{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){p(!Z,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Z=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Z=!1}}isDragging(){if(!this.sourceId)return!1;p(!J,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return J=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{J=!1}}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,r){return this.internalMonitor.isOverTarget(e,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let K=!1;class Br{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}canDrop(){if(!this.targetId)return!1;p(!K,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return K=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{K=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function Vr(t,e,r){const n=r.getRegistry(),i=n.addTarget(t,e);return[i,()=>n.removeTarget(i)]}function Yr(t,e,r){const n=r.getRegistry(),i=n.addSource(t,e);return[i,()=>n.removeSource(i)]}function ie(t,e,r,n){let i=r?r.call(n,t,e):void 0;if(i!==void 0)return!!i;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const o=Object.keys(t),s=Object.keys(e);if(o.length!==s.length)return!1;const a=Object.prototype.hasOwnProperty.bind(e);for(let l=0;l<o.length;l++){const g=o[l];if(!a(g))return!1;const c=t[g],d=e[g];if(i=r?r.call(n,c,d,g):void 0,i===!1||i===void 0&&c!==d)return!1}return!0}function oe(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Xr(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function Wr(t){return(e=null,r=null)=>{if(!v.isValidElement(e)){const o=e;return t(o,r),o}const n=e;return Xr(n),Zr(n,r?o=>t(o,r):t)}}function tt(t){const e={};return Object.keys(t).forEach(r=>{const n=t[r];if(r.endsWith("Ref"))e[r]=t[r];else{const i=Wr(n);e[r]=()=>i}}),e}function Pe(t,e){typeof t=="function"?t(e):t.current=e}function Zr(t,e){const r=t.ref;return p(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?v.cloneElement(t,{ref:n=>{Pe(r,n),Pe(e,n)}}):v.cloneElement(t,{ref:e})}class Jr{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?e?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),r):(this.lastConnectedDragSource=e,r):r}reconnectDragPreview(e=!1){const r=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!ie(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!ie(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=tt({dragSource:(r,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,oe(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,oe(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class Kr{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!ie(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=tt({dropTarget:(r,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,oe(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function L(){const{dragDropManager:t}=v.useContext(Be);return p(t!=null,"Expected drag drop context"),t}function Qr(t,e){const r=L(),n=v.useMemo(()=>new Jr(r.getBackend()),[r]);return R(()=>(n.dragSourceOptions=t||null,n.reconnect(),()=>n.disconnectDragSource()),[n,t]),R(()=>(n.dragPreviewOptions=e||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,e]),n}function en(){const t=L();return v.useMemo(()=>new Gr(t),[t])}class tn{beginDrag(){const e=this.spec,r=this.monitor;let n=null;return typeof e.item=="object"?n=e.item:typeof e.item=="function"?n=e.item(r):n={},n??null}canDrag(){const e=this.spec,r=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(r):!0}isDragging(e,r){const n=this.spec,i=this.monitor,{isDragging:o}=n;return o?o(i):r===e.getSourceId()}endDrag(){const e=this.spec,r=this.monitor,n=this.connector,{end:i}=e;i&&i(r.getItem(),r),n.reconnect()}constructor(e,r,n){this.spec=e,this.monitor=r,this.connector=n}}function rn(t,e,r){const n=v.useMemo(()=>new tn(t,e,r),[e,r]);return v.useEffect(()=>{n.spec=t},[t]),n}function nn(t){return v.useMemo(()=>{const e=t.type;return p(e!=null,"spec.type must be defined"),e},[t])}function on(t,e,r){const n=L(),i=rn(t,e,r),o=nn(t);R(function(){if(o!=null){const[a,l]=Yr(o,i,n);return e.receiveHandlerId(a),r.receiveHandlerId(a),l}},[n,e,r,i,o])}function sn(t,e){const r=et(t,e);p(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=en(),i=Qr(r.options,r.previewOptions);return on(r,n,i),[Qe(r.collect,n,i),$r(i),Fr(i)]}function an(t){return v.useMemo(()=>t.hooks.dropTarget(),[t])}function cn(t){const e=L(),r=v.useMemo(()=>new Kr(e.getBackend()),[e]);return R(()=>(r.dropTargetOptions=t||null,r.reconnect(),()=>r.disconnectDropTarget()),[t]),r}function un(){const t=L();return v.useMemo(()=>new Br(t),[t])}function ln(t){const{accept:e}=t;return v.useMemo(()=>(p(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class dn{canDrop(){const e=this.spec,r=this.monitor;return e.canDrop?e.canDrop(r.getItem(),r):!0}hover(){const e=this.spec,r=this.monitor;e.hover&&e.hover(r.getItem(),r)}drop(){const e=this.spec,r=this.monitor;if(e.drop)return e.drop(r.getItem(),r)}constructor(e,r){this.spec=e,this.monitor=r}}function fn(t,e){const r=v.useMemo(()=>new dn(t,e),[e]);return v.useEffect(()=>{r.spec=t},[t]),r}function gn(t,e,r){const n=L(),i=fn(t,e),o=ln(t);R(function(){const[a,l]=Vr(o,i,n);return e.receiveHandlerId(a),r.receiveHandlerId(a),l},[n,e,i,r,o.map(s=>s.toString()).join("|")])}function rt(t,e){const r=et(t,e),n=un(),i=cn(r.options);return gn(r,n,i),[Qe(r.collect,n,i),an(i)]}function nt(t){let e=null;return()=>(e==null&&(e=t()),e)}function hn(t,e){return t.filter(r=>r!==e)}function pn(t,e){const r=new Set,n=o=>r.add(o);t.forEach(n),e.forEach(n);const i=[];return r.forEach(o=>i.push(o)),i}class vn{enter(e){const r=this.entered.length,n=i=>this.isNodeInDocument(i)&&(!i.contains||i.contains(e));return this.entered=pn(this.entered.filter(n),[e]),r===0&&this.entered.length>0}leave(e){const r=this.entered.length;return this.entered=hn(this.entered.filter(this.isNodeInDocument),e),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class mn{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const i=this.config.exposeProperties[n];i!=null&&(r[n]={value:i(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const it="__NATIVE_FILE__",ot="__NATIVE_URL__",st="__NATIVE_TEXT__",at="__NATIVE_HTML__",Re=Object.freeze(Object.defineProperty({__proto__:null,FILE:it,HTML:at,TEXT:st,URL:ot},Symbol.toStringTag,{value:"Module"}));function Q(t,e,r){const n=e.reduce((i,o)=>i||t.getData(o),"");return n??r}const se={[it]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[at]:{exposeProperties:{html:(t,e)=>Q(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[ot]:{exposeProperties:{urls:(t,e)=>Q(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[st]:{exposeProperties:{text:(t,e)=>Q(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function Dn(t,e){const r=se[t];if(!r)throw new Error(`native type ${t} has no configuration`);const n=new mn(r);return n.loadDataTransfer(e),n}function ee(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(se).filter(r=>{const n=se[r];return n!=null&&n.matchesTypes?n.matchesTypes.some(i=>e.indexOf(i)>-1):!1})[0]||null}const yn=nt(()=>/firefox/i.test(navigator.userAgent)),ct=nt(()=>!!window.safari);class Me{interpolate(e){const{xs:r,ys:n,c1s:i,c2s:o,c3s:s}=this;let a=r.length-1;if(e===r[a])return n[a];let l=0,g=s.length-1,c;for(;l<=g;){c=Math.floor(.5*(l+g));const u=r[c];if(u<e)l=c+1;else if(u>e)g=c-1;else return n[c]}a=Math.max(0,g);const d=e-r[a],f=d*d;return n[a]+i[a]*d+o[a]*f+s[a]*d*f}constructor(e,r){const{length:n}=e,i=[];for(let u=0;u<n;u++)i.push(u);i.sort((u,D)=>e[u]<e[D]?-1:1);const o=[],s=[];let a,l;for(let u=0;u<n-1;u++)a=e[u+1]-e[u],l=r[u+1]-r[u],o.push(a),s.push(l/a);const g=[s[0]];for(let u=0;u<o.length-1;u++){const D=s[u],m=s[u+1];if(D*m<=0)g.push(0);else{a=o[u];const y=o[u+1],O=a+y;g.push(3*O/((O+y)/D+(O+a)/m))}}g.push(s[s.length-1]);const c=[],d=[];let f;for(let u=0;u<g.length-1;u++){f=s[u];const D=g[u],m=1/o[u],y=D+g[u+1]-f-f;c.push((f-D-y)*m),d.push(y*m*m)}this.xs=e,this.ys=r,this.c1s=g,this.c2s=c,this.c3s=d}}const On=1;function ut(t){const e=t.nodeType===On?t:t.parentElement;if(!e)return null;const{top:r,left:n}=e.getBoundingClientRect();return{x:n,y:r}}function U(t){return{x:t.clientX,y:t.clientY}}function Sn(t){var e;return t.nodeName==="IMG"&&(yn()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function Tn(t,e,r,n){let i=t?e.width:r,o=t?e.height:n;return ct()&&t&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}function bn(t,e,r,n,i){const o=Sn(e),a=ut(o?t:e),l={x:r.x-a.x,y:r.y-a.y},{offsetWidth:g,offsetHeight:c}=t,{anchorX:d,anchorY:f}=n,{dragPreviewWidth:u,dragPreviewHeight:D}=Tn(o,e,g,c),m=()=>{let M=new Me([0,.5,1],[l.y,l.y/c*D,l.y+D-c]).interpolate(f);return ct()&&o&&(M+=(window.devicePixelRatio-1)*D),M},y=()=>new Me([0,.5,1],[l.x,l.x/g*u,l.x+u-g]).interpolate(d),{offsetX:O,offsetY:S}=i,b=O===0||O,C=S===0||S;return{x:b?O:y(),y:C?S:m()}}class wn{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,r){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=r}}function En(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function je(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){En(t,i,r[i])})}return t}class Cn{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,r,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,n){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,n);const i=s=>this.handleDragStart(s,e),o=s=>this.handleSelectStart(s);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",i),r.addEventListener("selectstart",o),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",i),r.removeEventListener("selectstart",o),r.setAttribute("draggable","false")}}connectDropTarget(e,r){const n=s=>this.handleDragEnter(s,e),i=s=>this.handleDragOver(s,e),o=s=>this.handleDrop(s,e);return r.addEventListener("dragenter",n),r.addEventListener("dragover",i),r.addEventListener("drop",o),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",i),r.removeEventListener("drop",o)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return je({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(e);return je({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(Re).some(r=>Re[r]===e)}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=Dn(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=i=>{const o=this.sourceNodes.get(i);return o&&ut(o)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=i=>!!(i&&this.document&&this.document.body&&this.document.body.contains(i)),this.endDragIfSourceWasRemovedFromDOM=()=>{const i=this.currentDragSourceNode;i==null||this.isNodeInDocument(i)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=i=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(i||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=i=>{if(i.defaultPrevented)return;const{dragStartSourceIds:o}=this;this.dragStartSourceIds=null;const s=U(i);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(o||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:s});const{dataTransfer:a}=i,l=ee(a);if(this.monitor.isDragging()){if(a&&typeof a.setDragImage=="function"){const c=this.monitor.getSourceId(),d=this.sourceNodes.get(c),f=this.sourcePreviewNodes.get(c)||d;if(f){const{anchorX:u,anchorY:D,offsetX:m,offsetY:y}=this.getCurrentSourcePreviewNodeOptions(),b=bn(d,f,s,{anchorX:u,anchorY:D},{offsetX:m,offsetY:y});a.setDragImage(f,b.x,b.y)}}try{a==null||a.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(i.target);const{captureDraggingState:g}=this.getCurrentSourcePreviewNodeOptions();g?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(a&&!a.types&&(i.target&&!i.target.hasAttribute||!i.target.hasAttribute("draggable")))return;i.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=i=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}if(!this.enterLeaveCounter.enter(i.target)||this.monitor.isDragging())return;const{dataTransfer:a}=i,l=ee(a);l&&this.beginDragNativeItem(l,a)},this.handleTopDragEnter=i=>{const{dragEnterTargetIds:o}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=i.altKey,o.length>0&&this.actions.hover(o,{clientOffset:U(i)}),o.some(a=>this.monitor.canDropOnTarget(a))&&(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=i=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}},this.handleTopDragOver=i=>{const{dragOverTargetIds:o}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}this.altKeyPressed=i.altKey,this.lastClientOffset=U(i),this.scheduleHover(o),(o||[]).some(a=>this.monitor.canDropOnTarget(a))?(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?i.preventDefault():(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=i=>{this.isDraggingNativeItem()&&i.preventDefault(),this.enterLeaveCounter.leave(i.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=i=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var o;i.preventDefault(),(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}else ee(i.dataTransfer)&&i.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=i=>{const{dropTargetIds:o}=this;this.dropTargetIds=[],this.actions.hover(o,{clientOffset:U(i)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=i=>{const o=i.target;typeof o.dragDrop=="function"&&(o.tagName==="INPUT"||o.tagName==="SELECT"||o.tagName==="TEXTAREA"||o.isContentEditable||(i.preventDefault(),o.dragDrop()))},this.options=new wn(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new vn(this.isNodeInDocument)}}const In=function(e,r,n){return new Cn(e,r,n)},ae=T.object({id:T.string(),text:T.string(),checked:T.boolean().default(!1)});T.array(ae).default([]);T.object({id:T.string(),index:T.number()});const xn=t=>{const{handleTodoChecked:e,handleDrop:r,deleteTodoItem:n,...i}=t,o=v.useRef(null),[,s]=rt({accept:"todo",hover(l,g){var y;if(!o.current)return;const c=l.index,d=i.index;if(c===d)return;const f=g.getClientOffset();if(f==null)return;const u=(y=o.current)==null?void 0:y.getBoundingClientRect(),D=(u.bottom-u.top)/2,m=f.y-u.top;c<d&&m<D||c>d&&m>D||(r(c,d),l.index=d)}}),[,a]=sn({type:"todo",item:{id:i.id,index:t.index}});return a(s(o)),h.jsx("div",{ref:o,children:h.jsx("div",{className:"flex items-center hover:bg-gray-800 rounded-md",children:h.jsxs("div",{className:"flex grow ",children:[h.jsx("div",{className:"flex items-center px-1",children:h.jsx("input",{checked:i.checked??!1,id:"checked-checkbox",type:"checkbox",value:"",className:"w-4 h-4 accent-green-600 bg-gray-200 rounded",onChange:l=>e(i.id,l)})}),h.jsx("div",{className:`grow text-start py-2 px-1 text-gray-200 border-gray-300 ${i.checked&&"line-through"} cursor-pointer`,children:i.text}),h.jsx("button",{type:"button",onClick:()=>n(i.id),className:"text-gray-200 text-lg py-2 px-1 hover:bg-gray-800 rounded-md",children:h.jsx(yt,{})})]})})})},Nn=({children:t,className:e})=>{const[,r]=rt(()=>({accept:"todo"}));return h.jsx("div",{ref:r,className:e,children:t})},Pn=()=>{const[t,e]=v.useState([]),[r,n]=v.useState(""),i=g=>{n(g.target.value)},o=g=>{g.preventDefault(),r.trim()&&(e([...t,ae.parse({id:fe(),text:r})]),n(""))},s=(g,c)=>{e(d=>{const f=[...d];let u=f.findIndex(D=>D.id===g);return f[u]=ae.parse({...f[u],checked:c.target.checked}),f})},a=(g,c)=>{e(d=>{let f=[...d];const[u]=f.splice(g,1);return f.splice(c,0,u),f})},l=g=>{e(c=>c.filter(d=>d.id!==g))};return h.jsxs("div",{className:"max-w-lg mx-auto text-gray-800 bg-gray-900 p-2 rounded-md",children:[h.jsx("div",{children:h.jsx("h1",{className:"text-gray-300 text-2xl font-bold mb-2",children:"Todo List"})}),h.jsx("form",{onSubmit:o,className:`flex gap-2 outline-0 ${t&&t[0]?"mb-4":""}`,children:h.jsxs("div",{className:"flex grow relative",children:[h.jsx("div",{className:"text-gray-300 absolute-center-y left-2",children:h.jsx(Dt,{})}),h.jsx("input",{type:"text",value:r,onChange:i,placeholder:"Add a task",className:"flex-1 placeholder-gray-500 text-gray-200 bg-gray-600 rounded-md p-2 reset-input pl-8"})]})}),h.jsx(kr,{backend:In,children:h.jsx(Nn,{className:"list-container max-h-[32rem]",children:t.map((g,c)=>h.jsx(xn,{index:c,handleTodoChecked:s,handleDrop:a,deleteTodoItem:l,...g},g.id))})})]})},Rn=Pn,Mn="_mount_1qauq_1",te={"cell-animation":"_cell-animation_1qauq_1",mount:Mn,"cell-move-animation":"_cell-move-animation_1qauq_21","end-toast":"_end-toast_1qauq_25","end-toast-animation":"_end-toast-animation_1qauq_1"},_e=t=>JSON.parse(JSON.stringify(t)),jn=(t,e,r)=>{const n=i=>{t.forEach((o,s)=>{i.key==o&&e[s](r)})};v.useEffect(()=>(window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}),[r])},_n=t=>{const[e,r]=v.useState(null);if(t&&t.sizes.length<1)throw Error("invalid params");let n=t.sizes.sort((o,s)=>s.minSize-o.minSize);const i=()=>{let o=window.innerWidth;for(let s=0;s<n.length;s++)if(o>=n[s].minSize){r(n[s].key);break}};return v.useEffect(()=>(i(),window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}),[]),e},Ln=()=>{const t=A(!1);return A(e=>e(t),(e,r)=>{r(t,n=>!n)})},kn="Left",An="Right",Hn="Up",Un="Down",_={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},ce={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},Le="mousemove",ke="mouseup",qn="touchend",zn="touchmove",$n="touchstart";function Fn(t,e,r,n){return t>e?r>0?An:kn:n>0?Un:Hn}function Ae(t,e){if(e===0)return t;const r=Math.PI/180*e,n=t[0]*Math.cos(r)+t[1]*Math.sin(r),i=t[1]*Math.cos(r)-t[0]*Math.sin(r);return[n,i]}function Gn(t,e){const r=c=>{const d="touches"in c;d&&c.touches.length>1||t((f,u)=>{u.trackMouse&&!d&&(document.addEventListener(Le,n),document.addEventListener(ke,s));const{clientX:D,clientY:m}=d?c.touches[0]:c,y=Ae([D,m],u.rotationAngle);return u.onTouchStartOrOnMouseDown&&u.onTouchStartOrOnMouseDown({event:c}),Object.assign(Object.assign(Object.assign({},f),ce),{initial:y.slice(),xy:y,start:c.timeStamp||0})})},n=c=>{t((d,f)=>{const u="touches"in c;if(u&&c.touches.length>1)return d;if(c.timeStamp-d.start>f.swipeDuration)return d.swiping?Object.assign(Object.assign({},d),{swiping:!1}):d;const{clientX:D,clientY:m}=u?c.touches[0]:c,[y,O]=Ae([D,m],f.rotationAngle),S=y-d.xy[0],b=O-d.xy[1],C=Math.abs(S),N=Math.abs(b),M=(c.timeStamp||0)-d.start,ht=Math.sqrt(C*C+N*N)/(M||1),pt=[S/(M||1),b/(M||1)],X=Fn(C,N,S,b),ye=typeof f.delta=="number"?f.delta:f.delta[X.toLowerCase()]||_.delta;if(C<ye&&N<ye&&!d.swiping)return d;const H={absX:C,absY:N,deltaX:S,deltaY:b,dir:X,event:c,first:d.first,initial:d.initial,velocity:ht,vxvy:pt};H.first&&f.onSwipeStart&&f.onSwipeStart(H),f.onSwiping&&f.onSwiping(H);let Oe=!1;return(f.onSwiping||f.onSwiped||f[`onSwiped${X}`])&&(Oe=!0),Oe&&f.preventScrollOnSwipe&&f.trackTouch&&c.cancelable&&c.preventDefault(),Object.assign(Object.assign({},d),{first:!1,eventData:H,swiping:!0})})},i=c=>{t((d,f)=>{let u;if(d.swiping&&d.eventData){if(c.timeStamp-d.start<f.swipeDuration){u=Object.assign(Object.assign({},d.eventData),{event:c}),f.onSwiped&&f.onSwiped(u);const D=f[`onSwiped${u.dir}`];D&&D(u)}}else f.onTap&&f.onTap({event:c});return f.onTouchEndOrOnMouseUp&&f.onTouchEndOrOnMouseUp({event:c}),Object.assign(Object.assign(Object.assign({},d),ce),{eventData:u})})},o=()=>{document.removeEventListener(Le,n),document.removeEventListener(ke,s)},s=c=>{o(),i(c)},a=(c,d)=>{let f=()=>{};if(c&&c.addEventListener){const u=Object.assign(Object.assign({},_.touchEventOptions),d.touchEventOptions),D=[[$n,r,u],[zn,n,Object.assign(Object.assign({},u),d.preventScrollOnSwipe?{passive:!1}:{})],[qn,i,u]];D.forEach(([m,y,O])=>c.addEventListener(m,y,O)),f=()=>D.forEach(([m,y])=>c.removeEventListener(m,y))}return f},g={ref:c=>{c!==null&&t((d,f)=>{if(d.el===c)return d;const u={};return d.el&&d.el!==c&&d.cleanUpTouch&&(d.cleanUpTouch(),u.cleanUpTouch=void 0),f.trackTouch&&c&&(u.cleanUpTouch=a(c,f)),Object.assign(Object.assign(Object.assign({},d),{el:c}),u)})}};return e.trackMouse&&(g.onMouseDown=r),[g,a]}function Bn(t,e,r,n){return!e.trackTouch||!t.el?(t.cleanUpTouch&&t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:void 0})):t.cleanUpTouch?e.preventScrollOnSwipe!==r.preventScrollOnSwipe||e.touchEventOptions.passive!==r.touchEventOptions.passive?(t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:n(t.el,e)})):t:Object.assign(Object.assign({},t),{cleanUpTouch:n(t.el,e)})}function Vn(t){const{trackMouse:e}=t,r=v.useRef(Object.assign({},ce)),n=v.useRef(Object.assign({},_)),i=v.useRef(Object.assign({},n.current));i.current=Object.assign({},n.current),n.current=Object.assign(Object.assign({},_),t);let o;for(o in _)n.current[o]===void 0&&(n.current[o]=_[o]);const[s,a]=v.useMemo(()=>Gn(l=>r.current=l(r.current,n.current),{trackMouse:e}),[e]);return r.current=Bn(r.current,n.current,i.current,a),s}function Yn(t,e,r){const[n,i]=de(t,r),o=v.useCallback(s=>{i(a=>e(a,s))},[i,e]);return[n,o]}const Xn=(t,e,r)=>{let n=t.map(r),i=e.map(r);return JSON.stringify(n)===JSON.stringify(i)},z=t=>[t*4,t*4+1,t*4+2,t*4+3],He=t=>z(t).reverse(),$=t=>[t,t+4,t+8,t+12],Ue=t=>$(t).reverse(),lt=t=>({row:Math.floor(t/4),col:t%4}),qe=T.object({row:T.number().max(3),col:T.number().max(3)}),Wn=T.object({id:T.string(),val:T.number().default(0),cor:qe,prevCor:qe.optional()}),Zn=T.array(Wn),dt=Ln(),Jn=A(t=>t(dt)),Kn=A(null,(t,e)=>{e(dt)});function Qn(){const[t]=de(Jn);return t}const ei=A(gt());function ti(){const[,t]=de(Kn);return Yn(ei,(e,r)=>{const n=ni(e,r);return(r.type==="restart"||ri(n))&&t(),n})}function ft(t,e,r){return t.find(n=>n.cor.row===e&&n.cor.col===r)}function ze(t,e){return[0,1,2,3].map(r=>e(r).map(lt)).map(r=>r.map(({row:n,col:i})=>ft(t,n,i)))}function ue(t){for(let e=0;e<t.length;e++)for(let r=0;r<t[e].length-1;r++){let n=t[e][r],i=t[e][r+1];if(n!==null&&i!==null&&n.val===i.val)return i.val}return-1}const ri=t=>{const e=!t.every(o=>o.val!==0);let r=ze(t,z),n=ze(t,$),i=ue(r)===-1&&ue(n)===-1;return!e&&i};function ni(t,e){let r=t;if(e.type==="arrowkey"){const n=si(e.payload.lines,r).map(o=>{let s=o.map(_e);return s.forEach(a=>{a.prevCor&&(a.prevCor=void 0)}),ii(s)}).flat();if(n.length===0)return t;let i=_e(t);return n.forEach(({merged:o,unmount:s})=>{o.forEach(a=>{let l=i.findIndex(g=>g.id===a.id);l!==-1?i[l]=a:i.push(a)}),s.forEach(a=>{i=i.filter(l=>l.id!==a)})}),Xn(t,i,o=>({id:o.id,val:o.val,cor:o.cor}))?t:(i.findIndex(o=>o.val===0)!==-1&&(i=le(i)),i)}else if(e.type==="restart")return gt();throw Error("Unknown action")}const ii=t=>{let e=[],r=0,n=1;for(;r<3;){if(n>=4){r++,n=r+1;continue}if(t[r].val===t[n].val&&t[r].val!=0)t[n].prevCor=t[n].cor,t[n].cor=t[r].cor,t[n].val*=2,e.push(t[r].id),t[r]=t[n],t[n]={id:"tombstone",val:0,cor:t[n].prevCor},r++;else if(t[r].val===0&&t[n].val!=0)t[n].prevCor=t[n].cor,t[n].cor=t[r].cor,e.push(t[r].id),t[r]=t[n],t[n]={id:"tombstone",val:0,cor:t[n].prevCor};else if(t[r].val!==t[n].val&&t[n].val!=0){r++,n=r+1;continue}n++}return t.forEach(i=>{i.id==="tombstone"&&(i.id=fe())}),e=e.filter(i=>!t.find(o=>o.id===i)),{merged:t,unmount:e}};function oi(t){let e=0;for(let r=t.length-1;r>=0&&t[r]===0;r--)e++;return e}const si=(t,e)=>t.map(r=>r.map(({row:n,col:i})=>ft(e,n,i))).filter(r=>!r.every(n=>n.val===0)).filter(r=>{const n=r.filter(l=>l.val===0).length,i=oi(r.map(l=>l.val)),o=n!==i,s=ue([r]);return o||s>0});function gt(){let t=Array(16).fill(null);for(let e=0;e<16;e++){const r={val:0,cor:{row:Math.floor(e/4),col:e%4},id:fe()};t[e]=r}return t=Zn.parse(t),t=le(t),t=le(t),t}function ai(){return Math.random()<=.9?2:4}function le(t){let e;do e=Math.floor(Math.random()*16);while(t[e].val!==0);return t[e].val=ai(),t}const ci=["#392A1A","#473616","#7f410b","#8D3608","#912107","#A62507","#4E3E0A","#69530C","#715A0C","#EDC53F","#EEC12E"];function ui(){const[t,e]=ti(),r=Qn(),n=_n({sizes:[{minSize:640,key:"sm"},{minSize:0,key:"xs"}]}),i=li(e);let o=s=>(n==="sm"?8:4)+(n==="sm"?118:76.75)*s;return h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"py-2 px-4 text-sm font-semibold text-center",children:"Canvas-less created in react & css animation"}),h.jsxs("div",{...i,className:"relative mx-auto sm:h-[480px] sm:w-[480px] w-[311px] aspect-square p-1 sm:p-2 rounded-md bg-emerald-200 sm:gap-2 gap-1",children:[t.map((s,a)=>h.jsx("div",{className:"absolute w-[72.75px] h-[72.75px] sm:w-[110px] sm:h-[110px] bg-slate-700 flex justify-center items-center select-none}",style:{top:`${o(s.cor.row)}px`,left:`${o(s.cor.col)}px`}},a)),t.map(s=>h.jsx("div",{className:`absolute w-[72.75px] h-[72.75px] sm:w-[110px] sm:h-[110px] bg-slate-700 flex justify-center items-center font-extrabold sm:text-4xl text-xl select-none ${te["cell-animation"]} ${s.prevCor?te["cell-move-animation"]:""} ${s.val!==0?"z-10":"z-0"}`,style:{backgroundColor:`${+s.val==0?"":ci[Math.log2(+s.val)]}`,top:`${o(s.cor.row)}px`,left:`${o(s.cor.col)}px`},children:h.jsx("div",{className:"flex flex-col",children:h.jsx("div",{children:s.val!==0?s.val:""})})},s.id))]}),r&&h.jsxs("div",{className:`${r&&te["end-toast"]} absolute top-1/2 left-1/2 flex flex-col justify-center items-center gap-4 w-64 h-36 z-10 text-gray-800 bg-gray-300 bg-opacity-80 rounded-md p-2`,children:[h.jsx("div",{className:"select-none font-bold",children:"End of game"}),h.jsx("div",{className:"text-gray-200 bg-green-800 rounded-md px-10 py-2 cursor-pointer",onClick:()=>e({type:"restart"}),children:"Restart"})]})]})}const li=t=>(jn(["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],[I(He,t),I(z,t),I($,t),I(Ue,t)],[]),Vn({onSwipedRight:I(He,t),onSwipedLeft:I(z,t),onSwipedUp:I($,t),onSwipedDown:I(Ue,t)})),I=(t,e)=>()=>{let r=[0,1,2,3].map(n=>t(n).map(lt));e({type:"arrowkey",payload:{lines:r}})};function gi(){const[t,e]=v.useState(2);return h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("div",{className:"flex flex-wrap w-full justify-center gap-2 text-center mb-2",children:[h.jsx("div",{children:h.jsx("button",{className:"py-2 px-8 w-full bg-green-500 text-white",onClick:()=>e(1),children:"TodoList"})}),h.jsx("div",{children:h.jsx("button",{className:"py-2 px-8 w-full bg-orange-500 text-white",onClick:()=>e(2),children:"2048"})})]}),h.jsx("div",{className:"w-full h-full",children:h.jsxs("div",{children:[t==1&&h.jsx(v.Suspense,{fallback:h.jsx("div",{children:"Loading..."}),children:h.jsx(Rn,{})}),t==2&&h.jsx(v.Suspense,{fallback:h.jsx("div",{children:"Loading..."}),children:h.jsx(ui,{})})]})})]})}export{gi as default};
